import{getData,createBrowsePage,showErrorPopup,showBigLoader,hideBigLoader,createFooter,closeAllNotClicked,createSpecifiedSectionPoster,createSearchEngine}from"./components.min.js";document.addEventListener("DOMContentLoaded",function(){const e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}},t=window.location.href,o=async(e,o,r)=>{if(t.includes("movies.html")){const t=await i(e);return createSpecifiedSectionPoster(t,o)}if(t.includes("series.html")){const t=await n(e);return createSpecifiedSectionPoster(t,o)}if(!t.includes("my-list.html")){if(t.includes("search.html")){const t=await i(e,1);return r.append(createSearchEngine(o)),a(e),createSpecifiedSectionPoster(t,o)}window.location.href="404.html"}},i=async(t,o)=>{const i=[],n=[];for(let i=0;i<(o||3);i++){const o=await fetch(`https://api.themoviedb.org/3/discover/movie?language=${t||"en-US"}&page=${i+1}`,e),a=await o.json();n.push(...a.results)}return i.push(n),i},n=async t=>{const o=[null],i=[];for(let o=0;o<3;o++){const n=await fetch(`https://api.themoviedb.org/3/discover/tv?language=${t||"en-US"}&page=${o+1}`,e),a=await n.json();i.push(...a.results)}return o.push(i),o},a=e=>{const t=document.querySelector(".search-engine__input");let o=!1;t?.addEventListener("input",t=>{if(o)return;o=!0;const i=t.target.value;r(i,e),setTimeout(()=>{o=!1,r(i,e)},1e3)})},r=async(t,o)=>{const i=`https://api.themoviedb.org/3/search/multi?query=${encodeURIComponent(t)}&language=${o}`,n=await fetch(i,e),a=await n.json();console.log(a)};(async()=>{const e=getData(),t=e?.translations,i=e?.preferredLanguage,n=e?.loggedIn,a=document.querySelector(".container"),r=e?.currentProfile;if(e&&n&&r)try{a.append(showBigLoader()),a.append(createBrowsePage(t));const e=await o(i,t,a);a.append(e),a.append(createFooter(t))}catch{showErrorPopup(t.browsePage.loadingDataError,"#dc4a34")}finally{hideBigLoader()}else window.location.href="/"})(),window.addEventListener("click",e=>{closeAllNotClicked(e)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdHMubWluLmpzIiwibmFtZXMiOlsiZ2V0RGF0YSIsImNyZWF0ZUJyb3dzZVBhZ2UiLCJzaG93RXJyb3JQb3B1cCIsInNob3dCaWdMb2FkZXIiLCJoaWRlQmlnTG9hZGVyIiwiY3JlYXRlRm9vdGVyIiwiY2xvc2VBbGxOb3RDbGlja2VkIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsImNyZWF0ZVNlYXJjaEVuZ2luZSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wdGlvbnMiLCJtZXRob2QiLCJoZWFkZXJzIiwiYWNjZXB0IiwiQXV0aG9yaXphdGlvbiIsImNhdGVnb3J5Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiZ2V0RmlsbXNPclNlcmllcyIsImFzeW5jIiwiY3VycmVudExhbmd1YWdlIiwidHJhbnNsYXRpb25zIiwiY29udGFpbmVyIiwiaW5jbHVkZXMiLCJmaWxtcyIsInJlbmRlckZpbG1zIiwic2VyaWVzIiwicmVuZGVyU2VyaWVzIiwiYXBwZW5kIiwiaGFuZGxlU2VhcmNoRW5naW5lIiwiY3VzdG9tQW1vdW50IiwiZmlsbXNBcnIiLCJjaG9vc2VuRmlsbXMiLCJpIiwicmVzcG9uc2UiLCJmZXRjaCIsImZpbG1EYXRhIiwianNvbiIsInB1c2giLCJyZXN1bHRzIiwic2VyaWVzQXJyIiwiY2hvb3NlblNlcmllcyIsInNlcmllc0RhdGEiLCJzZWFyY2hFbmdpbmUiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoRmxhZyIsImUiLCJ2YWx1ZSIsInRhcmdldCIsImZpbmRGaWxtc0J5S2V5d29yZCIsInNldFRpbWVvdXQiLCJpbnB1dFZhbHVlIiwic2VhcmNoRmlsbVVSTCIsImVuY29kZVVSSUNvbXBvbmVudCIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwidXNlckRhdGEiLCJwcmVmZXJyZWRMYW5ndWFnZSIsImlzTG9nZ2VkSW4iLCJsb2dnZWRJbiIsImN1cnJlbnRQcm9maWxlIiwic2VjdGlvbiIsImJyb3dzZVBhZ2UiLCJsb2FkaW5nRGF0YUVycm9yIiwiY2hlY2tBdXRob3JpemF0aW9uIl0sInNvdXJjZXMiOlsibGlzdHMuanMiXSwibWFwcGluZ3MiOiJPQUNDQSxRQUNBQyxpQkFDQUMsZUFDQUMsY0FDQUMsY0FDQUMsYUFDQUMsbUJBQ0FDLDZCQUNBQyx1QkFDTSxzQkFFUEMsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUM3QyxNQUFNQyxFQUFVLENBQ2ZDLE9BQVEsTUFDUkMsUUFBUyxDQUNSQyxPQUFRLG1CQUNSQyxjQUNDLHlQQU9HQyxFQUFXQyxPQUFPQyxTQUFTQyxLQW9DM0JDLEVBQW1CQyxNQUFPQyxFQUFpQkMsRUFBY0MsS0FDOUQsR0FBSVIsRUFBU1MsU0FBUyxlQUFnQixDQUNyQyxNQUFNQyxRQUFjQyxFQUFZTCxHQUNoQyxPQUFPZiw2QkFBNkJtQixFQUFPSCxFQUM1QyxDQUNBLEdBQUlQLEVBQVNTLFNBQVMsZUFBZ0IsQ0FDckMsTUFBTUcsUUFBZUMsRUFBYVAsR0FDbEMsT0FBT2YsNkJBQTZCcUIsRUFBUUwsRUFDN0MsQ0FDQSxJQUFJUCxFQUFTUyxTQUFTLGdCQUF0QixDQUlBLEdBQUlULEVBQVNTLFNBQVMsZUFBZ0IsQ0FDckMsTUFBTUMsUUFBY0MsRUFBWUwsRUFBaUIsR0FLakQsT0FKQUUsRUFBVU0sT0FBT3RCLG1CQUFtQmUsSUFFcENRLEVBQW1CVCxHQUVaZiw2QkFBNkJtQixFQUFPSCxFQUM1QyxDQUVBTixPQUFPQyxTQUFTQyxLQUFPLFVBVnZCLEdBYUtRLEVBQWNOLE1BQU9DLEVBQWlCVSxLQUMzQyxNQUFNQyxFQUFXLEdBQ1hDLEVBQWUsR0FFckIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEdBQUtILEdBcEVBLEdBb0VnQ0csSUFBSyxDQUN6RCxNQUFNQyxRQUFpQkMsTUFDdEIsd0RBQWNmLEdBQW1CLGdCQUFnQmEsRUFBSSxJQUNyRHhCLEdBRUsyQixRQUFpQkYsRUFBU0csT0FDaENMLEVBQWFNLFFBQVFGLEVBQVNHLFFBQy9CLENBR0EsT0FGQVIsRUFBU08sS0FBS04sR0FFUEQsR0FFRkosRUFBZVIsTUFBT0MsSUFDM0IsTUFBTW9CLEVBQVksQ0FBQyxNQUNiQyxFQUFnQixHQUN0QixJQUFLLElBQUlSLEVBQUksRUFBR0EsRUFuRkssRUFtRmNBLElBQUssQ0FDdkMsTUFBTUMsUUFBaUJDLE1BQ3RCLHFEQUFlZixHQUFtQixnQkFBZ0JhLEVBQUksSUFDdER4QixHQUVLaUMsUUFBbUJSLEVBQVNHLE9BQ2xDSSxFQUFjSCxRQUFRSSxFQUFXSCxRQUNsQyxDQUlBLE9BRkFDLEVBQVVGLEtBQUtHLEdBRVJELEdBR0ZYLEVBQXNCVCxJQUMzQixNQUFNdUIsRUFBZXBDLFNBQVNxQyxjQUFjLHlCQUU1QyxJQUFJQyxHQUFhLEVBR2pCRixHQUFjbkMsaUJBQWlCLFFBQVVzQyxJQUN4QyxHQUFJRCxFQUFZLE9BQ2hCQSxHQUFhLEVBRWIsTUFBTUUsRUFBUUQsRUFBRUUsT0FBT0QsTUFDdkJFLEVBQW1CRixFQUFPM0IsR0FFMUI4QixXQUFXLEtBQ1ZMLEdBQWEsRUFDYkksRUFBbUJGLEVBQU8zQixJQVhOLFFBZ0JqQjZCLEVBQXFCOUIsTUFBT2dDLEVBQVkvQixLQUM3QyxNQUFNZ0MsRUFBZ0IsbURBQW1EQyxtQkFDeEVGLGVBQ2EvQixJQUNSYyxRQUFpQkMsTUFBTWlCLEVBQWUzQyxHQUN0QzZDLFFBQWFwQixFQUFTRyxPQUU1QmtCLFFBQVFDLElBQUlGLElBdkhjbkMsV0FDMUIsTUFBTXNDLEVBQVczRCxVQUNYdUIsRUFBZW9DLEdBQVVwQyxhQUN6QkQsRUFBa0JxQyxHQUFVQyxrQkFDNUJDLEVBQWFGLEdBQVVHLFNBQ3ZCdEMsRUFBWWYsU0FBU3FDLGNBQWMsY0FDbkNpQixFQUFpQkosR0FBVUksZUFFakMsR0FBS0osR0FBYUUsR0FBZUUsRUFLakMsSUFDQ3ZDLEVBQVVNLE9BQU8zQixpQkFFakJxQixFQUFVTSxPQUFPN0IsaUJBQWlCc0IsSUFFbEMsTUFBTXlDLFFBQWdCNUMsRUFDckJFLEVBQ0FDLEVBQ0FDLEdBR0RBLEVBQVVNLE9BQU9rQyxHQUVqQnhDLEVBQVVNLE9BQU96QixhQUFha0IsR0FDL0IsQ0FBRSxNQUNEckIsZUFBZXFCLEVBQWEwQyxXQUFXQyxpQkFBa0IsVUFDMUQsQ0FBRSxRQUNEOUQsZUFDRCxNQXRCQ2EsT0FBT0MsU0FBU0MsS0FBTyxLQWlIekJnRCxHQUNBbEQsT0FBT1AsaUJBQWlCLFFBQVVzQyxJQUNqQzFDLG1CQUFtQjBDLElBRXJCIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcblx0Z2V0RGF0YSxcclxuXHRjcmVhdGVCcm93c2VQYWdlLFxyXG5cdHNob3dFcnJvclBvcHVwLFxyXG5cdHNob3dCaWdMb2FkZXIsXHJcblx0aGlkZUJpZ0xvYWRlcixcclxuXHRjcmVhdGVGb290ZXIsXHJcblx0Y2xvc2VBbGxOb3RDbGlja2VkLFxyXG5cdGNyZWF0ZVNwZWNpZmllZFNlY3Rpb25Qb3N0ZXIsXHJcblx0Y3JlYXRlU2VhcmNoRW5naW5lLFxyXG59IGZyb20gXCIuL2NvbXBvbmVudHMubWluLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3Qgb3B0aW9ucyA9IHtcclxuXHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0YWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0QXV0aG9yaXphdGlvbjpcclxuXHRcdFx0XHRcIkJlYXJlciBleUpoYkdjaU9pSklVekkxTmlKOS5leUpoZFdRaU9pSXpOVFl3WmpNNE1qVTNORFExWkdFMVpHWmtZVFl4WXpFMFlXTTRZbU00TXlJc0ltNWlaaUk2TVRjMU9UYzJOVEF6T0M0NU5Dd2ljM1ZpSWpvaU5qaGxNMlV5TW1VeU5qWTVOelk0TXpobFl6STNOekk1SWl3aWMyTnZjR1Z6SWpwYkltRndhVjl5WldGa0lsMHNJblpsY25OcGIyNGlPakY5Lm51R2ZFamNsSkxlcG16ekhpMm9tTmhwMjlUSGdySmY5TnY2RDRfZ1RkeEFcIixcclxuXHRcdH0sXHJcblx0fTtcclxuXHJcblx0Y29uc3QgcG9zdGVyc0Ftb3VudCA9IDM7XHJcblx0Y29uc3QgZmlsbXNVUkwgPSBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9kaXNjb3Zlci9tb3ZpZT9sYW5ndWFnZT1gO1xyXG5cdGNvbnN0IHNlcmllc1VSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL3R2P2xhbmd1YWdlPWA7XHJcblx0Y29uc3QgY2F0ZWdvcnkgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuXHJcblx0Y29uc3QgY2hlY2tBdXRob3JpemF0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCB0cmFuc2xhdGlvbnMgPSB1c2VyRGF0YT8udHJhbnNsYXRpb25zO1xyXG5cdFx0Y29uc3QgY3VycmVudExhbmd1YWdlID0gdXNlckRhdGE/LnByZWZlcnJlZExhbmd1YWdlO1xyXG5cdFx0Y29uc3QgaXNMb2dnZWRJbiA9IHVzZXJEYXRhPy5sb2dnZWRJbjtcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5cdFx0Y29uc3QgY3VycmVudFByb2ZpbGUgPSB1c2VyRGF0YT8uY3VycmVudFByb2ZpbGU7XHJcblxyXG5cdFx0aWYgKCF1c2VyRGF0YSB8fCAhaXNMb2dnZWRJbiB8fCAhY3VycmVudFByb2ZpbGUpIHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlQnJvd3NlUGFnZSh0cmFuc2xhdGlvbnMpKTtcclxuXHJcblx0XHRcdGNvbnN0IHNlY3Rpb24gPSBhd2FpdCBnZXRGaWxtc09yU2VyaWVzKFxyXG5cdFx0XHRcdGN1cnJlbnRMYW5ndWFnZSxcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMsXHJcblx0XHRcdFx0Y29udGFpbmVyXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kKHNlY3Rpb24pO1xyXG5cclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZChjcmVhdGVGb290ZXIodHJhbnNsYXRpb25zKSk7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAodHJhbnNsYXRpb25zLmJyb3dzZVBhZ2UubG9hZGluZ0RhdGFFcnJvciwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGdldEZpbG1zT3JTZXJpZXMgPSBhc3luYyAoY3VycmVudExhbmd1YWdlLCB0cmFuc2xhdGlvbnMsIGNvbnRhaW5lcikgPT4ge1xyXG5cdFx0aWYgKGNhdGVnb3J5LmluY2x1ZGVzKFwibW92aWVzLmh0bWxcIikpIHtcclxuXHRcdFx0Y29uc3QgZmlsbXMgPSBhd2FpdCByZW5kZXJGaWxtcyhjdXJyZW50TGFuZ3VhZ2UpO1xyXG5cdFx0XHRyZXR1cm4gY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlcihmaWxtcywgdHJhbnNsYXRpb25zKTtcclxuXHRcdH1cclxuXHRcdGlmIChjYXRlZ29yeS5pbmNsdWRlcyhcInNlcmllcy5odG1sXCIpKSB7XHJcblx0XHRcdGNvbnN0IHNlcmllcyA9IGF3YWl0IHJlbmRlclNlcmllcyhjdXJyZW50TGFuZ3VhZ2UpO1xyXG5cdFx0XHRyZXR1cm4gY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlcihzZXJpZXMsIHRyYW5zbGF0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRpZiAoY2F0ZWdvcnkuaW5jbHVkZXMoXCJteS1saXN0Lmh0bWxcIikpIHtcclxuXHRcdFx0Ly8gd3lyZW5kZXJ1aiBsaXN0xJlcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNhdGVnb3J5LmluY2x1ZGVzKFwic2VhcmNoLmh0bWxcIikpIHtcclxuXHRcdFx0Y29uc3QgZmlsbXMgPSBhd2FpdCByZW5kZXJGaWxtcyhjdXJyZW50TGFuZ3VhZ2UsIDEpO1xyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZVNlYXJjaEVuZ2luZSh0cmFuc2xhdGlvbnMpKTtcclxuXHJcblx0XHRcdGhhbmRsZVNlYXJjaEVuZ2luZShjdXJyZW50TGFuZ3VhZ2UpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGNyZWF0ZVNwZWNpZmllZFNlY3Rpb25Qb3N0ZXIoZmlsbXMsIHRyYW5zbGF0aW9ucyk7XHJcblx0XHR9XHJcblxyXG5cdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIjQwNC5odG1sXCI7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgcmVuZGVyRmlsbXMgPSBhc3luYyAoY3VycmVudExhbmd1YWdlLCBjdXN0b21BbW91bnQpID0+IHtcclxuXHRcdGNvbnN0IGZpbG1zQXJyID0gW107XHJcblx0XHRjb25zdCBjaG9vc2VuRmlsbXMgPSBbXTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IChjdXN0b21BbW91bnQgfHwgcG9zdGVyc0Ftb3VudCk7IGkrKykge1xyXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG5cdFx0XHRcdGAke2ZpbG1zVVJMfSR7Y3VycmVudExhbmd1YWdlIHx8IFwiZW4tVVNcIn0mcGFnZT0ke2kgKyAxfWAsXHJcblx0XHRcdFx0b3B0aW9uc1xyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zdCBmaWxtRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHRcdFx0Y2hvb3NlbkZpbG1zLnB1c2goLi4uZmlsbURhdGEucmVzdWx0cyk7XHJcblx0XHR9XHJcblx0XHRmaWxtc0Fyci5wdXNoKGNob29zZW5GaWxtcyk7XHJcblxyXG5cdFx0cmV0dXJuIGZpbG1zQXJyO1xyXG5cdH07XHJcblx0Y29uc3QgcmVuZGVyU2VyaWVzID0gYXN5bmMgKGN1cnJlbnRMYW5ndWFnZSkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VyaWVzQXJyID0gW251bGxdO1xyXG5cdFx0Y29uc3QgY2hvb3NlblNlcmllcyA9IFtdO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwb3N0ZXJzQW1vdW50OyBpKyspIHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuXHRcdFx0XHRgJHtzZXJpZXNVUkx9JHtjdXJyZW50TGFuZ3VhZ2UgfHwgXCJlbi1VU1wifSZwYWdlPSR7aSArIDF9YCxcclxuXHRcdFx0XHRvcHRpb25zXHJcblx0XHRcdCk7XHJcblx0XHRcdGNvbnN0IHNlcmllc0RhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRcdGNob29zZW5TZXJpZXMucHVzaCguLi5zZXJpZXNEYXRhLnJlc3VsdHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNlcmllc0Fyci5wdXNoKGNob29zZW5TZXJpZXMpO1xyXG5cclxuXHRcdHJldHVybiBzZXJpZXNBcnI7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgaGFuZGxlU2VhcmNoRW5naW5lID0gKGN1cnJlbnRMYW5ndWFnZSkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VhcmNoRW5naW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtZW5naW5lX19pbnB1dFwiKTtcclxuXHJcblx0XHRsZXQgc2VhcmNoRmxhZyA9IGZhbHNlO1xyXG5cdFx0bGV0IGFudGlTcGFtVGltZW91dCA9IDEwMDA7XHJcblxyXG5cdFx0c2VhcmNoRW5naW5lPy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuXHRcdFx0aWYgKHNlYXJjaEZsYWcpIHJldHVybjtcclxuXHRcdFx0c2VhcmNoRmxhZyA9IHRydWU7XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cdFx0XHRmaW5kRmlsbXNCeUtleXdvcmQodmFsdWUsIGN1cnJlbnRMYW5ndWFnZSk7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRzZWFyY2hGbGFnID0gZmFsc2U7XHJcblx0XHRcdFx0ZmluZEZpbG1zQnlLZXl3b3JkKHZhbHVlLCBjdXJyZW50TGFuZ3VhZ2UpO1xyXG5cdFx0XHR9LCBhbnRpU3BhbVRpbWVvdXQpO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgZmluZEZpbG1zQnlLZXl3b3JkID0gYXN5bmMgKGlucHV0VmFsdWUsIGN1cnJlbnRMYW5ndWFnZSkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VhcmNoRmlsbVVSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3NlYXJjaC9tdWx0aT9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChcclxuXHRcdFx0aW5wdXRWYWx1ZVxyXG5cdFx0KX0mbGFuZ3VhZ2U9JHtjdXJyZW50TGFuZ3VhZ2V9YDtcclxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2VhcmNoRmlsbVVSTCwgb3B0aW9ucyk7XHJcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrQXV0aG9yaXphdGlvbigpO1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGNsb3NlQWxsTm90Q2xpY2tlZChlKTtcclxuXHR9KTtcclxufSk7XHJcbiJdfQ==
