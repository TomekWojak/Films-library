import{getData,createBrowsePage,showErrorPopup,showBigLoader,hideBigLoader,createFooter,closeAllNotClicked,createSpecifiedSectionPoster,createSearchEngine,createFilteredFilmsSection}from"./components.min.js";document.addEventListener("DOMContentLoaded",function(){const e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}},t=window.location.href,i=async(e,i,r)=>{if(t.includes("movies.html")){const t=await o(e);return createSpecifiedSectionPoster(t,i)}if(t.includes("series.html")){const t=await a(e);return createSpecifiedSectionPoster(t,i)}if(!t.includes("my-list.html")){if(t.includes("search.html")){const t=await o(e,1);return r.append(createSearchEngine(i)),n(e,i),createSpecifiedSectionPoster(t,i)}window.location.href="404.html"}},o=async(t,i)=>{const o=[],a=[];for(let o=0;o<(i||3);o++){const i=await fetch(`https://api.themoviedb.org/3/discover/movie?language=${t||"en-US"}&page=${o+1}`,e),n=await i.json();a.push(...n.results)}return o.push(a),o},a=async t=>{const i=[null],o=[];for(let i=0;i<3;i++){const a=await fetch(`https://api.themoviedb.org/3/discover/tv?language=${t||"en-US"}&page=${i+1}`,e),n=await a.json();o.push(...n.results)}return i.push(o),i},n=(e,t)=>{const i=document.querySelector(".search-engine__input");i?.addEventListener("keyup",async i=>{const a=i.target.value;if(""===a.trim()){const i=await o(e,1);createFilteredFilmsSection(i[0],t)}else r(a,e,t)})},r=async(t,i,o)=>{const a=`https://api.themoviedb.org/3/search/multi?query=${encodeURIComponent(t)}&language=${i}`,n=await fetch(a,e),r=(await n.json()).results.filter(e=>"person"!==e.media_type&&e.poster_path&&e.popularity>=5);createFilteredFilmsSection(r,o)};(async()=>{const e=getData(),t=e?.translations,o=e?.preferredLanguage,a=e?.loggedIn,n=document.querySelector(".container"),r=e?.currentProfile;if(e&&a&&r)try{n.append(showBigLoader()),n.append(createBrowsePage(t));const e=await i(o,t,n);n.append(e),n.append(createFooter(t))}catch{showErrorPopup(t.browsePage.loadingDataError,"#dc4a34")}finally{hideBigLoader()}else window.location.href="/"})(),window.addEventListener("click",e=>{closeAllNotClicked(e)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdHMubWluLmpzIiwibmFtZXMiOlsiZ2V0RGF0YSIsImNyZWF0ZUJyb3dzZVBhZ2UiLCJzaG93RXJyb3JQb3B1cCIsInNob3dCaWdMb2FkZXIiLCJoaWRlQmlnTG9hZGVyIiwiY3JlYXRlRm9vdGVyIiwiY2xvc2VBbGxOb3RDbGlja2VkIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsImNyZWF0ZVNlYXJjaEVuZ2luZSIsImNyZWF0ZUZpbHRlcmVkRmlsbXNTZWN0aW9uIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJhY2NlcHQiLCJBdXRob3JpemF0aW9uIiwiY2F0ZWdvcnkiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJnZXRGaWxtc09yU2VyaWVzIiwiYXN5bmMiLCJjdXJyZW50TGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbnMiLCJjb250YWluZXIiLCJpbmNsdWRlcyIsImZpbG1zIiwicmVuZGVyRmlsbXMiLCJzZXJpZXMiLCJyZW5kZXJTZXJpZXMiLCJhcHBlbmQiLCJoYW5kbGVTZWFyY2hFbmdpbmUiLCJjdXN0b21BbW91bnQiLCJmaWxtc0FyciIsImNob29zZW5GaWxtcyIsImkiLCJyZXNwb25zZSIsImZldGNoIiwiZmlsbURhdGEiLCJqc29uIiwicHVzaCIsInJlc3VsdHMiLCJzZXJpZXNBcnIiLCJjaG9vc2VuU2VyaWVzIiwic2VyaWVzRGF0YSIsInNlYXJjaEVuZ2luZSIsInF1ZXJ5U2VsZWN0b3IiLCJlIiwidmFsdWUiLCJ0YXJnZXQiLCJ0cmltIiwiZmluZEZpbG1zQnlLZXl3b3JkIiwiaW5wdXRWYWx1ZSIsInNlYXJjaEZpbG1VUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmaWx0ZXJlZEZpbG1zIiwiZmlsdGVyIiwiZmlsbSIsIm1lZGlhX3R5cGUiLCJwb3N0ZXJfcGF0aCIsInBvcHVsYXJpdHkiLCJ1c2VyRGF0YSIsInByZWZlcnJlZExhbmd1YWdlIiwiaXNMb2dnZWRJbiIsImxvZ2dlZEluIiwiY3VycmVudFByb2ZpbGUiLCJzZWN0aW9uIiwiYnJvd3NlUGFnZSIsImxvYWRpbmdEYXRhRXJyb3IiLCJjaGVja0F1dGhvcml6YXRpb24iXSwic291cmNlcyI6WyJsaXN0cy5qcyJdLCJtYXBwaW5ncyI6Ik9BQ0NBLFFBQ0FDLGlCQUNBQyxlQUNBQyxjQUNBQyxjQUNBQyxhQUNBQyxtQkFDQUMsNkJBQ0FDLG1CQUNBQywrQkFDTSxzQkFFUEMsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUM3QyxNQUFNQyxFQUFVLENBQ2ZDLE9BQVEsTUFDUkMsUUFBUyxDQUNSQyxPQUFRLG1CQUNSQyxjQUNDLHlQQU9HQyxFQUFXQyxPQUFPQyxTQUFTQyxLQW9DM0JDLEVBQW1CQyxNQUFPQyxFQUFpQkMsRUFBY0MsS0FDOUQsR0FBSVIsRUFBU1MsU0FBUyxlQUFnQixDQUNyQyxNQUFNQyxRQUFjQyxFQUFZTCxHQUNoQyxPQUFPaEIsNkJBQTZCb0IsRUFBT0gsRUFDNUMsQ0FDQSxHQUFJUCxFQUFTUyxTQUFTLGVBQWdCLENBQ3JDLE1BQU1HLFFBQWVDLEVBQWFQLEdBQ2xDLE9BQU9oQiw2QkFBNkJzQixFQUFRTCxFQUM3QyxDQUNBLElBQUlQLEVBQVNTLFNBQVMsZ0JBQXRCLENBSUEsR0FBSVQsRUFBU1MsU0FBUyxlQUFnQixDQUNyQyxNQUFNQyxRQUFjQyxFQUFZTCxFQUFpQixHQUtqRCxPQUpBRSxFQUFVTSxPQUFPdkIsbUJBQW1CZ0IsSUFFcENRLEVBQW1CVCxFQUFpQkMsR0FFN0JqQiw2QkFBNkJvQixFQUFPSCxFQUM1QyxDQUVBTixPQUFPQyxTQUFTQyxLQUFPLFVBVnZCLEdBYUtRLEVBQWNOLE1BQU9DLEVBQWlCVSxLQUMzQyxNQUFNQyxFQUFXLEdBQ1hDLEVBQWUsR0FFckIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEdBQUtILEdBcEVBLEdBb0VnQ0csSUFBSyxDQUN6RCxNQUFNQyxRQUFpQkMsTUFDdEIsd0RBQWNmLEdBQW1CLGdCQUFnQmEsRUFBSSxJQUNyRHhCLEdBRUsyQixRQUFpQkYsRUFBU0csT0FDaENMLEVBQWFNLFFBQVFGLEVBQVNHLFFBQy9CLENBR0EsT0FGQVIsRUFBU08sS0FBS04sR0FFUEQsR0FFRkosRUFBZVIsTUFBT0MsSUFDM0IsTUFBTW9CLEVBQVksQ0FBQyxNQUNiQyxFQUFnQixHQUN0QixJQUFLLElBQUlSLEVBQUksRUFBR0EsRUFuRkssRUFtRmNBLElBQUssQ0FDdkMsTUFBTUMsUUFBaUJDLE1BQ3RCLHFEQUFlZixHQUFtQixnQkFBZ0JhLEVBQUksSUFDdER4QixHQUVLaUMsUUFBbUJSLEVBQVNHLE9BQ2xDSSxFQUFjSCxRQUFRSSxFQUFXSCxRQUNsQyxDQUlBLE9BRkFDLEVBQVVGLEtBQUtHLEdBRVJELEdBR0ZYLEVBQXFCLENBQUNULEVBQWlCQyxLQUM1QyxNQUFNc0IsRUFBZXBDLFNBQVNxQyxjQUFjLHlCQUU1Q0QsR0FBY25DLGlCQUFpQixRQUFTVyxNQUFPMEIsSUFDOUMsTUFBTUMsRUFBUUQsRUFBRUUsT0FBT0QsTUFFdkIsR0FBcUIsS0FBakJBLEVBQU1FLE9BQWUsQ0FDeEIsTUFBTXhCLFFBQWNDLEVBQVlMLEVBQWlCLEdBQ2pEZCwyQkFBMkJrQixFQUFNLEdBQUlILEVBQ3RDLE1BQ0M0QixFQUFtQkgsRUFBTzFCLEVBQWlCQyxNQUt4QzRCLEVBQXFCOUIsTUFDMUIrQixFQUNBOUIsRUFDQUMsS0FFQSxNQUFNOEIsRUFBZ0IsbURBQW1EQyxtQkFDeEVGLGVBQ2E5QixJQUNSYyxRQUFpQkMsTUFBTWdCLEVBQWUxQyxHQUV0QzRDLFNBRGFuQixFQUFTRyxRQUNERSxRQUFRZSxPQUNqQ0MsR0FDb0IsV0FBcEJBLEVBQUtDLFlBQ0xELEVBQUtFLGFBQ0xGLEVBQUtHLFlBQWMsR0FFckJwRCwyQkFBMkIrQyxFQUFlaEMsSUEzSGhCRixXQUMxQixNQUFNd0MsRUFBVzlELFVBQ1h3QixFQUFlc0MsR0FBVXRDLGFBQ3pCRCxFQUFrQnVDLEdBQVVDLGtCQUM1QkMsRUFBYUYsR0FBVUcsU0FDdkJ4QyxFQUFZZixTQUFTcUMsY0FBYyxjQUNuQ21CLEVBQWlCSixHQUFVSSxlQUVqQyxHQUFLSixHQUFhRSxHQUFlRSxFQUtqQyxJQUNDekMsRUFBVU0sT0FBTzVCLGlCQUVqQnNCLEVBQVVNLE9BQU85QixpQkFBaUJ1QixJQUVsQyxNQUFNMkMsUUFBZ0I5QyxFQUNyQkUsRUFDQUMsRUFDQUMsR0FHREEsRUFBVU0sT0FBT29DLEdBRWpCMUMsRUFBVU0sT0FBTzFCLGFBQWFtQixHQUMvQixDQUFFLE1BQ0R0QixlQUFlc0IsRUFBYTRDLFdBQVdDLGlCQUFrQixVQUMxRCxDQUFFLFFBQ0RqRSxlQUNELE1BdEJDYyxPQUFPQyxTQUFTQyxLQUFPLEtBcUh6QmtELEdBQ0FwRCxPQUFPUCxpQkFBaUIsUUFBVXFDLElBQ2pDMUMsbUJBQW1CMEMsSUFFckIiLCJpZ25vcmVMaXN0IjpbXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuXHRnZXREYXRhLFxyXG5cdGNyZWF0ZUJyb3dzZVBhZ2UsXHJcblx0c2hvd0Vycm9yUG9wdXAsXHJcblx0c2hvd0JpZ0xvYWRlcixcclxuXHRoaWRlQmlnTG9hZGVyLFxyXG5cdGNyZWF0ZUZvb3RlcixcclxuXHRjbG9zZUFsbE5vdENsaWNrZWQsXHJcblx0Y3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlcixcclxuXHRjcmVhdGVTZWFyY2hFbmdpbmUsXHJcblx0Y3JlYXRlRmlsdGVyZWRGaWxtc1NlY3Rpb24sXHJcbn0gZnJvbSBcIi4vY29tcG9uZW50cy5taW4uanNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCBvcHRpb25zID0ge1xyXG5cdFx0bWV0aG9kOiBcIkdFVFwiLFxyXG5cdFx0aGVhZGVyczoge1xyXG5cdFx0XHRhY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG5cdFx0XHRBdXRob3JpemF0aW9uOlxyXG5cdFx0XHRcdFwiQmVhcmVyIGV5SmhiR2NpT2lKSVV6STFOaUo5LmV5SmhkV1FpT2lJek5UWXdaak00TWpVM05EUTFaR0UxWkdaa1lUWXhZekUwWVdNNFltTTRNeUlzSW01aVppSTZNVGMxT1RjMk5UQXpPQzQ1TkN3aWMzVmlJam9pTmpobE0yVXlNbVV5TmpZNU56WTRNemhsWXpJM056STVJaXdpYzJOdmNHVnpJanBiSW1Gd2FWOXlaV0ZrSWwwc0luWmxjbk5wYjI0aU9qRjkubnVHZkVqY2xKTGVwbXp6SGkyb21OaHAyOVRIZ3JKZjlOdjZENF9nVGR4QVwiLFxyXG5cdFx0fSxcclxuXHR9O1xyXG5cclxuXHRjb25zdCBwb3N0ZXJzQW1vdW50ID0gMztcclxuXHRjb25zdCBmaWxtc1VSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL21vdmllP2xhbmd1YWdlPWA7XHJcblx0Y29uc3Qgc2VyaWVzVVJMID0gYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvZGlzY292ZXIvdHY/bGFuZ3VhZ2U9YDtcclxuXHRjb25zdCBjYXRlZ29yeSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG5cclxuXHRjb25zdCBjaGVja0F1dGhvcml6YXRpb24gPSBhc3luYyAoKSA9PiB7XHJcblx0XHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRcdGNvbnN0IHRyYW5zbGF0aW9ucyA9IHVzZXJEYXRhPy50cmFuc2xhdGlvbnM7XHJcblx0XHRjb25zdCBjdXJyZW50TGFuZ3VhZ2UgPSB1c2VyRGF0YT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblx0XHRjb25zdCBpc0xvZ2dlZEluID0gdXNlckRhdGE/LmxvZ2dlZEluO1xyXG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblx0XHRjb25zdCBjdXJyZW50UHJvZmlsZSA9IHVzZXJEYXRhPy5jdXJyZW50UHJvZmlsZTtcclxuXHJcblx0XHRpZiAoIXVzZXJEYXRhIHx8ICFpc0xvZ2dlZEluIHx8ICFjdXJyZW50UHJvZmlsZSkge1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZChjcmVhdGVCcm93c2VQYWdlKHRyYW5zbGF0aW9ucykpO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VjdGlvbiA9IGF3YWl0IGdldEZpbG1zT3JTZXJpZXMoXHJcblx0XHRcdFx0Y3VycmVudExhbmd1YWdlLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucyxcclxuXHRcdFx0XHRjb250YWluZXJcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoc2VjdGlvbik7XHJcblxyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZUZvb3Rlcih0cmFuc2xhdGlvbnMpKTtcclxuXHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRzaG93RXJyb3JQb3B1cCh0cmFuc2xhdGlvbnMuYnJvd3NlUGFnZS5sb2FkaW5nRGF0YUVycm9yLCBcIiNkYzRhMzRcIik7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRoaWRlQmlnTG9hZGVyKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3QgZ2V0RmlsbXNPclNlcmllcyA9IGFzeW5jIChjdXJyZW50TGFuZ3VhZ2UsIHRyYW5zbGF0aW9ucywgY29udGFpbmVyKSA9PiB7XHJcblx0XHRpZiAoY2F0ZWdvcnkuaW5jbHVkZXMoXCJtb3ZpZXMuaHRtbFwiKSkge1xyXG5cdFx0XHRjb25zdCBmaWxtcyA9IGF3YWl0IHJlbmRlckZpbG1zKGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHRcdHJldHVybiBjcmVhdGVTcGVjaWZpZWRTZWN0aW9uUG9zdGVyKGZpbG1zLCB0cmFuc2xhdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNhdGVnb3J5LmluY2x1ZGVzKFwic2VyaWVzLmh0bWxcIikpIHtcclxuXHRcdFx0Y29uc3Qgc2VyaWVzID0gYXdhaXQgcmVuZGVyU2VyaWVzKGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHRcdHJldHVybiBjcmVhdGVTcGVjaWZpZWRTZWN0aW9uUG9zdGVyKHNlcmllcywgdHJhbnNsYXRpb25zKTtcclxuXHRcdH1cclxuXHRcdGlmIChjYXRlZ29yeS5pbmNsdWRlcyhcIm15LWxpc3QuaHRtbFwiKSkge1xyXG5cdFx0XHQvLyB3eXJlbmRlcnVqIGxpc3TEmVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAoY2F0ZWdvcnkuaW5jbHVkZXMoXCJzZWFyY2guaHRtbFwiKSkge1xyXG5cdFx0XHRjb25zdCBmaWxtcyA9IGF3YWl0IHJlbmRlckZpbG1zKGN1cnJlbnRMYW5ndWFnZSwgMSk7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlU2VhcmNoRW5naW5lKHRyYW5zbGF0aW9ucykpO1xyXG5cclxuXHRcdFx0aGFuZGxlU2VhcmNoRW5naW5lKGN1cnJlbnRMYW5ndWFnZSwgdHJhbnNsYXRpb25zKTtcclxuXHJcblx0XHRcdHJldHVybiBjcmVhdGVTcGVjaWZpZWRTZWN0aW9uUG9zdGVyKGZpbG1zLCB0cmFuc2xhdGlvbnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCI0MDQuaHRtbFwiO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IHJlbmRlckZpbG1zID0gYXN5bmMgKGN1cnJlbnRMYW5ndWFnZSwgY3VzdG9tQW1vdW50KSA9PiB7XHJcblx0XHRjb25zdCBmaWxtc0FyciA9IFtdO1xyXG5cdFx0Y29uc3QgY2hvb3NlbkZpbG1zID0gW107XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAoY3VzdG9tQW1vdW50IHx8IHBvc3RlcnNBbW91bnQpOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuXHRcdFx0XHRgJHtmaWxtc1VSTH0ke2N1cnJlbnRMYW5ndWFnZSB8fCBcImVuLVVTXCJ9JnBhZ2U9JHtpICsgMX1gLFxyXG5cdFx0XHRcdG9wdGlvbnNcclxuXHRcdFx0KTtcclxuXHRcdFx0Y29uc3QgZmlsbURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRcdGNob29zZW5GaWxtcy5wdXNoKC4uLmZpbG1EYXRhLnJlc3VsdHMpO1xyXG5cdFx0fVxyXG5cdFx0ZmlsbXNBcnIucHVzaChjaG9vc2VuRmlsbXMpO1xyXG5cclxuXHRcdHJldHVybiBmaWxtc0FycjtcclxuXHR9O1xyXG5cdGNvbnN0IHJlbmRlclNlcmllcyA9IGFzeW5jIChjdXJyZW50TGFuZ3VhZ2UpID0+IHtcclxuXHRcdGNvbnN0IHNlcmllc0FyciA9IFtudWxsXTtcclxuXHRcdGNvbnN0IGNob29zZW5TZXJpZXMgPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcG9zdGVyc0Ftb3VudDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcblx0XHRcdFx0YCR7c2VyaWVzVVJMfSR7Y3VycmVudExhbmd1YWdlIHx8IFwiZW4tVVNcIn0mcGFnZT0ke2kgKyAxfWAsXHJcblx0XHRcdFx0b3B0aW9uc1xyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zdCBzZXJpZXNEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHRjaG9vc2VuU2VyaWVzLnB1c2goLi4uc2VyaWVzRGF0YS5yZXN1bHRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRzZXJpZXNBcnIucHVzaChjaG9vc2VuU2VyaWVzKTtcclxuXHJcblx0XHRyZXR1cm4gc2VyaWVzQXJyO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGhhbmRsZVNlYXJjaEVuZ2luZSA9IChjdXJyZW50TGFuZ3VhZ2UsIHRyYW5zbGF0aW9ucykgPT4ge1xyXG5cdFx0Y29uc3Qgc2VhcmNoRW5naW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtZW5naW5lX19pbnB1dFwiKTtcclxuXHJcblx0XHRzZWFyY2hFbmdpbmU/LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBhc3luYyAoZSkgPT4ge1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuXHRcdFx0aWYgKHZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0XHRcdGNvbnN0IGZpbG1zID0gYXdhaXQgcmVuZGVyRmlsbXMoY3VycmVudExhbmd1YWdlLCAxKTtcclxuXHRcdFx0XHRjcmVhdGVGaWx0ZXJlZEZpbG1zU2VjdGlvbihmaWxtc1swXSwgdHJhbnNsYXRpb25zKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmaW5kRmlsbXNCeUtleXdvcmQodmFsdWUsIGN1cnJlbnRMYW5ndWFnZSwgdHJhbnNsYXRpb25zKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgZmluZEZpbG1zQnlLZXl3b3JkID0gYXN5bmMgKFxyXG5cdFx0aW5wdXRWYWx1ZSxcclxuXHRcdGN1cnJlbnRMYW5ndWFnZSxcclxuXHRcdHRyYW5zbGF0aW9uc1xyXG5cdCkgPT4ge1xyXG5cdFx0Y29uc3Qgc2VhcmNoRmlsbVVSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3NlYXJjaC9tdWx0aT9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChcclxuXHRcdFx0aW5wdXRWYWx1ZVxyXG5cdFx0KX0mbGFuZ3VhZ2U9JHtjdXJyZW50TGFuZ3VhZ2V9YDtcclxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2VhcmNoRmlsbVVSTCwgb3B0aW9ucyk7XHJcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0Y29uc3QgZmlsdGVyZWRGaWxtcyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoXHJcblx0XHRcdChmaWxtKSA9PlxyXG5cdFx0XHRcdGZpbG0ubWVkaWFfdHlwZSAhPT0gXCJwZXJzb25cIiAmJlxyXG5cdFx0XHRcdGZpbG0ucG9zdGVyX3BhdGggJiZcclxuXHRcdFx0XHRmaWxtLnBvcHVsYXJpdHkgPj0gNS4wXHJcblx0XHQpO1xyXG5cdFx0Y3JlYXRlRmlsdGVyZWRGaWxtc1NlY3Rpb24oZmlsdGVyZWRGaWxtcywgdHJhbnNsYXRpb25zKTtcclxuXHR9O1xyXG5cclxuXHRjaGVja0F1dGhvcml6YXRpb24oKTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRjbG9zZUFsbE5vdENsaWNrZWQoZSk7XHJcblx0fSk7XHJcbn0pO1xyXG4iXX0=
