import{createBrowsePage,getData,showErrorPopup,createSpecifiedSectionPoster,showBigLoader,hideBigLoader,closeAllNotClicked}from"./components.min.js";import{noPageFoundRedirection}from"./updateStateFunctions.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container"),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}},r=async(r,i,n)=>{const c=a(r),s=`https://api.themoviedb.org/3/discover/movie?with_origin_country=US|GB&language=${i}&sort_by=popularity.desc&with_genres=${c[0]}`,d=`https://api.themoviedb.org/3/discover/tv?with_origin_country=US|GB&language=${i}&sort_by=popularity.desc&with_genres=${c[1]||c[0]}`,p=[];e.append(showBigLoader());try{for(let e=1;e<=1;e++)p.push(fetch(`${s}&page=${e}`,o)),p.push(fetch(`${d}&page=${e}`,o));const e=await Promise.all(p),r=await Promise.all(e.map(e=>e.json()));t(r,n)}catch{return void showErrorPopup("An unexpected error occured","#dc4a34")}finally{hideBigLoader()}},t=(o,r)=>{const t=o.map(e=>e.results);e.append(createSpecifiedSectionPoster(t,r))},a=e=>{let o,r;switch(e){case"animated":o=16,r=null;break;case"horror":o=27,r=9648;break;case"fantasy":o=14,r=10765;break;case"comedy":o=35,r=null}return[o,r]};window.addEventListener("click",e=>{closeAllNotClicked(e)}),(()=>{const o=getData();if(!o)return void showErrorPopup("An unexpected error occured","#dc4a34");const t=o?.loggedIn,a=o?.translations,i=o?.preferredLanguage,n=new URLSearchParams(window.location.search).get("category");"animated"!==n&&"horror"!==n&&"fantasy"!==n&&"comedy"!==n&&noPageFoundRedirection(),o&&t?(e.append(createBrowsePage(a)),r(n,i,a)):window.location.href="/"})()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcmllcy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VQYWdlIiwiZ2V0RGF0YSIsInNob3dFcnJvclBvcHVwIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsInNob3dCaWdMb2FkZXIiLCJoaWRlQmlnTG9hZGVyIiwiY2xvc2VBbGxOb3RDbGlja2VkIiwibm9QYWdlRm91bmRSZWRpcmVjdGlvbiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsImFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJnZXRGaWxtc0J5Q2F0ZWdvcnkiLCJhc3luYyIsInBhcmFtIiwiY3VycmVudExhbmd1YWdlIiwidHJhbnNsYXRpb25zIiwiZ2VucmUiLCJzcGVjaWZ5R2VucmUiLCJGSUxNU19VUkwiLCJUVl9TRVJJRVNfVVJMIiwicmVxdWVzdHMiLCJhcHBlbmQiLCJpIiwicHVzaCIsImZldGNoIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbCIsImRhdGEiLCJtYXAiLCJyZXMiLCJqc29uIiwicmVuZGVyRmlsbXMiLCJhbGxGaWxtcyIsImZpbG0iLCJyZXN1bHRzIiwiYWx0ZXJuYXRpdmVHZW5yZSIsIndpbmRvdyIsImUiLCJ1c2VyRGF0YSIsImlzTG9nZ2VkSW4iLCJsb2dnZWRJbiIsInByZWZlcnJlZExhbmd1YWdlIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJnZXQiLCJocmVmIiwiY2hlY2tBdXRob3JpemF0aW9uIl0sInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5qcyJdLCJtYXBwaW5ncyI6Ik9BQ0NBLGlCQUNBQyxRQUNBQyxlQUNBQyw2QkFDQUMsY0FDQUMsY0FDQUMsdUJBQ00sNkJBQ0VDLDJCQUE4QixnQ0FFdkNDLFNBQVNDLGlCQUFpQixtQkFBb0IsV0FDN0MsTUFBTUMsRUFBWUYsU0FBU0csY0FBYyxjQUNuQ0MsRUFBVSxDQUNmQyxPQUFRLE1BQ1JDLFFBQVMsQ0FDUkMsT0FBUSxtQkFDUkMsY0FDQyx5UEFtQ0dDLEVBQXFCQyxNQUFPQyxFQUFPQyxFQUFpQkMsS0FDekQsTUFBTUMsRUFBUUMsRUFBYUosR0FDckJLLEVBQVksa0ZBQWtGSix5Q0FBdURFLEVBQU0sS0FDM0pHLEVBQWdCLCtFQUErRUwseUNBQ3BHRSxFQUFNLElBQU1BLEVBQU0sS0FHYkksRUFBVyxHQUdqQmhCLEVBQVVpQixPQUFPdkIsaUJBRWpCLElBQ0MsSUFBSyxJQUFJd0IsRUFBSSxFQUFHQSxHQUxBLEVBS2VBLElBQzlCRixFQUFTRyxLQUFLQyxNQUFNLEdBQUdOLFVBQWtCSSxJQUFLaEIsSUFDOUNjLEVBQVNHLEtBQUtDLE1BQU0sR0FBR0wsVUFBc0JHLElBQUtoQixJQUduRCxNQUFNbUIsUUFBa0JDLFFBQVFDLElBQUlQLEdBQzlCUSxRQUFhRixRQUFRQyxJQUFJRixFQUFVSSxJQUFLQyxHQUFRQSxFQUFJQyxTQUMxREMsRUFBWUosRUFBTWIsRUFDbkIsQ0FBRSxNQUVELFlBREFuQixlQUFlLDhCQUErQixVQUUvQyxDQUFFLFFBQ0RHLGVBQ0QsR0FFS2lDLEVBQWMsQ0FBQ0osRUFBTWIsS0FDMUIsTUFBTWtCLEVBQVdMLEVBQUtDLElBQUtLLEdBQVNBLEVBQUtDLFNBQ3pDL0IsRUFBVWlCLE9BQU94Qiw2QkFBNkJvQyxFQUFVbEIsS0FFbkRFLEVBQWdCSixJQUNyQixJQUFJRyxFQUNBb0IsRUFDSixPQUFRdkIsR0FDUCxJQUFLLFdBQ0pHLEVBQVEsR0FDUm9CLEVBQW1CLEtBQ25CLE1BQ0QsSUFBSyxTQUNKcEIsRUFBUSxHQUNSb0IsRUFBbUIsS0FDbkIsTUFDRCxJQUFLLFVBQ0pwQixFQUFRLEdBQ1JvQixFQUFtQixNQUNuQixNQUNELElBQUssU0FDSnBCLEVBQVEsR0FDUm9CLEVBQW1CLEtBSXJCLE1BQU8sQ0FBQ3BCLEVBQU9vQixJQUVoQkMsT0FBT2xDLGlCQUFpQixRQUFVbUMsSUFDakN0QyxtQkFBbUJzQyxLQXhGTyxNQUMxQixNQUFNQyxFQUFXNUMsVUFFakIsSUFBSzRDLEVBRUosWUFEQTNDLGVBQWUsOEJBQStCLFdBSS9DLE1BQU00QyxFQUFhRCxHQUFVRSxTQUN2QjFCLEVBQWV3QixHQUFVeEIsYUFDekJELEVBQWtCeUIsR0FBVUcsa0JBRzVCN0IsRUFGZSxJQUFJOEIsZ0JBQWdCTixPQUFPTyxTQUFTQyxRQUU5QkMsSUFBSSxZQUdwQixhQUFWakMsR0FDVSxXQUFWQSxHQUNVLFlBQVZBLEdBQ1UsV0FBVkEsR0FFQVoseUJBR0lzQyxHQUFhQyxHQUdqQnBDLEVBQVVpQixPQUFPM0IsaUJBQWlCcUIsSUFDbENKLEVBQW1CRSxFQUFPQyxFQUFpQkMsSUFIM0NzQixPQUFPTyxTQUFTRyxLQUFPLEtBaUV6QkMsRUFDRCIsImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG5cdGNyZWF0ZUJyb3dzZVBhZ2UsXHJcblx0Z2V0RGF0YSxcclxuXHRzaG93RXJyb3JQb3B1cCxcclxuXHRjcmVhdGVTcGVjaWZpZWRTZWN0aW9uUG9zdGVyLFxyXG5cdHNob3dCaWdMb2FkZXIsXHJcblx0aGlkZUJpZ0xvYWRlcixcclxuXHRjbG9zZUFsbE5vdENsaWNrZWQsXHJcbn0gZnJvbSBcIi4vY29tcG9uZW50cy5taW4uanNcIjtcclxuaW1wb3J0IHsgbm9QYWdlRm91bmRSZWRpcmVjdGlvbiB9IGZyb20gXCIuL3VwZGF0ZVN0YXRlRnVuY3Rpb25zLm1pbi5qc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5cdGNvbnN0IG9wdGlvbnMgPSB7XHJcblx0XHRtZXRob2Q6IFwiR0VUXCIsXHJcblx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdGFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcblx0XHRcdEF1dGhvcml6YXRpb246XHJcblx0XHRcdFx0XCJCZWFyZXIgZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKaGRXUWlPaUl6TlRZd1pqTTRNalUzTkRRMVpHRTFaR1prWVRZeFl6RTBZV000WW1NNE15SXNJbTVpWmlJNk1UYzFPVGMyTlRBek9DNDVOQ3dpYzNWaUlqb2lOamhsTTJVeU1tVXlOalk1TnpZNE16aGxZekkzTnpJNUlpd2ljMk52Y0dWeklqcGJJbUZ3YVY5eVpXRmtJbDBzSW5abGNuTnBiMjRpT2pGOS5udUdmRWpjbEpMZXBtenpIaTJvbU5ocDI5VEhnckpmOU52NkQ0X2dUZHhBXCIsXHJcblx0XHR9LFxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNoZWNrQXV0aG9yaXphdGlvbiA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cclxuXHRcdGlmICghdXNlckRhdGEpIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAoYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZGAsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGlzTG9nZ2VkSW4gPSB1c2VyRGF0YT8ubG9nZ2VkSW47XHJcblx0XHRjb25zdCB0cmFuc2xhdGlvbnMgPSB1c2VyRGF0YT8udHJhbnNsYXRpb25zO1xyXG5cdFx0Y29uc3QgY3VycmVudExhbmd1YWdlID0gdXNlckRhdGE/LnByZWZlcnJlZExhbmd1YWdlO1xyXG5cdFx0Y29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuXHJcblx0XHRjb25zdCBwYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJjYXRlZ29yeVwiKTtcclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdHBhcmFtICE9PSBcImFuaW1hdGVkXCIgJiZcclxuXHRcdFx0cGFyYW0gIT09IFwiaG9ycm9yXCIgJiZcclxuXHRcdFx0cGFyYW0gIT09IFwiZmFudGFzeVwiICYmXHJcblx0XHRcdHBhcmFtICE9PSBcImNvbWVkeVwiXHJcblx0XHQpIHtcclxuXHRcdFx0bm9QYWdlRm91bmRSZWRpcmVjdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdXNlckRhdGEgfHwgIWlzTG9nZ2VkSW4pIHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlQnJvd3NlUGFnZSh0cmFuc2xhdGlvbnMpKTtcclxuXHRcdFx0Z2V0RmlsbXNCeUNhdGVnb3J5KHBhcmFtLCBjdXJyZW50TGFuZ3VhZ2UsIHRyYW5zbGF0aW9ucyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRjb25zdCBnZXRGaWxtc0J5Q2F0ZWdvcnkgPSBhc3luYyAocGFyYW0sIGN1cnJlbnRMYW5ndWFnZSwgdHJhbnNsYXRpb25zKSA9PiB7XHJcblx0XHRjb25zdCBnZW5yZSA9IHNwZWNpZnlHZW5yZShwYXJhbSk7XHJcblx0XHRjb25zdCBGSUxNU19VUkwgPSBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9kaXNjb3Zlci9tb3ZpZT93aXRoX29yaWdpbl9jb3VudHJ5PVVTfEdCJmxhbmd1YWdlPSR7Y3VycmVudExhbmd1YWdlfSZzb3J0X2J5PXBvcHVsYXJpdHkuZGVzYyZ3aXRoX2dlbnJlcz0ke2dlbnJlWzBdfWA7XHJcblx0XHRjb25zdCBUVl9TRVJJRVNfVVJMID0gYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvZGlzY292ZXIvdHY/d2l0aF9vcmlnaW5fY291bnRyeT1VU3xHQiZsYW5ndWFnZT0ke2N1cnJlbnRMYW5ndWFnZX0mc29ydF9ieT1wb3B1bGFyaXR5LmRlc2Mmd2l0aF9nZW5yZXM9JHtcclxuXHRcdFx0Z2VucmVbMV0gfHwgZ2VucmVbMF1cclxuXHRcdH1gO1xyXG5cclxuXHRcdGNvbnN0IHJlcXVlc3RzID0gW107XHJcblx0XHRjb25zdCBwYWdlc051bSA9IDE7XHJcblxyXG5cdFx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IHBhZ2VzTnVtOyBpKyspIHtcclxuXHRcdFx0XHRyZXF1ZXN0cy5wdXNoKGZldGNoKGAke0ZJTE1TX1VSTH0mcGFnZT0ke2l9YCwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdHJlcXVlc3RzLnB1c2goZmV0Y2goYCR7VFZfU0VSSUVTX1VSTH0mcGFnZT0ke2l9YCwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChyZXF1ZXN0cyk7XHJcblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChyZXNwb25zZXMubWFwKChyZXMpID0+IHJlcy5qc29uKCkpKTtcclxuXHRcdFx0cmVuZGVyRmlsbXMoZGF0YSwgdHJhbnNsYXRpb25zKTtcclxuXHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRzaG93RXJyb3JQb3B1cChgQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cmVkYCwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRoaWRlQmlnTG9hZGVyKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRjb25zdCByZW5kZXJGaWxtcyA9IChkYXRhLCB0cmFuc2xhdGlvbnMpID0+IHtcclxuXHRcdGNvbnN0IGFsbEZpbG1zID0gZGF0YS5tYXAoKGZpbG0pID0+IGZpbG0ucmVzdWx0cyk7XHJcblx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZVNwZWNpZmllZFNlY3Rpb25Qb3N0ZXIoYWxsRmlsbXMsIHRyYW5zbGF0aW9ucykpO1xyXG5cdH07XHJcblx0Y29uc3Qgc3BlY2lmeUdlbnJlID0gKHBhcmFtKSA9PiB7XHJcblx0XHRsZXQgZ2VucmU7XHJcblx0XHRsZXQgYWx0ZXJuYXRpdmVHZW5yZTtcclxuXHRcdHN3aXRjaCAocGFyYW0pIHtcclxuXHRcdFx0Y2FzZSBcImFuaW1hdGVkXCI6XHJcblx0XHRcdFx0Z2VucmUgPSAxNjtcclxuXHRcdFx0XHRhbHRlcm5hdGl2ZUdlbnJlID0gbnVsbDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImhvcnJvclwiOlxyXG5cdFx0XHRcdGdlbnJlID0gMjc7XHJcblx0XHRcdFx0YWx0ZXJuYXRpdmVHZW5yZSA9IDk2NDg7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJmYW50YXN5XCI6XHJcblx0XHRcdFx0Z2VucmUgPSAxNDtcclxuXHRcdFx0XHRhbHRlcm5hdGl2ZUdlbnJlID0gMTA3NjU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJjb21lZHlcIjpcclxuXHRcdFx0XHRnZW5yZSA9IDM1O1xyXG5cdFx0XHRcdGFsdGVybmF0aXZlR2VucmUgPSBudWxsO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBbZ2VucmUsIGFsdGVybmF0aXZlR2VucmVdO1xyXG5cdH07XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0Y2xvc2VBbGxOb3RDbGlja2VkKGUpO1xyXG5cdH0pO1xyXG5cdGNoZWNrQXV0aG9yaXphdGlvbigpO1xyXG59KTtcclxuIl19
