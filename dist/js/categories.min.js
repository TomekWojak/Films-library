import{createBrowsePage,getData,showErrorPopup,createSpecifiedSectionPoster,showBigLoader,hideBigLoader,closeAllNotClicked}from"./components.min.js";import{noPageFoundRedirection}from"./updateStateFunctions.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container"),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}},t=async(t,a,n)=>{const c=i(t),s=`https://api.themoviedb.org/3/discover/movie?with_origin_country=US|GB&language=${a}&sort_by=popularity.desc&with_genres=${c[0]}`,d=`https://api.themoviedb.org/3/discover/tv?with_origin_country=US|GB&language=${a}&sort_by=popularity.desc&with_genres=${c[1]||c[0]}`,p=[];e.append(showBigLoader());try{for(let e=1;e<=1;e++)p.push(fetch(`${s}&page=${e}`,o)),p.push(fetch(`${d}&page=${e}`,o));const e=await Promise.all(p),t=await Promise.all(e.map(e=>e.json()));r(t,n)}catch{return void showErrorPopup("An unexpected error occured","#dc4a34")}finally{hideBigLoader()}},r=(o,t)=>{const r=o.map(e=>e.results);e.append(createSpecifiedSectionPoster(r,t))},i=e=>{let o,t;switch(e){case"animated":o=16,t=null;break;case"horror":o=27,t=9648;break;case"fantasy":o=14,t=10765;break;case"comedy":o=35,t=null}return[o,t]};window.addEventListener("click",e=>{closeAllNotClicked(e)}),(()=>{const o=getData(),r=o?.loggedIn,i=o?.translations,a=o?.preferredLanguage,n=o?.currentProfile;if(!o||!r||!n)return void(window.location.href="/");const c=new URLSearchParams(window.location.search).get("category");"animated"!==c&&"horror"!==c&&"fantasy"!==c&&"comedy"!==c&&noPageFoundRedirection(),o&&r?(e.append(createBrowsePage(i)),t(c,a,i)):noPageFoundRedirection()})()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcmllcy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VQYWdlIiwiZ2V0RGF0YSIsInNob3dFcnJvclBvcHVwIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsInNob3dCaWdMb2FkZXIiLCJoaWRlQmlnTG9hZGVyIiwiY2xvc2VBbGxOb3RDbGlja2VkIiwibm9QYWdlRm91bmRSZWRpcmVjdGlvbiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsImFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJnZXRGaWxtc0J5Q2F0ZWdvcnkiLCJhc3luYyIsInBhcmFtIiwiY3VycmVudExhbmd1YWdlIiwidHJhbnNsYXRpb25zIiwiZ2VucmUiLCJzcGVjaWZ5R2VucmUiLCJGSUxNU19VUkwiLCJUVl9TRVJJRVNfVVJMIiwicmVxdWVzdHMiLCJhcHBlbmQiLCJpIiwicHVzaCIsImZldGNoIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbCIsImRhdGEiLCJtYXAiLCJyZXMiLCJqc29uIiwicmVuZGVyRmlsbXMiLCJhbGxGaWxtcyIsImZpbG0iLCJyZXN1bHRzIiwiYWx0ZXJuYXRpdmVHZW5yZSIsIndpbmRvdyIsImUiLCJ1c2VyRGF0YSIsImlzTG9nZ2VkSW4iLCJsb2dnZWRJbiIsInByZWZlcnJlZExhbmd1YWdlIiwiY3VycmVudFByb2ZpbGUiLCJsb2NhdGlvbiIsImhyZWYiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJnZXQiLCJjaGVja0F1dGhvcml6YXRpb24iXSwic291cmNlcyI6WyJjYXRlZ29yaWVzLmpzIl0sIm1hcHBpbmdzIjoiT0FDQ0EsaUJBQ0FDLFFBQ0FDLGVBQ0FDLDZCQUNBQyxjQUNBQyxjQUNBQyx1QkFDTSw2QkFDRUMsMkJBQThCLGdDQUV2Q0MsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUM3QyxNQUFNQyxFQUFZRixTQUFTRyxjQUFjLGNBQ25DQyxFQUFVLENBQ2ZDLE9BQVEsTUFDUkMsUUFBUyxDQUNSQyxPQUFRLG1CQUNSQyxjQUNDLHlQQXFDR0MsRUFBcUJDLE1BQU9DLEVBQU9DLEVBQWlCQyxLQUN6RCxNQUFNQyxFQUFRQyxFQUFhSixHQUNyQkssRUFBWSxrRkFBa0ZKLHlDQUF1REUsRUFBTSxLQUMzSkcsRUFBZ0IsK0VBQStFTCx5Q0FDcEdFLEVBQU0sSUFBTUEsRUFBTSxLQUdiSSxFQUFXLEdBR2pCaEIsRUFBVWlCLE9BQU92QixpQkFFakIsSUFDQyxJQUFLLElBQUl3QixFQUFJLEVBQUdBLEdBTEEsRUFLZUEsSUFDOUJGLEVBQVNHLEtBQUtDLE1BQU0sR0FBR04sVUFBa0JJLElBQUtoQixJQUM5Q2MsRUFBU0csS0FBS0MsTUFBTSxHQUFHTCxVQUFzQkcsSUFBS2hCLElBR25ELE1BQU1tQixRQUFrQkMsUUFBUUMsSUFBSVAsR0FDOUJRLFFBQWFGLFFBQVFDLElBQUlGLEVBQVVJLElBQUtDLEdBQVFBLEVBQUlDLFNBQzFEQyxFQUFZSixFQUFNYixFQUNuQixDQUFFLE1BRUQsWUFEQW5CLGVBQWUsOEJBQStCLFVBRS9DLENBQUUsUUFDREcsZUFDRCxHQUVLaUMsRUFBYyxDQUFDSixFQUFNYixLQUMxQixNQUFNa0IsRUFBV0wsRUFBS0MsSUFBS0ssR0FBU0EsRUFBS0MsU0FDekMvQixFQUFVaUIsT0FBT3hCLDZCQUE2Qm9DLEVBQVVsQixLQUVuREUsRUFBZ0JKLElBQ3JCLElBQUlHLEVBQ0FvQixFQUNKLE9BQVF2QixHQUNQLElBQUssV0FDSkcsRUFBUSxHQUNSb0IsRUFBbUIsS0FDbkIsTUFDRCxJQUFLLFNBQ0pwQixFQUFRLEdBQ1JvQixFQUFtQixLQUNuQixNQUNELElBQUssVUFDSnBCLEVBQVEsR0FDUm9CLEVBQW1CLE1BQ25CLE1BQ0QsSUFBSyxTQUNKcEIsRUFBUSxHQUNSb0IsRUFBbUIsS0FJckIsTUFBTyxDQUFDcEIsRUFBT29CLElBRWhCQyxPQUFPbEMsaUJBQWlCLFFBQVVtQyxJQUNqQ3RDLG1CQUFtQnNDLEtBMUZPLE1BQzFCLE1BQU1DLEVBQVc1QyxVQUVYNkMsRUFBYUQsR0FBVUUsU0FDdkIxQixFQUFld0IsR0FBVXhCLGFBQ3pCRCxFQUFrQnlCLEdBQVVHLGtCQUM1QkMsRUFBaUJKLEdBQVVJLGVBRWpDLElBQUtKLElBQWFDLElBQWVHLEVBRWhDLFlBREFOLE9BQU9PLFNBQVNDLEtBQU8sS0FJeEIsTUFFTWhDLEVBRmUsSUFBSWlDLGdCQUFnQlQsT0FBT08sU0FBU0csUUFFOUJDLElBQUksWUFHcEIsYUFBVm5DLEdBQ1UsV0FBVkEsR0FDVSxZQUFWQSxHQUNVLFdBQVZBLEdBRUFaLHlCQUdJc0MsR0FBYUMsR0FHakJwQyxFQUFVaUIsT0FBTzNCLGlCQUFpQnFCLElBQ2xDSixFQUFtQkUsRUFBT0MsRUFBaUJDLElBSDNDZCwwQkFpRUZnRCxFQUNEIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcblx0Y3JlYXRlQnJvd3NlUGFnZSxcclxuXHRnZXREYXRhLFxyXG5cdHNob3dFcnJvclBvcHVwLFxyXG5cdGNyZWF0ZVNwZWNpZmllZFNlY3Rpb25Qb3N0ZXIsXHJcblx0c2hvd0JpZ0xvYWRlcixcclxuXHRoaWRlQmlnTG9hZGVyLFxyXG5cdGNsb3NlQWxsTm90Q2xpY2tlZCxcclxufSBmcm9tIFwiLi9jb21wb25lbnRzLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBub1BhZ2VGb3VuZFJlZGlyZWN0aW9uIH0gZnJvbSBcIi4vdXBkYXRlU3RhdGVGdW5jdGlvbnMubWluLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblx0Y29uc3Qgb3B0aW9ucyA9IHtcclxuXHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0YWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0QXV0aG9yaXphdGlvbjpcclxuXHRcdFx0XHRcIkJlYXJlciBleUpoYkdjaU9pSklVekkxTmlKOS5leUpoZFdRaU9pSXpOVFl3WmpNNE1qVTNORFExWkdFMVpHWmtZVFl4WXpFMFlXTTRZbU00TXlJc0ltNWlaaUk2TVRjMU9UYzJOVEF6T0M0NU5Dd2ljM1ZpSWpvaU5qaGxNMlV5TW1VeU5qWTVOelk0TXpobFl6STNOekk1SWl3aWMyTnZjR1Z6SWpwYkltRndhVjl5WldGa0lsMHNJblpsY25OcGIyNGlPakY5Lm51R2ZFamNsSkxlcG16ekhpMm9tTmhwMjlUSGdySmY5TnY2RDRfZ1RkeEFcIixcclxuXHRcdH0sXHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2hlY2tBdXRob3JpemF0aW9uID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblxyXG5cdFx0Y29uc3QgaXNMb2dnZWRJbiA9IHVzZXJEYXRhPy5sb2dnZWRJbjtcclxuXHRcdGNvbnN0IHRyYW5zbGF0aW9ucyA9IHVzZXJEYXRhPy50cmFuc2xhdGlvbnM7XHJcblx0XHRjb25zdCBjdXJyZW50TGFuZ3VhZ2UgPSB1c2VyRGF0YT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblx0XHRjb25zdCBjdXJyZW50UHJvZmlsZSA9IHVzZXJEYXRhPy5jdXJyZW50UHJvZmlsZTtcclxuXHJcblx0XHRpZiAoIXVzZXJEYXRhIHx8ICFpc0xvZ2dlZEluIHx8ICFjdXJyZW50UHJvZmlsZSkge1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuXHJcblx0XHRjb25zdCBwYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJjYXRlZ29yeVwiKTtcclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdHBhcmFtICE9PSBcImFuaW1hdGVkXCIgJiZcclxuXHRcdFx0cGFyYW0gIT09IFwiaG9ycm9yXCIgJiZcclxuXHRcdFx0cGFyYW0gIT09IFwiZmFudGFzeVwiICYmXHJcblx0XHRcdHBhcmFtICE9PSBcImNvbWVkeVwiXHJcblx0XHQpIHtcclxuXHRcdFx0bm9QYWdlRm91bmRSZWRpcmVjdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdXNlckRhdGEgfHwgIWlzTG9nZ2VkSW4pIHtcclxuXHRcdFx0bm9QYWdlRm91bmRSZWRpcmVjdGlvbigpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZChjcmVhdGVCcm93c2VQYWdlKHRyYW5zbGF0aW9ucykpO1xyXG5cdFx0XHRnZXRGaWxtc0J5Q2F0ZWdvcnkocGFyYW0sIGN1cnJlbnRMYW5ndWFnZSwgdHJhbnNsYXRpb25zKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGNvbnN0IGdldEZpbG1zQnlDYXRlZ29yeSA9IGFzeW5jIChwYXJhbSwgY3VycmVudExhbmd1YWdlLCB0cmFuc2xhdGlvbnMpID0+IHtcclxuXHRcdGNvbnN0IGdlbnJlID0gc3BlY2lmeUdlbnJlKHBhcmFtKTtcclxuXHRcdGNvbnN0IEZJTE1TX1VSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL21vdmllP3dpdGhfb3JpZ2luX2NvdW50cnk9VVN8R0ImbGFuZ3VhZ2U9JHtjdXJyZW50TGFuZ3VhZ2V9JnNvcnRfYnk9cG9wdWxhcml0eS5kZXNjJndpdGhfZ2VucmVzPSR7Z2VucmVbMF19YDtcclxuXHRcdGNvbnN0IFRWX1NFUklFU19VUkwgPSBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9kaXNjb3Zlci90dj93aXRoX29yaWdpbl9jb3VudHJ5PVVTfEdCJmxhbmd1YWdlPSR7Y3VycmVudExhbmd1YWdlfSZzb3J0X2J5PXBvcHVsYXJpdHkuZGVzYyZ3aXRoX2dlbnJlcz0ke1xyXG5cdFx0XHRnZW5yZVsxXSB8fCBnZW5yZVswXVxyXG5cdFx0fWA7XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdHMgPSBbXTtcclxuXHRcdGNvbnN0IHBhZ2VzTnVtID0gMTtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kKHNob3dCaWdMb2FkZXIoKSk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gcGFnZXNOdW07IGkrKykge1xyXG5cdFx0XHRcdHJlcXVlc3RzLnB1c2goZmV0Y2goYCR7RklMTVNfVVJMfSZwYWdlPSR7aX1gLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0cmVxdWVzdHMucHVzaChmZXRjaChgJHtUVl9TRVJJRVNfVVJMfSZwYWdlPSR7aX1gLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcXVlc3RzKTtcclxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKHJlc3BvbnNlcy5tYXAoKHJlcykgPT4gcmVzLmpzb24oKSkpO1xyXG5cdFx0XHRyZW5kZXJGaWxtcyhkYXRhLCB0cmFuc2xhdGlvbnMpO1xyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKGBBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VyZWRgLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGhpZGVCaWdMb2FkZXIoKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGNvbnN0IHJlbmRlckZpbG1zID0gKGRhdGEsIHRyYW5zbGF0aW9ucykgPT4ge1xyXG5cdFx0Y29uc3QgYWxsRmlsbXMgPSBkYXRhLm1hcCgoZmlsbSkgPT4gZmlsbS5yZXN1bHRzKTtcclxuXHRcdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlcihhbGxGaWxtcywgdHJhbnNsYXRpb25zKSk7XHJcblx0fTtcclxuXHRjb25zdCBzcGVjaWZ5R2VucmUgPSAocGFyYW0pID0+IHtcclxuXHRcdGxldCBnZW5yZTtcclxuXHRcdGxldCBhbHRlcm5hdGl2ZUdlbnJlO1xyXG5cdFx0c3dpdGNoIChwYXJhbSkge1xyXG5cdFx0XHRjYXNlIFwiYW5pbWF0ZWRcIjpcclxuXHRcdFx0XHRnZW5yZSA9IDE2O1xyXG5cdFx0XHRcdGFsdGVybmF0aXZlR2VucmUgPSBudWxsO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIFwiaG9ycm9yXCI6XHJcblx0XHRcdFx0Z2VucmUgPSAyNztcclxuXHRcdFx0XHRhbHRlcm5hdGl2ZUdlbnJlID0gOTY0ODtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImZhbnRhc3lcIjpcclxuXHRcdFx0XHRnZW5yZSA9IDE0O1xyXG5cdFx0XHRcdGFsdGVybmF0aXZlR2VucmUgPSAxMDc2NTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImNvbWVkeVwiOlxyXG5cdFx0XHRcdGdlbnJlID0gMzU7XHJcblx0XHRcdFx0YWx0ZXJuYXRpdmVHZW5yZSA9IG51bGw7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFtnZW5yZSwgYWx0ZXJuYXRpdmVHZW5yZV07XHJcblx0fTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRjbG9zZUFsbE5vdENsaWNrZWQoZSk7XHJcblx0fSk7XHJcblx0Y2hlY2tBdXRob3JpemF0aW9uKCk7XHJcbn0pO1xyXG4iXX0=
