import{createBrowsePage,getData,showErrorPopup}from"./components.min.js";import{noPageFoundRedirection}from"./updateStateFunctions.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container"),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}},r=async(e,r)=>{const t=`https://api.themoviedb.org/3/discover/movie?language=${r}&page=1&sort_by=popularity.desc&with_genres=${n(e)}`;try{const e=await fetch(t,o),r=await e.json();a(r)}catch{return void showErrorPopup("An unexpected error occured","#dc4a34")}},a=e=>{},n=e=>{let o;switch(e){case"animated":console.log("animated"),o=16;break;case"horror":console.log("horror"),o=27;break;case"fantasy":console.log("fantasy"),o=14;break;case"comedy":console.log("comedy"),o=35}return o};(()=>{const o=getData();if(!o)return void showErrorPopup("An unexpected error occured","#dc4a34");const a=o?.loggedIn,n=o?.translations,t=o?.preferredLanguage,c=new URLSearchParams(window.location.search).get("category");"animated"!==c&&"horror"!==c&&"fantasy"!==c&&"comedy"!==c&&noPageFoundRedirection(),o&&a?(e.append(createBrowsePage(n)),r(c,t)):window.location.href="/"})()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcmllcy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VQYWdlIiwiZ2V0RGF0YSIsInNob3dFcnJvclBvcHVwIiwibm9QYWdlRm91bmRSZWRpcmVjdGlvbiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsImFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJnZXRGaWxtc0J5Q2F0ZWdvcnkiLCJhc3luYyIsInBhcmFtIiwiY3VycmVudExhbmd1YWdlIiwiVVJMIiwic3BlY2lmeUdlbnJlIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwicmVuZGVyRmlsbXMiLCJnZW5yZSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyRGF0YSIsImlzTG9nZ2VkSW4iLCJsb2dnZWRJbiIsInRyYW5zbGF0aW9ucyIsInByZWZlcnJlZExhbmd1YWdlIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJnZXQiLCJhcHBlbmQiLCJocmVmIiwiY2hlY2tBdXRob3JpemF0aW9uIl0sInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLGlCQUFrQkMsUUFBU0MsbUJBQXNCLDZCQUNqREMsMkJBQThCLGdDQUV2Q0MsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUM3QyxNQUFNQyxFQUFZRixTQUFTRyxjQUFjLGNBQ25DQyxFQUFVLENBQ2ZDLE9BQVEsTUFDUkMsUUFBUyxDQUNSQyxPQUFRLG1CQUNSQyxjQUNDLHlQQW1DR0MsRUFBcUJDLE1BQU9DLEVBQU9DLEtBQ3hDLE1BQ01DLEVBQU0sd0RBQXdERCxnREFEdERFLEVBQWFILEtBRzNCLElBQ0MsTUFBTUksUUFBaUJDLE1BQU1ILEVBQUtULEdBQzVCYSxRQUFhRixFQUFTRyxPQUU1QkMsRUFBWUYsRUFDYixDQUFFLE1BRUQsWUFEQW5CLGVBQWUsOEJBQStCLFVBRS9DLEdBRUtxQixFQUFlRixNQUNmSCxFQUFnQkgsSUFDckIsSUFBSVMsRUFDSixPQUFRVCxHQUNQLElBQUssV0FDSlUsUUFBUUMsSUFBSSxZQUNaRixFQUFRLEdBQ1IsTUFDRCxJQUFLLFNBQ0pDLFFBQVFDLElBQUksVUFDWkYsRUFBUSxHQUNSLE1BQ0QsSUFBSyxVQUNKQyxRQUFRQyxJQUFJLFdBQ1pGLEVBQVEsR0FDUixNQUNELElBQUssU0FDSkMsUUFBUUMsSUFBSSxVQUNaRixFQUFRLEdBSVYsT0FBT0EsR0FuRW1CLE1BQzFCLE1BQU1HLEVBQVcxQixVQUVqQixJQUFLMEIsRUFFSixZQURBekIsZUFBZSw4QkFBK0IsV0FJL0MsTUFBTTBCLEVBQWFELEdBQVVFLFNBQ3ZCQyxFQUFlSCxHQUFVRyxhQUN6QmQsRUFBa0JXLEdBQVVJLGtCQUc1QmhCLEVBRmUsSUFBSWlCLGdCQUFnQkMsT0FBT0MsU0FBU0MsUUFFOUJDLElBQUksWUFHcEIsYUFBVnJCLEdBQ1UsV0FBVkEsR0FDVSxZQUFWQSxHQUNVLFdBQVZBLEdBRUFaLHlCQUdJd0IsR0FBYUMsR0FHakJ0QixFQUFVK0IsT0FBT3JDLGlCQUFpQjhCLElBQ2xDakIsRUFBbUJFLEVBQU9DLElBSDFCaUIsT0FBT0MsU0FBU0ksS0FBTyxLQTRDekJDLEVBQ0QiLCJpZ25vcmVMaXN0IjpbXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQnJvd3NlUGFnZSwgZ2V0RGF0YSwgc2hvd0Vycm9yUG9wdXAgfSBmcm9tIFwiLi9jb21wb25lbnRzLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBub1BhZ2VGb3VuZFJlZGlyZWN0aW9uIH0gZnJvbSBcIi4vdXBkYXRlU3RhdGVGdW5jdGlvbnMubWluLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblx0Y29uc3Qgb3B0aW9ucyA9IHtcclxuXHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0YWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0QXV0aG9yaXphdGlvbjpcclxuXHRcdFx0XHRcIkJlYXJlciBleUpoYkdjaU9pSklVekkxTmlKOS5leUpoZFdRaU9pSXpOVFl3WmpNNE1qVTNORFExWkdFMVpHWmtZVFl4WXpFMFlXTTRZbU00TXlJc0ltNWlaaUk2TVRjMU9UYzJOVEF6T0M0NU5Dd2ljM1ZpSWpvaU5qaGxNMlV5TW1VeU5qWTVOelk0TXpobFl6STNOekk1SWl3aWMyTnZjR1Z6SWpwYkltRndhVjl5WldGa0lsMHNJblpsY25OcGIyNGlPakY5Lm51R2ZFamNsSkxlcG16ekhpMm9tTmhwMjlUSGdySmY5TnY2RDRfZ1RkeEFcIixcclxuXHRcdH0sXHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2hlY2tBdXRob3JpemF0aW9uID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblxyXG5cdFx0aWYgKCF1c2VyRGF0YSkge1xyXG5cdFx0XHRzaG93RXJyb3JQb3B1cChgQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cmVkYCwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgaXNMb2dnZWRJbiA9IHVzZXJEYXRhPy5sb2dnZWRJbjtcclxuXHRcdGNvbnN0IHRyYW5zbGF0aW9ucyA9IHVzZXJEYXRhPy50cmFuc2xhdGlvbnM7XHJcblx0XHRjb25zdCBjdXJyZW50TGFuZ3VhZ2UgPSB1c2VyRGF0YT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblx0XHRjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG5cclxuXHRcdGNvbnN0IHBhcmFtID0gc2VhcmNoUGFyYW1zLmdldChcImNhdGVnb3J5XCIpO1xyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0cGFyYW0gIT09IFwiYW5pbWF0ZWRcIiAmJlxyXG5cdFx0XHRwYXJhbSAhPT0gXCJob3Jyb3JcIiAmJlxyXG5cdFx0XHRwYXJhbSAhPT0gXCJmYW50YXN5XCIgJiZcclxuXHRcdFx0cGFyYW0gIT09IFwiY29tZWR5XCJcclxuXHRcdCkge1xyXG5cdFx0XHRub1BhZ2VGb3VuZFJlZGlyZWN0aW9uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF1c2VyRGF0YSB8fCAhaXNMb2dnZWRJbikge1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZChjcmVhdGVCcm93c2VQYWdlKHRyYW5zbGF0aW9ucykpO1xyXG5cdFx0XHRnZXRGaWxtc0J5Q2F0ZWdvcnkocGFyYW0sIGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRjb25zdCBnZXRGaWxtc0J5Q2F0ZWdvcnkgPSBhc3luYyAocGFyYW0sIGN1cnJlbnRMYW5ndWFnZSkgPT4ge1xyXG5cdFx0Y29uc3QgZ2VucmUgPSBzcGVjaWZ5R2VucmUocGFyYW0pO1xyXG5cdFx0Y29uc3QgVVJMID0gYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvZGlzY292ZXIvbW92aWU/bGFuZ3VhZ2U9JHtjdXJyZW50TGFuZ3VhZ2V9JnBhZ2U9MSZzb3J0X2J5PXBvcHVsYXJpdHkuZGVzYyZ3aXRoX2dlbnJlcz0ke2dlbnJlfWA7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChVUkwsIG9wdGlvbnMpO1xyXG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRcdFx0cmVuZGVyRmlsbXMoZGF0YSk7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAoYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZGAsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3QgcmVuZGVyRmlsbXMgPSAoZGF0YSkgPT4ge307XHJcblx0Y29uc3Qgc3BlY2lmeUdlbnJlID0gKHBhcmFtKSA9PiB7XHJcblx0XHRsZXQgZ2VucmU7XHJcblx0XHRzd2l0Y2ggKHBhcmFtKSB7XHJcblx0XHRcdGNhc2UgXCJhbmltYXRlZFwiOlxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiYW5pbWF0ZWRcIik7XHJcblx0XHRcdFx0Z2VucmUgPSAxNjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImhvcnJvclwiOlxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiaG9ycm9yXCIpO1xyXG5cdFx0XHRcdGdlbnJlID0gMjc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJmYW50YXN5XCI6XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJmYW50YXN5XCIpO1xyXG5cdFx0XHRcdGdlbnJlID0gMTQ7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJjb21lZHlcIjpcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcImNvbWVkeVwiKTtcclxuXHRcdFx0XHRnZW5yZSA9IDM1O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBnZW5yZTtcclxuXHR9O1xyXG5cdGNoZWNrQXV0aG9yaXphdGlvbigpO1xyXG59KTtcclxuIl19
