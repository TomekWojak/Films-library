import{createBrowsePage,getData,showErrorPopup,createSpecifiedSectionPoster,showBigLoader,hideBigLoader,closeAllNotClicked}from"./components.min.js";import{noPageFoundRedirection}from"./updateStateFunctions.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container"),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}},r=async(r,i,n)=>{const c=a(r),s=`https://api.themoviedb.org/3/discover/movie?with_origin_country=US|GB&language=${i}&sort_by=popularity.desc&with_genres=${c[0]}`,d=`https://api.themoviedb.org/3/discover/tv?with_origin_country=US|GB&language=${i}&sort_by=popularity.desc&with_genres=${c[0]}|${c[1]}`,p=[];e.append(showBigLoader());try{for(let e=1;e<=1;e++)p.push(fetch(`${s}&page=${e}`,o)),p.push(fetch(`${d}&page=${e}`,o));const e=await Promise.all(p),r=await Promise.all(e.map(e=>e.json()));t(r,n)}catch{return void showErrorPopup("An unexpected error occured","#dc4a34")}finally{hideBigLoader()}},t=(o,r)=>{const t=o.map(e=>e.results);e.append(createSpecifiedSectionPoster(t,r))},a=e=>{let o,r;switch(e){case"animated":o=16;break;case"horror":o=27,r=18;break;case"fantasy":o=14,r=10765;break;case"comedy":o=35}return[o,r]};window.addEventListener("click",e=>{closeAllNotClicked(e)}),(()=>{const o=getData();if(!o)return void showErrorPopup("An unexpected error occured","#dc4a34");const t=o?.loggedIn,a=o?.translations,i=o?.preferredLanguage,n=new URLSearchParams(window.location.search).get("category");"animated"!==n&&"horror"!==n&&"fantasy"!==n&&"comedy"!==n&&noPageFoundRedirection(),o&&t?(e.append(createBrowsePage(a)),r(n,i,a)):window.location.href="/"})()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcmllcy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VQYWdlIiwiZ2V0RGF0YSIsInNob3dFcnJvclBvcHVwIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsInNob3dCaWdMb2FkZXIiLCJoaWRlQmlnTG9hZGVyIiwiY2xvc2VBbGxOb3RDbGlja2VkIiwibm9QYWdlRm91bmRSZWRpcmVjdGlvbiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsImFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJnZXRGaWxtc0J5Q2F0ZWdvcnkiLCJhc3luYyIsInBhcmFtIiwiY3VycmVudExhbmd1YWdlIiwidHJhbnNsYXRpb25zIiwiZ2VucmUiLCJzcGVjaWZ5R2VucmUiLCJGSUxNU19VUkwiLCJUVl9TRVJJRVNfVVJMIiwicmVxdWVzdHMiLCJhcHBlbmQiLCJpIiwicHVzaCIsImZldGNoIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbCIsImRhdGEiLCJtYXAiLCJyZXMiLCJqc29uIiwicmVuZGVyRmlsbXMiLCJhbGxGaWxtcyIsImZpbG0iLCJyZXN1bHRzIiwiYWx0ZXJuYXRpdmVHZW5yZSIsIndpbmRvdyIsImUiLCJ1c2VyRGF0YSIsImlzTG9nZ2VkSW4iLCJsb2dnZWRJbiIsInByZWZlcnJlZExhbmd1YWdlIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJnZXQiLCJocmVmIiwiY2hlY2tBdXRob3JpemF0aW9uIl0sInNvdXJjZXMiOlsiY2F0ZWdvcmllcy5qcyJdLCJtYXBwaW5ncyI6Ik9BQ0NBLGlCQUNBQyxRQUNBQyxlQUNBQyw2QkFDQUMsY0FDQUMsY0FDQUMsdUJBQ00sNkJBQ0VDLDJCQUE4QixnQ0FFdkNDLFNBQVNDLGlCQUFpQixtQkFBb0IsV0FDN0MsTUFBTUMsRUFBWUYsU0FBU0csY0FBYyxjQUNuQ0MsRUFBVSxDQUNmQyxPQUFRLE1BQ1JDLFFBQVMsQ0FDUkMsT0FBUSxtQkFDUkMsY0FDQyx5UEFtQ0dDLEVBQXFCQyxNQUFPQyxFQUFPQyxFQUFpQkMsS0FDekQsTUFBTUMsRUFBUUMsRUFBYUosR0FDckJLLEVBQVksa0ZBQWtGSix5Q0FBdURFLEVBQU0sS0FDM0pHLEVBQWdCLCtFQUErRUwseUNBQXVERSxFQUFNLE1BQU1BLEVBQU0sS0FFeEtJLEVBQVcsR0FHakJoQixFQUFVaUIsT0FBT3ZCLGlCQUVqQixJQUNDLElBQUssSUFBSXdCLEVBQUksRUFBR0EsR0FMQSxFQUtlQSxJQUM5QkYsRUFBU0csS0FBS0MsTUFBTSxHQUFHTixVQUFrQkksSUFBS2hCLElBQzlDYyxFQUFTRyxLQUFLQyxNQUFNLEdBQUdMLFVBQXNCRyxJQUFLaEIsSUFHbkQsTUFBTW1CLFFBQWtCQyxRQUFRQyxJQUFJUCxHQUM5QlEsUUFBYUYsUUFBUUMsSUFBSUYsRUFBVUksSUFBS0MsR0FBUUEsRUFBSUMsU0FDMURDLEVBQVlKLEVBQU1iLEVBQ25CLENBQUUsTUFFRCxZQURBbkIsZUFBZSw4QkFBK0IsVUFFL0MsQ0FBRSxRQUNERyxlQUNELEdBRUtpQyxFQUFjLENBQUNKLEVBQU1iLEtBQzFCLE1BQU1rQixFQUFXTCxFQUFLQyxJQUFLSyxHQUFTQSxFQUFLQyxTQUN6Qy9CLEVBQVVpQixPQUFPeEIsNkJBQTZCb0MsRUFBVWxCLEtBRW5ERSxFQUFnQkosSUFDckIsSUFBSUcsRUFDQW9CLEVBQ0osT0FBUXZCLEdBQ1AsSUFBSyxXQUNKRyxFQUFRLEdBQ1IsTUFDRCxJQUFLLFNBQ0pBLEVBQVEsR0FDUm9CLEVBQW1CLEdBQ25CLE1BQ0QsSUFBSyxVQUNKcEIsRUFBUSxHQUNSb0IsRUFBbUIsTUFDbkIsTUFDRCxJQUFLLFNBQ0pwQixFQUFRLEdBSVYsTUFBTyxDQUFDQSxFQUFPb0IsSUFFaEJDLE9BQU9sQyxpQkFBaUIsUUFBVW1DLElBQ2pDdEMsbUJBQW1Cc0MsS0FwRk8sTUFDMUIsTUFBTUMsRUFBVzVDLFVBRWpCLElBQUs0QyxFQUVKLFlBREEzQyxlQUFlLDhCQUErQixXQUkvQyxNQUFNNEMsRUFBYUQsR0FBVUUsU0FDdkIxQixFQUFld0IsR0FBVXhCLGFBQ3pCRCxFQUFrQnlCLEdBQVVHLGtCQUc1QjdCLEVBRmUsSUFBSThCLGdCQUFnQk4sT0FBT08sU0FBU0MsUUFFOUJDLElBQUksWUFHcEIsYUFBVmpDLEdBQ1UsV0FBVkEsR0FDVSxZQUFWQSxHQUNVLFdBQVZBLEdBRUFaLHlCQUdJc0MsR0FBYUMsR0FHakJwQyxFQUFVaUIsT0FBTzNCLGlCQUFpQnFCLElBQ2xDSixFQUFtQkUsRUFBT0MsRUFBaUJDLElBSDNDc0IsT0FBT08sU0FBU0csS0FBTyxLQTZEekJDLEVBQ0QiLCJpZ25vcmVMaXN0IjpbXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuXHRjcmVhdGVCcm93c2VQYWdlLFxyXG5cdGdldERhdGEsXHJcblx0c2hvd0Vycm9yUG9wdXAsXHJcblx0Y3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlcixcclxuXHRzaG93QmlnTG9hZGVyLFxyXG5cdGhpZGVCaWdMb2FkZXIsXHJcblx0Y2xvc2VBbGxOb3RDbGlja2VkLFxyXG59IGZyb20gXCIuL2NvbXBvbmVudHMubWluLmpzXCI7XHJcbmltcG9ydCB7IG5vUGFnZUZvdW5kUmVkaXJlY3Rpb24gfSBmcm9tIFwiLi91cGRhdGVTdGF0ZUZ1bmN0aW9ucy5taW4uanNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHRjb25zdCBvcHRpb25zID0ge1xyXG5cdFx0bWV0aG9kOiBcIkdFVFwiLFxyXG5cdFx0aGVhZGVyczoge1xyXG5cdFx0XHRhY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG5cdFx0XHRBdXRob3JpemF0aW9uOlxyXG5cdFx0XHRcdFwiQmVhcmVyIGV5SmhiR2NpT2lKSVV6STFOaUo5LmV5SmhkV1FpT2lJek5UWXdaak00TWpVM05EUTFaR0UxWkdaa1lUWXhZekUwWVdNNFltTTRNeUlzSW01aVppSTZNVGMxT1RjMk5UQXpPQzQ1TkN3aWMzVmlJam9pTmpobE0yVXlNbVV5TmpZNU56WTRNemhsWXpJM056STVJaXdpYzJOdmNHVnpJanBiSW1Gd2FWOXlaV0ZrSWwwc0luWmxjbk5wYjI0aU9qRjkubnVHZkVqY2xKTGVwbXp6SGkyb21OaHAyOVRIZ3JKZjlOdjZENF9nVGR4QVwiLFxyXG5cdFx0fSxcclxuXHR9O1xyXG5cclxuXHRjb25zdCBjaGVja0F1dGhvcml6YXRpb24gPSAoKSA9PiB7XHJcblx0XHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHJcblx0XHRpZiAoIXVzZXJEYXRhKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKGBBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VyZWRgLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBpc0xvZ2dlZEluID0gdXNlckRhdGE/LmxvZ2dlZEluO1xyXG5cdFx0Y29uc3QgdHJhbnNsYXRpb25zID0gdXNlckRhdGE/LnRyYW5zbGF0aW9ucztcclxuXHRcdGNvbnN0IGN1cnJlbnRMYW5ndWFnZSA9IHVzZXJEYXRhPy5wcmVmZXJyZWRMYW5ndWFnZTtcclxuXHRcdGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcblxyXG5cdFx0Y29uc3QgcGFyYW0gPSBzZWFyY2hQYXJhbXMuZ2V0KFwiY2F0ZWdvcnlcIik7XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRwYXJhbSAhPT0gXCJhbmltYXRlZFwiICYmXHJcblx0XHRcdHBhcmFtICE9PSBcImhvcnJvclwiICYmXHJcblx0XHRcdHBhcmFtICE9PSBcImZhbnRhc3lcIiAmJlxyXG5cdFx0XHRwYXJhbSAhPT0gXCJjb21lZHlcIlxyXG5cdFx0KSB7XHJcblx0XHRcdG5vUGFnZUZvdW5kUmVkaXJlY3Rpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXVzZXJEYXRhIHx8ICFpc0xvZ2dlZEluKSB7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZUJyb3dzZVBhZ2UodHJhbnNsYXRpb25zKSk7XHJcblx0XHRcdGdldEZpbG1zQnlDYXRlZ29yeShwYXJhbSwgY3VycmVudExhbmd1YWdlLCB0cmFuc2xhdGlvbnMpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3QgZ2V0RmlsbXNCeUNhdGVnb3J5ID0gYXN5bmMgKHBhcmFtLCBjdXJyZW50TGFuZ3VhZ2UsIHRyYW5zbGF0aW9ucykgPT4ge1xyXG5cdFx0Y29uc3QgZ2VucmUgPSBzcGVjaWZ5R2VucmUocGFyYW0pO1xyXG5cdFx0Y29uc3QgRklMTVNfVVJMID0gYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvZGlzY292ZXIvbW92aWU/d2l0aF9vcmlnaW5fY291bnRyeT1VU3xHQiZsYW5ndWFnZT0ke2N1cnJlbnRMYW5ndWFnZX0mc29ydF9ieT1wb3B1bGFyaXR5LmRlc2Mmd2l0aF9nZW5yZXM9JHtnZW5yZVswXX1gO1xyXG5cdFx0Y29uc3QgVFZfU0VSSUVTX1VSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2Rpc2NvdmVyL3R2P3dpdGhfb3JpZ2luX2NvdW50cnk9VVN8R0ImbGFuZ3VhZ2U9JHtjdXJyZW50TGFuZ3VhZ2V9JnNvcnRfYnk9cG9wdWxhcml0eS5kZXNjJndpdGhfZ2VucmVzPSR7Z2VucmVbMF19fCR7Z2VucmVbMV19YDtcclxuXHJcblx0XHRjb25zdCByZXF1ZXN0cyA9IFtdO1xyXG5cdFx0Y29uc3QgcGFnZXNOdW0gPSAxO1xyXG5cclxuXHRcdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSBwYWdlc051bTsgaSsrKSB7XHJcblx0XHRcdFx0cmVxdWVzdHMucHVzaChmZXRjaChgJHtGSUxNU19VUkx9JnBhZ2U9JHtpfWAsIG9wdGlvbnMpKTtcclxuXHRcdFx0XHRyZXF1ZXN0cy5wdXNoKGZldGNoKGAke1RWX1NFUklFU19VUkx9JnBhZ2U9JHtpfWAsIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocmVxdWVzdHMpO1xyXG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwocmVzcG9uc2VzLm1hcCgocmVzKSA9PiByZXMuanNvbigpKSk7XHJcblx0XHRcdHJlbmRlckZpbG1zKGRhdGEsIHRyYW5zbGF0aW9ucyk7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAoYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZGAsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3QgcmVuZGVyRmlsbXMgPSAoZGF0YSwgdHJhbnNsYXRpb25zKSA9PiB7XHJcblx0XHRjb25zdCBhbGxGaWxtcyA9IGRhdGEubWFwKChmaWxtKSA9PiBmaWxtLnJlc3VsdHMpO1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZChjcmVhdGVTcGVjaWZpZWRTZWN0aW9uUG9zdGVyKGFsbEZpbG1zLCB0cmFuc2xhdGlvbnMpKTtcclxuXHR9O1xyXG5cdGNvbnN0IHNwZWNpZnlHZW5yZSA9IChwYXJhbSkgPT4ge1xyXG5cdFx0bGV0IGdlbnJlO1xyXG5cdFx0bGV0IGFsdGVybmF0aXZlR2VucmU7XHJcblx0XHRzd2l0Y2ggKHBhcmFtKSB7XHJcblx0XHRcdGNhc2UgXCJhbmltYXRlZFwiOlxyXG5cdFx0XHRcdGdlbnJlID0gMTY7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJob3Jyb3JcIjpcclxuXHRcdFx0XHRnZW5yZSA9IDI3O1xyXG5cdFx0XHRcdGFsdGVybmF0aXZlR2VucmUgPSAxODtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImZhbnRhc3lcIjpcclxuXHRcdFx0XHRnZW5yZSA9IDE0O1xyXG5cdFx0XHRcdGFsdGVybmF0aXZlR2VucmUgPSAxMDc2NTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImNvbWVkeVwiOlxyXG5cdFx0XHRcdGdlbnJlID0gMzU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFtnZW5yZSwgYWx0ZXJuYXRpdmVHZW5yZV07XHJcblx0fTtcclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRjbG9zZUFsbE5vdENsaWNrZWQoZSk7XHJcblx0fSk7XHJcblx0Y2hlY2tBdXRob3JpemF0aW9uKCk7XHJcbn0pO1xyXG4iXX0=
