import{createElement}from"./helpers.min.js";import{updateElement,setUserPreference}from"./updateStateFunctions.min.js";import{createLoginPage,showBigLoader,hideBigLoader,createLoginHeader,getData}from"./components.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container");let t=function(){let e=navigator.language||navigator.userLanguage;return e&&"pl"===e&&"en"===e?(e=e.slice(0,2).toLowerCase(),e):"pl"}();const a={pl:"Polski",en:"English"};let n={};window.translations={};let o=Object.keys(a).length;(()=>{try{const e=getData();if(!e||0===Object.keys(e).length)return;e.loggedIn&&(window.location.href="profiles.html")}catch(e){console.error("Error checking login status:",e)}})();(()=>{const e=getData()?.preferredLanguage;e&&(t=e)})();(async()=>{try{e.append(showBigLoader());const a=await fetch(`./src/json/${t}.json`),n=await a.json();translations=n}catch{console.error("Error loading initial translation file")}finally{hideBigLoader()}e.prepend(createLoginHeader(translations,o,a,t,i)),e.append(createLoginPage(translations))})();const r=async()=>{try{const e=await fetch(`./src/json/${t}.json`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();translations=a,updateElement("login-header__logo","aria",translations.header.aria.logoLink),updateElement("login-header__logo-img","alt",translations.header.alt.logo),updateElement("login-header__lang-select","aria",translations.header.aria.changeLanguageButton),updateElement("main__title","text",translations.main.text.title),updateElement("main__subtitle","text",translations.main.text.subtitle),updateElement("main__text","text",translations.main.text.description),updateElement("main__form-input--username","placeholder",translations.main.placeholder.username),updateElement("main__form-input--password","placeholder",translations.main.placeholder.password),updateElement("main__form-button-text","text",translations.main.text.button),updateElement("main__form-error-txt","text",translations.main.text.errorRequired)}catch{console.error("Error loading translation file")}};function i(e,o){if(this.classList.toggle("active"),e.target.matches(".login-header__lang-choice")){const i=e.target.dataset.lang;o.textContent=a[i],t=i,r(t),setUserPreference("preferredLanguage",t,n)}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsIm5hbWVzIjpbImNyZWF0ZUVsZW1lbnQiLCJ1cGRhdGVFbGVtZW50Iiwic2V0VXNlclByZWZlcmVuY2UiLCJjcmVhdGVMb2dpblBhZ2UiLCJzaG93QmlnTG9hZGVyIiwiaGlkZUJpZ0xvYWRlciIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiZ2V0RGF0YSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJsYW5ndWFnZSIsInVzZXJMYW5nIiwibmF2aWdhdG9yIiwidXNlckxhbmd1YWdlIiwic2xpY2UiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZVVzZXJMYW5ndWFnZSIsImxhbmdOYW1lcyIsInBsIiwiZW4iLCJ1c2VyRGF0YSIsIndpbmRvdyIsInRyYW5zbGF0aW9ucyIsImxhbmdBbW91bnQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibG9nZ2VkSW4iLCJsb2NhdGlvbiIsImhyZWYiLCJlcnJvciIsImNvbnNvbGUiLCJjaGVja0lmTG9nZ2VkSW4iLCJwcmVmZXJyZWRMYW5nIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJnZXRVc2VyTGFuZ3VhZ2VQcmVmZXJlbmNlIiwiYXN5bmMiLCJhcHBlbmQiLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJwcmVwZW5kIiwiaGFuZGxlTGFuZ1NlbGVjdCIsImxvYWRGaXJzdFRyYW5zbGF0aW9ucyIsImxvYWRUcmFuc2xhdGlvbnMiLCJvayIsIkVycm9yIiwiaGVhZGVyIiwiYXJpYSIsImxvZ29MaW5rIiwiYWx0IiwibG9nbyIsImNoYW5nZUxhbmd1YWdlQnV0dG9uIiwibWFpbiIsInRleHQiLCJ0aXRsZSIsInN1YnRpdGxlIiwiZGVzY3JpcHRpb24iLCJwbGFjZWhvbGRlciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJidXR0b24iLCJlcnJvclJlcXVpcmVkIiwiZSIsImxhbmdUZXh0IiwidGhpcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRhcmdldCIsIm1hdGNoZXMiLCJzZWxlY3RlZExhbmciLCJkYXRhc2V0IiwibGFuZyIsInRleHRDb250ZW50Il0sInNvdXJjZXMiOlsic2NyaXB0LmpzIl0sIm1hcHBpbmdzIjoiT0FBU0Esa0JBQXFCLDBCQUU3QkMsY0FDQUMsc0JBQ00sdUNBRU5DLGdCQUNBQyxjQUNBQyxjQUNBQyxrQkFDQUMsWUFDTSxzQkFFUEMsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUM3QyxNQUFNQyxFQUFZRixTQUFTRyxjQUFjLGNBRXpDLElBQUlDLEVBd0JKLFdBQ0MsSUFBSUMsRUFBV0MsVUFBVUYsVUFBWUUsVUFBVUMsYUFFL0MsT0FBS0YsR0FBeUIsT0FBYkEsR0FBa0MsT0FBYkEsR0FFdENBLEVBQVdBLEVBQVNHLE1BQU0sRUFBRyxHQUFHQyxjQUV6QkosR0FKeUQsSUFLakUsQ0FoQ2VLLEdBRWYsTUFBTUMsRUFBWSxDQUFFQyxHQUFJLFNBQVVDLEdBQUksV0FFdEMsSUFBSUMsRUFBVyxDQUFDLEVBRWhCQyxPQUFPQyxhQUFlLENBQUMsRUFJdkIsSUFBSUMsRUFGY0MsT0FBT0MsS0FBS1IsR0FFSFMsT0FFSCxNQUN2QixJQUNDLE1BQU1OLEVBQVdmLFVBQ2pCLElBQUtlLEdBQTZDLElBQWpDSSxPQUFPQyxLQUFLTCxHQUFVTSxPQUFjLE9BQ2pETixFQUFTTyxXQUFVTixPQUFPTyxTQUFTQyxLQUFPLGdCQUMvQyxDQUFFLE1BQU9DLEdBQ1JDLFFBQVFELE1BQU0sK0JBQWdDQSxFQUMvQyxHQUdERSxHQVdrQyxNQUNqQyxNQUFNQyxFQUFnQjVCLFdBQVc2QixrQkFFN0JELElBQWV2QixFQUFXdUIsSUFFL0JFLEdBRThCQyxXQUM3QixJQUNDNUIsRUFBVTZCLE9BQU9uQyxpQkFFakIsTUFBTW9DLFFBQWlCQyxNQUFNLGNBQWM3QixVQUNyQzhCLFFBQWFGLEVBQVNHLE9BQzVCbkIsYUFBZWtCLENBQ2hCLENBQUUsTUFDRFQsUUFBUUQsTUFBTSx5Q0FDZixDQUFFLFFBQ0QzQixlQUNELENBR0FLLEVBQVVrQyxRQUNUdEMsa0JBQ0NrQixhQUNBQyxFQUNBTixFQUNBUCxFQUNBaUMsSUFHRm5DLEVBQVU2QixPQUFPcEMsZ0JBQWdCcUIsZ0JBR2xDc0IsR0FDQSxNQUFNQyxFQUFtQlQsVUFDeEIsSUFDQyxNQUFNRSxRQUFpQkMsTUFBTSxjQUFjN0IsVUFFM0MsSUFBSzRCLEVBQVNRLEdBQUksTUFBTSxJQUFJQyxNQUFNLCtCQUVsQyxNQUFNUCxRQUFhRixFQUFTRyxPQUM1Qm5CLGFBQWVrQixFQUVmekMsY0FDQyxxQkFDQSxPQUNBdUIsYUFBYTBCLE9BQU9DLEtBQUtDLFVBRTFCbkQsY0FDQyx5QkFDQSxNQUNBdUIsYUFBYTBCLE9BQU9HLElBQUlDLE1BRXpCckQsY0FDQyw0QkFDQSxPQUNBdUIsYUFBYTBCLE9BQU9DLEtBQUtJLHNCQUUxQnRELGNBQWMsY0FBZSxPQUFRdUIsYUFBYWdDLEtBQUtDLEtBQUtDLE9BQzVEekQsY0FBYyxpQkFBa0IsT0FBUXVCLGFBQWFnQyxLQUFLQyxLQUFLRSxVQUMvRDFELGNBQWMsYUFBYyxPQUFRdUIsYUFBYWdDLEtBQUtDLEtBQUtHLGFBQzNEM0QsY0FDQyw2QkFDQSxjQUNBdUIsYUFBYWdDLEtBQUtLLFlBQVlDLFVBRS9CN0QsY0FDQyw2QkFDQSxjQUNBdUIsYUFBYWdDLEtBQUtLLFlBQVlFLFVBRS9COUQsY0FDQyx5QkFDQSxPQUNBdUIsYUFBYWdDLEtBQUtDLEtBQUtPLFFBRXhCL0QsY0FDQyx1QkFDQSxPQUNBdUIsYUFBYWdDLEtBQUtDLEtBQUtRLGNBRXpCLENBQUUsTUFDRGhDLFFBQVFELE1BQU0saUNBQ2YsR0FFRCxTQUFTYSxFQUFpQnFCLEVBQUdDLEdBRzVCLEdBRmtCQyxLQUNSQyxVQUFVQyxPQUFPLFVBQ3ZCSixFQUFFSyxPQUFPQyxRQUFRLDhCQUErQixDQUNuRCxNQUFNQyxFQUFlUCxFQUFFSyxPQUFPRyxRQUFRQyxLQUN0Q1IsRUFBU1MsWUFBY3pELEVBQVVzRCxHQUNqQzdELEVBQVc2RCxFQUVYMUIsRUFBaUJuQyxHQUNqQlYsa0JBQWtCLG9CQUFxQlUsRUFBVVUsRUFDbEQsQ0FDRCxDQUNEIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwiLi9oZWxwZXJzLm1pbi5qc1wiO1xyXG5pbXBvcnQge1xyXG5cdHVwZGF0ZUVsZW1lbnQsXHJcblx0c2V0VXNlclByZWZlcmVuY2UsXHJcbn0gZnJvbSBcIi4vdXBkYXRlU3RhdGVGdW5jdGlvbnMubWluLmpzXCI7XHJcbmltcG9ydCB7XHJcblx0Y3JlYXRlTG9naW5QYWdlLFxyXG5cdHNob3dCaWdMb2FkZXIsXHJcblx0aGlkZUJpZ0xvYWRlcixcclxuXHRjcmVhdGVMb2dpbkhlYWRlcixcclxuXHRnZXREYXRhLFxyXG59IGZyb20gXCIuL2NvbXBvbmVudHMubWluLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGxldCBsYW5ndWFnZSA9IGhhbmRsZVVzZXJMYW5ndWFnZSgpO1xyXG5cclxuXHRjb25zdCBsYW5nTmFtZXMgPSB7IHBsOiBcIlBvbHNraVwiLCBlbjogXCJFbmdsaXNoXCIgfTtcclxuXHJcblx0bGV0IHVzZXJEYXRhID0ge307XHJcblxyXG5cdHdpbmRvdy50cmFuc2xhdGlvbnMgPSB7fTtcclxuXHJcblx0Y29uc3QgbGFuZ0NvZGVzID0gT2JqZWN0LmtleXMobGFuZ05hbWVzKTtcclxuXHJcblx0bGV0IGxhbmdBbW91bnQgPSBsYW5nQ29kZXMubGVuZ3RoO1xyXG5cclxuXHRjb25zdCBjaGVja0lmTG9nZ2VkSW4gPSAoKSA9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRcdFx0aWYgKCF1c2VyRGF0YSB8fCBPYmplY3Qua2V5cyh1c2VyRGF0YSkubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblx0XHRcdGlmICh1c2VyRGF0YS5sb2dnZWRJbikgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcInByb2ZpbGVzLmh0bWxcIjtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjaGVja2luZyBsb2dpbiBzdGF0dXM6XCIsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjaGVja0lmTG9nZ2VkSW4oKTtcclxuXHJcblx0ZnVuY3Rpb24gaGFuZGxlVXNlckxhbmd1YWdlKCkge1xyXG5cdFx0bGV0IHVzZXJMYW5nID0gbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2U7XHJcblxyXG5cdFx0aWYgKCF1c2VyTGFuZyB8fCB1c2VyTGFuZyAhPT0gXCJwbFwiIHx8IHVzZXJMYW5nICE9PSBcImVuXCIpIHJldHVybiBcInBsXCI7XHJcblxyXG5cdFx0dXNlckxhbmcgPSB1c2VyTGFuZy5zbGljZSgwLCAyKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuXHRcdHJldHVybiB1c2VyTGFuZztcclxuXHR9XHJcblx0Y29uc3QgZ2V0VXNlckxhbmd1YWdlUHJlZmVyZW5jZSA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHByZWZlcnJlZExhbmcgPSBnZXREYXRhKCk/LnByZWZlcnJlZExhbmd1YWdlO1xyXG5cclxuXHRcdGlmIChwcmVmZXJyZWRMYW5nKSBsYW5ndWFnZSA9IHByZWZlcnJlZExhbmc7XHJcblx0fTtcclxuXHRnZXRVc2VyTGFuZ3VhZ2VQcmVmZXJlbmNlKCk7XHJcblxyXG5cdGNvbnN0IGxvYWRGaXJzdFRyYW5zbGF0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC4vc3JjL2pzb24vJHtsYW5ndWFnZX0uanNvbmApO1xyXG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHR0cmFuc2xhdGlvbnMgPSBkYXRhO1xyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGluaXRpYWwgdHJhbnNsYXRpb24gZmlsZVwiKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGhpZGVCaWdMb2FkZXIoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBUFBFTkQgU0VDVElPTlxyXG5cdFx0Y29udGFpbmVyLnByZXBlbmQoXHJcblx0XHRcdGNyZWF0ZUxvZ2luSGVhZGVyKFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucyxcclxuXHRcdFx0XHRsYW5nQW1vdW50LFxyXG5cdFx0XHRcdGxhbmdOYW1lcyxcclxuXHRcdFx0XHRsYW5ndWFnZSxcclxuXHRcdFx0XHRoYW5kbGVMYW5nU2VsZWN0XHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZUxvZ2luUGFnZSh0cmFuc2xhdGlvbnMpKTtcclxuXHR9O1xyXG5cclxuXHRsb2FkRmlyc3RUcmFuc2xhdGlvbnMoKTtcclxuXHRjb25zdCBsb2FkVHJhbnNsYXRpb25zID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgLi9zcmMvanNvbi8ke2xhbmd1YWdlfS5qc29uYCk7XHJcblxyXG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2tcIik7XHJcblxyXG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHR0cmFuc2xhdGlvbnMgPSBkYXRhO1xyXG5cdFx0XHQvLyBVUERBVEUgRUxFTUVOVFNcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcImxvZ2luLWhlYWRlcl9fbG9nb1wiLFxyXG5cdFx0XHRcdFwiYXJpYVwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5oZWFkZXIuYXJpYS5sb2dvTGlua1xyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibG9naW4taGVhZGVyX19sb2dvLWltZ1wiLFxyXG5cdFx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLmhlYWRlci5hbHQubG9nb1xyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibG9naW4taGVhZGVyX19sYW5nLXNlbGVjdFwiLFxyXG5cdFx0XHRcdFwiYXJpYVwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5oZWFkZXIuYXJpYS5jaGFuZ2VMYW5ndWFnZUJ1dHRvblxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFwibWFpbl9fdGl0bGVcIiwgXCJ0ZXh0XCIsIHRyYW5zbGF0aW9ucy5tYWluLnRleHQudGl0bGUpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFwibWFpbl9fc3VidGl0bGVcIiwgXCJ0ZXh0XCIsIHRyYW5zbGF0aW9ucy5tYWluLnRleHQuc3VidGl0bGUpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFwibWFpbl9fdGV4dFwiLCBcInRleHRcIiwgdHJhbnNsYXRpb25zLm1haW4udGV4dC5kZXNjcmlwdGlvbik7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJtYWluX19mb3JtLWlucHV0LS11c2VybmFtZVwiLFxyXG5cdFx0XHRcdFwicGxhY2Vob2xkZXJcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi5wbGFjZWhvbGRlci51c2VybmFtZVxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibWFpbl9fZm9ybS1pbnB1dC0tcGFzc3dvcmRcIixcclxuXHRcdFx0XHRcInBsYWNlaG9sZGVyXCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLm1haW4ucGxhY2Vob2xkZXIucGFzc3dvcmRcclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcIm1haW5fX2Zvcm0tYnV0dG9uLXRleHRcIixcclxuXHRcdFx0XHRcInRleHRcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmJ1dHRvblxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibWFpbl9fZm9ybS1lcnJvci10eHRcIixcclxuXHRcdFx0XHRcInRleHRcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9yUmVxdWlyZWRcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyB0cmFuc2xhdGlvbiBmaWxlXCIpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0ZnVuY3Rpb24gaGFuZGxlTGFuZ1NlbGVjdChlLCBsYW5nVGV4dCkge1xyXG5cdFx0Y29uc3Qgc2VsZWN0QnRuID0gdGhpcztcclxuXHRcdHNlbGVjdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG5cdFx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIubG9naW4taGVhZGVyX19sYW5nLWNob2ljZVwiKSkge1xyXG5cdFx0XHRjb25zdCBzZWxlY3RlZExhbmcgPSBlLnRhcmdldC5kYXRhc2V0Lmxhbmc7XHJcblx0XHRcdGxhbmdUZXh0LnRleHRDb250ZW50ID0gbGFuZ05hbWVzW3NlbGVjdGVkTGFuZ107XHJcblx0XHRcdGxhbmd1YWdlID0gc2VsZWN0ZWRMYW5nO1xyXG5cclxuXHRcdFx0bG9hZFRyYW5zbGF0aW9ucyhsYW5ndWFnZSk7XHJcblx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwicHJlZmVycmVkTGFuZ3VhZ2VcIiwgbGFuZ3VhZ2UsIHVzZXJEYXRhKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG4iXX0=
