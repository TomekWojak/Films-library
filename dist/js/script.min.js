import{createElement}from"./helpers.min.js";import{updateElement,setUserPreference}from"./updateStateFunctions.min.js";import{createLoginPage,showBigLoader,hideBigLoader,createLoginHeader}from"./components.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container");let t=function(){let e=navigator.language||navigator.userLanguage;return e&&"pl"===e&&"en"===e?(e=e.slice(0,2).toLowerCase(),e):"pl"}();const a={pl:"Polski",en:"English"};let n={};window.translations={};let r=Object.keys(a).length;(()=>{const e=JSON.parse(localStorage.getItem("userData"))?.preferredLanguage;e&&(t=e)})();(async()=>{try{e.append(showBigLoader());const a=await fetch(`./src/json/${t}.json`),n=await a.json();translations=n}catch{console.error("Error loading initial translation file")}finally{hideBigLoader()}e.prepend(createLoginHeader(translations,r,a,t,i)),e.append(createLoginPage(translations))})();const o=async()=>{try{const e=await fetch(`./src/json/${t}.json`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();translations=a,updateElement("login-header__logo","aria",translations.header.aria.logoLink),updateElement("login-header__logo-img","alt",translations.header.alt.logo),updateElement("login-header__lang-select","aria",translations.header.aria.changeLanguageButton),updateElement("main__title","text",translations.main.text.title),updateElement("main__subtitle","text",translations.main.text.subtitle),updateElement("main__text","text",translations.main.text.description),updateElement("main__form-input--username","placeholder",translations.main.placeholder.username),updateElement("main__form-input--password","placeholder",translations.main.placeholder.password),updateElement("main__form-button-text","text",translations.main.text.button),updateElement("main__form-error-txt","text",translations.main.text.errorRequired)}catch{console.error("Error loading translation file")}};function i(e,r){if(this.classList.toggle("active"),e.target.matches(".login-header__lang-choice")){const i=e.target.dataset.lang;r.textContent=a[i],t=i,o(t),setUserPreference("preferredLanguage",t,n)}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsIm5hbWVzIjpbImNyZWF0ZUVsZW1lbnQiLCJ1cGRhdGVFbGVtZW50Iiwic2V0VXNlclByZWZlcmVuY2UiLCJjcmVhdGVMb2dpblBhZ2UiLCJzaG93QmlnTG9hZGVyIiwiaGlkZUJpZ0xvYWRlciIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImxhbmd1YWdlIiwidXNlckxhbmciLCJuYXZpZ2F0b3IiLCJ1c2VyTGFuZ3VhZ2UiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwiaGFuZGxlVXNlckxhbmd1YWdlIiwibGFuZ05hbWVzIiwicGwiLCJlbiIsInVzZXJEYXRhIiwid2luZG93IiwidHJhbnNsYXRpb25zIiwibGFuZ0Ftb3VudCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJwcmVmZXJyZWRMYW5nIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInByZWZlcnJlZExhbmd1YWdlIiwiZ2V0VXNlckxhbmd1YWdlUHJlZmVyZW5jZSIsImFzeW5jIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwiY29uc29sZSIsImVycm9yIiwicHJlcGVuZCIsImhhbmRsZUxhbmdTZWxlY3QiLCJsb2FkRmlyc3RUcmFuc2xhdGlvbnMiLCJsb2FkVHJhbnNsYXRpb25zIiwib2siLCJFcnJvciIsImhlYWRlciIsImFyaWEiLCJsb2dvTGluayIsImFsdCIsImxvZ28iLCJjaGFuZ2VMYW5ndWFnZUJ1dHRvbiIsIm1haW4iLCJ0ZXh0IiwidGl0bGUiLCJzdWJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicGxhY2Vob2xkZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYnV0dG9uIiwiZXJyb3JSZXF1aXJlZCIsImUiLCJsYW5nVGV4dCIsInRoaXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0YXJnZXQiLCJtYXRjaGVzIiwic2VsZWN0ZWRMYW5nIiwiZGF0YXNldCIsImxhbmciLCJ0ZXh0Q29udGVudCJdLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLGtCQUFxQiwwQkFFN0JDLGNBQ0FDLHNCQUNNLHVDQUVOQyxnQkFDQUMsY0FDQUMsY0FDQUMsc0JBQ00sc0JBRVBDLFNBQVNDLGlCQUFpQixtQkFBb0IsV0FDN0MsTUFBTUMsRUFBWUYsU0FBU0csY0FBYyxjQUV6QyxJQUFJQyxFQVlKLFdBQ0MsSUFBSUMsRUFBV0MsVUFBVUYsVUFBWUUsVUFBVUMsYUFFL0MsT0FBS0YsR0FBeUIsT0FBYkEsR0FBa0MsT0FBYkEsR0FFdENBLEVBQVdBLEVBQVNHLE1BQU0sRUFBRyxHQUFHQyxjQUV6QkosR0FKeUQsSUFLakUsQ0FwQmVLLEdBRWYsTUFBTUMsRUFBWSxDQUFFQyxHQUFJLFNBQVVDLEdBQUksV0FFdEMsSUFBSUMsRUFBVyxDQUFDLEVBRWhCQyxPQUFPQyxhQUFlLENBQUMsRUFJdkIsSUFBSUMsRUFGY0MsT0FBT0MsS0FBS1IsR0FFSFMsT0FXTyxNQUNqQyxNQUFNQyxFQUFnQkMsS0FBS0MsTUFDMUJDLGFBQWFDLFFBQVEsY0FDbkJDLGtCQUVDTCxJQUFlakIsRUFBV2lCLElBRS9CTSxHQUU4QkMsV0FDN0IsSUFDQzFCLEVBQVUyQixPQUFPaEMsaUJBRWpCLE1BQU1pQyxRQUFpQkMsTUFBTSxjQUFjM0IsVUFDckM0QixRQUFhRixFQUFTRyxPQUM1QmpCLGFBQWVnQixDQUNoQixDQUFFLE1BQ0RFLFFBQVFDLE1BQU0seUNBQ2YsQ0FBRSxRQUNEckMsZUFDRCxDQUdBSSxFQUFVa0MsUUFDVHJDLGtCQUNDaUIsYUFDQUMsRUFDQU4sRUFDQVAsRUFDQWlDLElBR0ZuQyxFQUFVMkIsT0FBT2pDLGdCQUFnQm9CLGdCQUdsQ3NCLEdBQ0EsTUFBTUMsRUFBbUJYLFVBQ3hCLElBQ0MsTUFBTUUsUUFBaUJDLE1BQU0sY0FBYzNCLFVBRTNDLElBQUswQixFQUFTVSxHQUFJLE1BQU0sSUFBSUMsTUFBTSwrQkFFbEMsTUFBTVQsUUFBYUYsRUFBU0csT0FDNUJqQixhQUFlZ0IsRUFFZnRDLGNBQ0MscUJBQ0EsT0FDQXNCLGFBQWEwQixPQUFPQyxLQUFLQyxVQUUxQmxELGNBQ0MseUJBQ0EsTUFDQXNCLGFBQWEwQixPQUFPRyxJQUFJQyxNQUV6QnBELGNBQ0MsNEJBQ0EsT0FDQXNCLGFBQWEwQixPQUFPQyxLQUFLSSxzQkFFMUJyRCxjQUFjLGNBQWUsT0FBUXNCLGFBQWFnQyxLQUFLQyxLQUFLQyxPQUM1RHhELGNBQWMsaUJBQWtCLE9BQVFzQixhQUFhZ0MsS0FBS0MsS0FBS0UsVUFDL0R6RCxjQUFjLGFBQWMsT0FBUXNCLGFBQWFnQyxLQUFLQyxLQUFLRyxhQUMzRDFELGNBQ0MsNkJBQ0EsY0FDQXNCLGFBQWFnQyxLQUFLSyxZQUFZQyxVQUUvQjVELGNBQ0MsNkJBQ0EsY0FDQXNCLGFBQWFnQyxLQUFLSyxZQUFZRSxVQUUvQjdELGNBQ0MseUJBQ0EsT0FDQXNCLGFBQWFnQyxLQUFLQyxLQUFLTyxRQUV4QjlELGNBQ0MsdUJBQ0EsT0FDQXNCLGFBQWFnQyxLQUFLQyxLQUFLUSxjQUV6QixDQUFFLE1BQ0R2QixRQUFRQyxNQUFNLGlDQUNmLEdBRUQsU0FBU0UsRUFBaUJxQixFQUFHQyxHQUc1QixHQUZrQkMsS0FDUkMsVUFBVUMsT0FBTyxVQUN2QkosRUFBRUssT0FBT0MsUUFBUSw4QkFBK0IsQ0FDbkQsTUFBTUMsRUFBZVAsRUFBRUssT0FBT0csUUFBUUMsS0FDdENSLEVBQVNTLFlBQWN6RCxFQUFVc0QsR0FDakM3RCxFQUFXNkQsRUFFWDFCLEVBQWlCbkMsR0FDakJULGtCQUFrQixvQkFBcUJTLEVBQVVVLEVBQ2xELENBQ0QsQ0FDRCIsImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSBcIi4vaGVscGVycy5taW4uanNcIjtcclxuaW1wb3J0IHtcclxuXHR1cGRhdGVFbGVtZW50LFxyXG5cdHNldFVzZXJQcmVmZXJlbmNlLFxyXG59IGZyb20gXCIuL3VwZGF0ZVN0YXRlRnVuY3Rpb25zLm1pbi5qc1wiO1xyXG5pbXBvcnQge1xyXG5cdGNyZWF0ZUxvZ2luUGFnZSxcclxuXHRzaG93QmlnTG9hZGVyLFxyXG5cdGhpZGVCaWdMb2FkZXIsXHJcblx0Y3JlYXRlTG9naW5IZWFkZXIsXHJcbn0gZnJvbSBcIi4vY29tcG9uZW50cy5taW4uanNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0bGV0IGxhbmd1YWdlID0gaGFuZGxlVXNlckxhbmd1YWdlKCk7XHJcblxyXG5cdGNvbnN0IGxhbmdOYW1lcyA9IHsgcGw6IFwiUG9sc2tpXCIsIGVuOiBcIkVuZ2xpc2hcIiB9O1xyXG5cclxuXHRsZXQgdXNlckRhdGEgPSB7fTtcclxuXHJcblx0d2luZG93LnRyYW5zbGF0aW9ucyA9IHt9O1xyXG5cclxuXHRjb25zdCBsYW5nQ29kZXMgPSBPYmplY3Qua2V5cyhsYW5nTmFtZXMpO1xyXG5cclxuXHRsZXQgbGFuZ0Ftb3VudCA9IGxhbmdDb2Rlcy5sZW5ndGg7XHJcblxyXG5cdGZ1bmN0aW9uIGhhbmRsZVVzZXJMYW5ndWFnZSgpIHtcclxuXHRcdGxldCB1c2VyTGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlO1xyXG5cclxuXHRcdGlmICghdXNlckxhbmcgfHwgdXNlckxhbmcgIT09IFwicGxcIiB8fCB1c2VyTGFuZyAhPT0gXCJlblwiKSByZXR1cm4gXCJwbFwiO1xyXG5cclxuXHRcdHVzZXJMYW5nID0gdXNlckxhbmcuc2xpY2UoMCwgMikudG9Mb3dlckNhc2UoKTtcclxuXHJcblx0XHRyZXR1cm4gdXNlckxhbmc7XHJcblx0fVxyXG5cdGNvbnN0IGdldFVzZXJMYW5ndWFnZVByZWZlcmVuY2UgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBwcmVmZXJyZWRMYW5nID0gSlNPTi5wYXJzZShcclxuXHRcdFx0bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyRGF0YVwiKVxyXG5cdFx0KT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblxyXG5cdFx0aWYgKHByZWZlcnJlZExhbmcpIGxhbmd1YWdlID0gcHJlZmVycmVkTGFuZztcclxuXHR9O1xyXG5cdGdldFVzZXJMYW5ndWFnZVByZWZlcmVuY2UoKTtcclxuXHJcblx0Y29uc3QgbG9hZEZpcnN0VHJhbnNsYXRpb25zID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgLi9zcmMvanNvbi8ke2xhbmd1YWdlfS5qc29uYCk7XHJcblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRcdHRyYW5zbGF0aW9ucyA9IGRhdGE7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgaW5pdGlhbCB0cmFuc2xhdGlvbiBmaWxlXCIpO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFQUEVORCBTRUNUSU9OXHJcblx0XHRjb250YWluZXIucHJlcGVuZChcclxuXHRcdFx0Y3JlYXRlTG9naW5IZWFkZXIoXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLFxyXG5cdFx0XHRcdGxhbmdBbW91bnQsXHJcblx0XHRcdFx0bGFuZ05hbWVzLFxyXG5cdFx0XHRcdGxhbmd1YWdlLFxyXG5cdFx0XHRcdGhhbmRsZUxhbmdTZWxlY3RcclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHRcdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlTG9naW5QYWdlKHRyYW5zbGF0aW9ucykpO1xyXG5cdH07XHJcblxyXG5cdGxvYWRGaXJzdFRyYW5zbGF0aW9ucygpO1xyXG5cdGNvbnN0IGxvYWRUcmFuc2xhdGlvbnMgPSBhc3luYyAoKSA9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAuL3NyYy9qc29uLyR7bGFuZ3VhZ2V9Lmpzb25gKTtcclxuXHJcblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihcIk5ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBva1wiKTtcclxuXHJcblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRcdHRyYW5zbGF0aW9ucyA9IGRhdGE7XHJcblx0XHRcdC8vIFVQREFURSBFTEVNRU5UU1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibG9naW4taGVhZGVyX19sb2dvXCIsXHJcblx0XHRcdFx0XCJhcmlhXCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLmhlYWRlci5hcmlhLmxvZ29MaW5rXHJcblx0XHRcdCk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJsb2dpbi1oZWFkZXJfX2xvZ28taW1nXCIsXHJcblx0XHRcdFx0XCJhbHRcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMuaGVhZGVyLmFsdC5sb2dvXHJcblx0XHRcdCk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJsb2dpbi1oZWFkZXJfX2xhbmctc2VsZWN0XCIsXHJcblx0XHRcdFx0XCJhcmlhXCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLmhlYWRlci5hcmlhLmNoYW5nZUxhbmd1YWdlQnV0dG9uXHJcblx0XHRcdCk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXCJtYWluX190aXRsZVwiLCBcInRleHRcIiwgdHJhbnNsYXRpb25zLm1haW4udGV4dC50aXRsZSk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXCJtYWluX19zdWJ0aXRsZVwiLCBcInRleHRcIiwgdHJhbnNsYXRpb25zLm1haW4udGV4dC5zdWJ0aXRsZSk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXCJtYWluX190ZXh0XCIsIFwidGV4dFwiLCB0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmRlc2NyaXB0aW9uKTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcIm1haW5fX2Zvcm0taW5wdXQtLXVzZXJuYW1lXCIsXHJcblx0XHRcdFx0XCJwbGFjZWhvbGRlclwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnBsYWNlaG9sZGVyLnVzZXJuYW1lXHJcblx0XHRcdCk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJtYWluX19mb3JtLWlucHV0LS1wYXNzd29yZFwiLFxyXG5cdFx0XHRcdFwicGxhY2Vob2xkZXJcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi5wbGFjZWhvbGRlci5wYXNzd29yZFxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibWFpbl9fZm9ybS1idXR0b24tdGV4dFwiLFxyXG5cdFx0XHRcdFwidGV4dFwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnRleHQuYnV0dG9uXHJcblx0XHRcdCk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJtYWluX19mb3JtLWVycm9yLXR4dFwiLFxyXG5cdFx0XHRcdFwidGV4dFwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnRleHQuZXJyb3JSZXF1aXJlZFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHRyYW5zbGF0aW9uIGZpbGVcIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHRmdW5jdGlvbiBoYW5kbGVMYW5nU2VsZWN0KGUsIGxhbmdUZXh0KSB7XHJcblx0XHRjb25zdCBzZWxlY3RCdG4gPSB0aGlzO1xyXG5cdFx0c2VsZWN0QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcblx0XHRpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5sb2dpbi1oZWFkZXJfX2xhbmctY2hvaWNlXCIpKSB7XHJcblx0XHRcdGNvbnN0IHNlbGVjdGVkTGFuZyA9IGUudGFyZ2V0LmRhdGFzZXQubGFuZztcclxuXHRcdFx0bGFuZ1RleHQudGV4dENvbnRlbnQgPSBsYW5nTmFtZXNbc2VsZWN0ZWRMYW5nXTtcclxuXHRcdFx0bGFuZ3VhZ2UgPSBzZWxlY3RlZExhbmc7XHJcblxyXG5cdFx0XHRsb2FkVHJhbnNsYXRpb25zKGxhbmd1YWdlKTtcclxuXHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJwcmVmZXJyZWRMYW5ndWFnZVwiLCBsYW5ndWFnZSwgdXNlckRhdGEpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcbiJdfQ==
