import{createElement}from"./helpers.min.js";import{updateElement,setUserPreference}from"./updateStateFunctions.min.js";import{createLoginPage,showBigLoader,hideBigLoader,createLoginHeader,getData}from"./components.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container");let t=function(){let e=navigator.language||navigator.userLanguage;return e&&"pl"===e&&"en"===e?(e=e.slice(0,2).toLowerCase(),e):"pl"}();const a={pl:"Polski",en:"English"};let n={};window.translations={};let o=Object.keys(a).length;(()=>{const e=getData();if(!e||e=={})return;const t=e?.loggedIn;t&&(window.location.href="profiles.html")})();(()=>{const e=getData()?.preferredLanguage;e&&(t=e)})();(async()=>{try{e.append(showBigLoader());const a=await fetch(`./src/json/${t}.json`),n=await a.json();translations=n}catch{console.error("Error loading initial translation file")}finally{hideBigLoader()}e.prepend(createLoginHeader(translations,o,a,t,i)),e.append(createLoginPage(translations))})();const r=async()=>{try{const e=await fetch(`./src/json/${t}.json`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();translations=a,updateElement("login-header__logo","aria",translations.header.aria.logoLink),updateElement("login-header__logo-img","alt",translations.header.alt.logo),updateElement("login-header__lang-select","aria",translations.header.aria.changeLanguageButton),updateElement("main__title","text",translations.main.text.title),updateElement("main__subtitle","text",translations.main.text.subtitle),updateElement("main__text","text",translations.main.text.description),updateElement("main__form-input--username","placeholder",translations.main.placeholder.username),updateElement("main__form-input--password","placeholder",translations.main.placeholder.password),updateElement("main__form-button-text","text",translations.main.text.button),updateElement("main__form-error-txt","text",translations.main.text.errorRequired)}catch{console.error("Error loading translation file")}};function i(e,o){if(this.classList.toggle("active"),e.target.matches(".login-header__lang-choice")){const i=e.target.dataset.lang;o.textContent=a[i],t=i,r(t),setUserPreference("preferredLanguage",t,n)}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsIm5hbWVzIjpbImNyZWF0ZUVsZW1lbnQiLCJ1cGRhdGVFbGVtZW50Iiwic2V0VXNlclByZWZlcmVuY2UiLCJjcmVhdGVMb2dpblBhZ2UiLCJzaG93QmlnTG9hZGVyIiwiaGlkZUJpZ0xvYWRlciIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiZ2V0RGF0YSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJsYW5ndWFnZSIsInVzZXJMYW5nIiwibmF2aWdhdG9yIiwidXNlckxhbmd1YWdlIiwic2xpY2UiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZVVzZXJMYW5ndWFnZSIsImxhbmdOYW1lcyIsInBsIiwiZW4iLCJ1c2VyRGF0YSIsIndpbmRvdyIsInRyYW5zbGF0aW9ucyIsImxhbmdBbW91bnQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwidXNlcklzTG9nZ2VkSW4iLCJsb2dnZWRJbiIsImxvY2F0aW9uIiwiaHJlZiIsImNoZWNrSWZMb2dnZWRJbiIsInByZWZlcnJlZExhbmciLCJwcmVmZXJyZWRMYW5ndWFnZSIsImdldFVzZXJMYW5ndWFnZVByZWZlcmVuY2UiLCJhc3luYyIsImFwcGVuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsImNvbnNvbGUiLCJlcnJvciIsInByZXBlbmQiLCJoYW5kbGVMYW5nU2VsZWN0IiwibG9hZEZpcnN0VHJhbnNsYXRpb25zIiwibG9hZFRyYW5zbGF0aW9ucyIsIm9rIiwiRXJyb3IiLCJoZWFkZXIiLCJhcmlhIiwibG9nb0xpbmsiLCJhbHQiLCJsb2dvIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJtYWluIiwidGV4dCIsInRpdGxlIiwic3VidGl0bGUiLCJkZXNjcmlwdGlvbiIsInBsYWNlaG9sZGVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImJ1dHRvbiIsImVycm9yUmVxdWlyZWQiLCJlIiwibGFuZ1RleHQiLCJ0aGlzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidGFyZ2V0IiwibWF0Y2hlcyIsInNlbGVjdGVkTGFuZyIsImRhdGFzZXQiLCJsYW5nIiwidGV4dENvbnRlbnQiXSwic291cmNlcyI6WyJzY3JpcHQuanMiXSwibWFwcGluZ3MiOiJPQUFTQSxrQkFBcUIsMEJBRTdCQyxjQUNBQyxzQkFDTSx1Q0FFTkMsZ0JBQ0FDLGNBQ0FDLGNBQ0FDLGtCQUNBQyxZQUNNLHNCQUVQQyxTQUFTQyxpQkFBaUIsbUJBQW9CLFdBQzdDLE1BQU1DLEVBQVlGLFNBQVNHLGNBQWMsY0FFekMsSUFBSUMsRUFzQkosV0FDQyxJQUFJQyxFQUFXQyxVQUFVRixVQUFZRSxVQUFVQyxhQUUvQyxPQUFLRixHQUF5QixPQUFiQSxHQUFrQyxPQUFiQSxHQUV0Q0EsRUFBV0EsRUFBU0csTUFBTSxFQUFHLEdBQUdDLGNBRXpCSixHQUp5RCxJQUtqRSxDQTlCZUssR0FFZixNQUFNQyxFQUFZLENBQUVDLEdBQUksU0FBVUMsR0FBSSxXQUV0QyxJQUFJQyxFQUFXLENBQUMsRUFFaEJDLE9BQU9DLGFBQWUsQ0FBQyxFQUl2QixJQUFJQyxFQUZjQyxPQUFPQyxLQUFLUixHQUVIUyxPQUVILE1BQ3ZCLE1BQU1OLEVBQVdmLFVBQ2pCLElBQUtlLEdBQVlBLEdBQVksQ0FBQyxFQUFHLE9BRWpDLE1BQU1PLEVBQWlCUCxHQUFVUSxTQUM5QkQsSUFBZ0JOLE9BQU9RLFNBQVNDLEtBQU8sa0JBRzNDQyxHQVdrQyxNQUNqQyxNQUFNQyxFQUFnQjNCLFdBQVc0QixrQkFFN0JELElBQWV0QixFQUFXc0IsSUFFL0JFLEdBRThCQyxXQUM3QixJQUNDM0IsRUFBVTRCLE9BQU9sQyxpQkFFakIsTUFBTW1DLFFBQWlCQyxNQUFNLGNBQWM1QixVQUNyQzZCLFFBQWFGLEVBQVNHLE9BQzVCbEIsYUFBZWlCLENBQ2hCLENBQUUsTUFDREUsUUFBUUMsTUFBTSx5Q0FDZixDQUFFLFFBQ0R2QyxlQUNELENBR0FLLEVBQVVtQyxRQUNUdkMsa0JBQ0NrQixhQUNBQyxFQUNBTixFQUNBUCxFQUNBa0MsSUFHRnBDLEVBQVU0QixPQUFPbkMsZ0JBQWdCcUIsZ0JBR2xDdUIsR0FDQSxNQUFNQyxFQUFtQlgsVUFDeEIsSUFDQyxNQUFNRSxRQUFpQkMsTUFBTSxjQUFjNUIsVUFFM0MsSUFBSzJCLEVBQVNVLEdBQUksTUFBTSxJQUFJQyxNQUFNLCtCQUVsQyxNQUFNVCxRQUFhRixFQUFTRyxPQUM1QmxCLGFBQWVpQixFQUVmeEMsY0FDQyxxQkFDQSxPQUNBdUIsYUFBYTJCLE9BQU9DLEtBQUtDLFVBRTFCcEQsY0FDQyx5QkFDQSxNQUNBdUIsYUFBYTJCLE9BQU9HLElBQUlDLE1BRXpCdEQsY0FDQyw0QkFDQSxPQUNBdUIsYUFBYTJCLE9BQU9DLEtBQUtJLHNCQUUxQnZELGNBQWMsY0FBZSxPQUFRdUIsYUFBYWlDLEtBQUtDLEtBQUtDLE9BQzVEMUQsY0FBYyxpQkFBa0IsT0FBUXVCLGFBQWFpQyxLQUFLQyxLQUFLRSxVQUMvRDNELGNBQWMsYUFBYyxPQUFRdUIsYUFBYWlDLEtBQUtDLEtBQUtHLGFBQzNENUQsY0FDQyw2QkFDQSxjQUNBdUIsYUFBYWlDLEtBQUtLLFlBQVlDLFVBRS9COUQsY0FDQyw2QkFDQSxjQUNBdUIsYUFBYWlDLEtBQUtLLFlBQVlFLFVBRS9CL0QsY0FDQyx5QkFDQSxPQUNBdUIsYUFBYWlDLEtBQUtDLEtBQUtPLFFBRXhCaEUsY0FDQyx1QkFDQSxPQUNBdUIsYUFBYWlDLEtBQUtDLEtBQUtRLGNBRXpCLENBQUUsTUFDRHZCLFFBQVFDLE1BQU0saUNBQ2YsR0FFRCxTQUFTRSxFQUFpQnFCLEVBQUdDLEdBRzVCLEdBRmtCQyxLQUNSQyxVQUFVQyxPQUFPLFVBQ3ZCSixFQUFFSyxPQUFPQyxRQUFRLDhCQUErQixDQUNuRCxNQUFNQyxFQUFlUCxFQUFFSyxPQUFPRyxRQUFRQyxLQUN0Q1IsRUFBU1MsWUFBYzFELEVBQVV1RCxHQUNqQzlELEVBQVc4RCxFQUVYMUIsRUFBaUJwQyxHQUNqQlYsa0JBQWtCLG9CQUFxQlUsRUFBVVUsRUFDbEQsQ0FDRCxDQUNEIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwiLi9oZWxwZXJzLm1pbi5qc1wiO1xyXG5pbXBvcnQge1xyXG5cdHVwZGF0ZUVsZW1lbnQsXHJcblx0c2V0VXNlclByZWZlcmVuY2UsXHJcbn0gZnJvbSBcIi4vdXBkYXRlU3RhdGVGdW5jdGlvbnMubWluLmpzXCI7XHJcbmltcG9ydCB7XHJcblx0Y3JlYXRlTG9naW5QYWdlLFxyXG5cdHNob3dCaWdMb2FkZXIsXHJcblx0aGlkZUJpZ0xvYWRlcixcclxuXHRjcmVhdGVMb2dpbkhlYWRlcixcclxuXHRnZXREYXRhLFxyXG59IGZyb20gXCIuL2NvbXBvbmVudHMubWluLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGxldCBsYW5ndWFnZSA9IGhhbmRsZVVzZXJMYW5ndWFnZSgpO1xyXG5cclxuXHRjb25zdCBsYW5nTmFtZXMgPSB7IHBsOiBcIlBvbHNraVwiLCBlbjogXCJFbmdsaXNoXCIgfTtcclxuXHJcblx0bGV0IHVzZXJEYXRhID0ge307XHJcblxyXG5cdHdpbmRvdy50cmFuc2xhdGlvbnMgPSB7fTtcclxuXHJcblx0Y29uc3QgbGFuZ0NvZGVzID0gT2JqZWN0LmtleXMobGFuZ05hbWVzKTtcclxuXHJcblx0bGV0IGxhbmdBbW91bnQgPSBsYW5nQ29kZXMubGVuZ3RoO1xyXG5cclxuXHRjb25zdCBjaGVja0lmTG9nZ2VkSW4gPSAoKSA9PiB7XHJcblx0XHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRcdGlmICghdXNlckRhdGEgfHwgdXNlckRhdGEgPT0ge30pIHJldHVyblxyXG5cclxuXHRcdGNvbnN0IHVzZXJJc0xvZ2dlZEluID0gdXNlckRhdGE/LmxvZ2dlZEluXHJcblx0XHRpZih1c2VySXNMb2dnZWRJbikgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAncHJvZmlsZXMuaHRtbCdcclxuXHR9O1xyXG5cclxuXHRjaGVja0lmTG9nZ2VkSW4oKTtcclxuXHJcblx0ZnVuY3Rpb24gaGFuZGxlVXNlckxhbmd1YWdlKCkge1xyXG5cdFx0bGV0IHVzZXJMYW5nID0gbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2U7XHJcblxyXG5cdFx0aWYgKCF1c2VyTGFuZyB8fCB1c2VyTGFuZyAhPT0gXCJwbFwiIHx8IHVzZXJMYW5nICE9PSBcImVuXCIpIHJldHVybiBcInBsXCI7XHJcblxyXG5cdFx0dXNlckxhbmcgPSB1c2VyTGFuZy5zbGljZSgwLCAyKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuXHRcdHJldHVybiB1c2VyTGFuZztcclxuXHR9XHJcblx0Y29uc3QgZ2V0VXNlckxhbmd1YWdlUHJlZmVyZW5jZSA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHByZWZlcnJlZExhbmcgPSBnZXREYXRhKCk/LnByZWZlcnJlZExhbmd1YWdlO1xyXG5cclxuXHRcdGlmIChwcmVmZXJyZWRMYW5nKSBsYW5ndWFnZSA9IHByZWZlcnJlZExhbmc7XHJcblx0fTtcclxuXHRnZXRVc2VyTGFuZ3VhZ2VQcmVmZXJlbmNlKCk7XHJcblxyXG5cdGNvbnN0IGxvYWRGaXJzdFRyYW5zbGF0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC4vc3JjL2pzb24vJHtsYW5ndWFnZX0uanNvbmApO1xyXG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHR0cmFuc2xhdGlvbnMgPSBkYXRhO1xyXG5cdFx0fSBjYXRjaCB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGluaXRpYWwgdHJhbnNsYXRpb24gZmlsZVwiKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdGhpZGVCaWdMb2FkZXIoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBUFBFTkQgU0VDVElPTlxyXG5cdFx0Y29udGFpbmVyLnByZXBlbmQoXHJcblx0XHRcdGNyZWF0ZUxvZ2luSGVhZGVyKFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucyxcclxuXHRcdFx0XHRsYW5nQW1vdW50LFxyXG5cdFx0XHRcdGxhbmdOYW1lcyxcclxuXHRcdFx0XHRsYW5ndWFnZSxcclxuXHRcdFx0XHRoYW5kbGVMYW5nU2VsZWN0XHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0XHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZUxvZ2luUGFnZSh0cmFuc2xhdGlvbnMpKTtcclxuXHR9O1xyXG5cclxuXHRsb2FkRmlyc3RUcmFuc2xhdGlvbnMoKTtcclxuXHRjb25zdCBsb2FkVHJhbnNsYXRpb25zID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgLi9zcmMvanNvbi8ke2xhbmd1YWdlfS5qc29uYCk7XHJcblxyXG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2tcIik7XHJcblxyXG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHR0cmFuc2xhdGlvbnMgPSBkYXRhO1xyXG5cdFx0XHQvLyBVUERBVEUgRUxFTUVOVFNcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcImxvZ2luLWhlYWRlcl9fbG9nb1wiLFxyXG5cdFx0XHRcdFwiYXJpYVwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5oZWFkZXIuYXJpYS5sb2dvTGlua1xyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibG9naW4taGVhZGVyX19sb2dvLWltZ1wiLFxyXG5cdFx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLmhlYWRlci5hbHQubG9nb1xyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibG9naW4taGVhZGVyX19sYW5nLXNlbGVjdFwiLFxyXG5cdFx0XHRcdFwiYXJpYVwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5oZWFkZXIuYXJpYS5jaGFuZ2VMYW5ndWFnZUJ1dHRvblxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFwibWFpbl9fdGl0bGVcIiwgXCJ0ZXh0XCIsIHRyYW5zbGF0aW9ucy5tYWluLnRleHQudGl0bGUpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFwibWFpbl9fc3VidGl0bGVcIiwgXCJ0ZXh0XCIsIHRyYW5zbGF0aW9ucy5tYWluLnRleHQuc3VidGl0bGUpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFwibWFpbl9fdGV4dFwiLCBcInRleHRcIiwgdHJhbnNsYXRpb25zLm1haW4udGV4dC5kZXNjcmlwdGlvbik7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJtYWluX19mb3JtLWlucHV0LS11c2VybmFtZVwiLFxyXG5cdFx0XHRcdFwicGxhY2Vob2xkZXJcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi5wbGFjZWhvbGRlci51c2VybmFtZVxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibWFpbl9fZm9ybS1pbnB1dC0tcGFzc3dvcmRcIixcclxuXHRcdFx0XHRcInBsYWNlaG9sZGVyXCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLm1haW4ucGxhY2Vob2xkZXIucGFzc3dvcmRcclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcIm1haW5fX2Zvcm0tYnV0dG9uLXRleHRcIixcclxuXHRcdFx0XHRcInRleHRcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmJ1dHRvblxyXG5cdFx0XHQpO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibWFpbl9fZm9ybS1lcnJvci10eHRcIixcclxuXHRcdFx0XHRcInRleHRcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9yUmVxdWlyZWRcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyB0cmFuc2xhdGlvbiBmaWxlXCIpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0ZnVuY3Rpb24gaGFuZGxlTGFuZ1NlbGVjdChlLCBsYW5nVGV4dCkge1xyXG5cdFx0Y29uc3Qgc2VsZWN0QnRuID0gdGhpcztcclxuXHRcdHNlbGVjdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG5cdFx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIubG9naW4taGVhZGVyX19sYW5nLWNob2ljZVwiKSkge1xyXG5cdFx0XHRjb25zdCBzZWxlY3RlZExhbmcgPSBlLnRhcmdldC5kYXRhc2V0Lmxhbmc7XHJcblx0XHRcdGxhbmdUZXh0LnRleHRDb250ZW50ID0gbGFuZ05hbWVzW3NlbGVjdGVkTGFuZ107XHJcblx0XHRcdGxhbmd1YWdlID0gc2VsZWN0ZWRMYW5nO1xyXG5cclxuXHRcdFx0bG9hZFRyYW5zbGF0aW9ucyhsYW5ndWFnZSk7XHJcblx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwicHJlZmVycmVkTGFuZ3VhZ2VcIiwgbGFuZ3VhZ2UsIHVzZXJEYXRhKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG4iXX0=
