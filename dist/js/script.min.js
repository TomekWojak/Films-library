import{createElement}from"./helpers.min.js";import{updateElement,setUserPreference}from"./updateStateFunctions.min.js";import{createLoginPage,showBigLoader,hideBigLoader,createLoginHeader,getData}from"./components.min.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".container");let t=function(){let e=navigator.language||navigator.userLanguage;return e&&"pl"===e&&"en"===e?(e=e.slice(0,2).toLowerCase(),e):"pl"}();const a={pl:"Polski",en:"English"};let n={};window.translations={};let o=Object.keys(a).length;(()=>{const e=getData()?.preferredLanguage;e&&(t=e)})();(async()=>{try{e.append(showBigLoader());const a=await fetch(`./src/json/${t}.json`),n=await a.json();translations=n}catch{console.error("Error loading initial translation file")}finally{hideBigLoader()}e.prepend(createLoginHeader(translations,o,a,t,i)),e.append(createLoginPage(translations))})();const r=async()=>{try{const e=await fetch(`./src/json/${t}.json`);if(!e.ok)throw new Error("Network response was not ok");const a=await e.json();translations=a,updateElement("login-header__logo","aria",translations.header.aria.logoLink),updateElement("login-header__logo-img","alt",translations.header.alt.logo),updateElement("login-header__lang-select","aria",translations.header.aria.changeLanguageButton),updateElement("main__title","text",translations.main.text.title),updateElement("main__subtitle","text",translations.main.text.subtitle),updateElement("main__text","text",translations.main.text.description),updateElement("main__form-input--username","placeholder",translations.main.placeholder.username),updateElement("main__form-input--password","placeholder",translations.main.placeholder.password),updateElement("main__form-button-text","text",translations.main.text.button),updateElement("main__form-error-txt","text",translations.main.text.errorRequired)}catch{console.error("Error loading translation file")}};function i(e,o){if(this.classList.toggle("active"),e.target.matches(".login-header__lang-choice")){const i=e.target.dataset.lang;o.textContent=a[i],t=i,r(t),setUserPreference("preferredLanguage",t,n)}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsIm5hbWVzIjpbImNyZWF0ZUVsZW1lbnQiLCJ1cGRhdGVFbGVtZW50Iiwic2V0VXNlclByZWZlcmVuY2UiLCJjcmVhdGVMb2dpblBhZ2UiLCJzaG93QmlnTG9hZGVyIiwiaGlkZUJpZ0xvYWRlciIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiZ2V0RGF0YSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJsYW5ndWFnZSIsInVzZXJMYW5nIiwibmF2aWdhdG9yIiwidXNlckxhbmd1YWdlIiwic2xpY2UiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZVVzZXJMYW5ndWFnZSIsImxhbmdOYW1lcyIsInBsIiwiZW4iLCJ1c2VyRGF0YSIsIndpbmRvdyIsInRyYW5zbGF0aW9ucyIsImxhbmdBbW91bnQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwicHJlZmVycmVkTGFuZyIsInByZWZlcnJlZExhbmd1YWdlIiwiZ2V0VXNlckxhbmd1YWdlUHJlZmVyZW5jZSIsImFzeW5jIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwiY29uc29sZSIsImVycm9yIiwicHJlcGVuZCIsImhhbmRsZUxhbmdTZWxlY3QiLCJsb2FkRmlyc3RUcmFuc2xhdGlvbnMiLCJsb2FkVHJhbnNsYXRpb25zIiwib2siLCJFcnJvciIsImhlYWRlciIsImFyaWEiLCJsb2dvTGluayIsImFsdCIsImxvZ28iLCJjaGFuZ2VMYW5ndWFnZUJ1dHRvbiIsIm1haW4iLCJ0ZXh0IiwidGl0bGUiLCJzdWJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicGxhY2Vob2xkZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYnV0dG9uIiwiZXJyb3JSZXF1aXJlZCIsImUiLCJsYW5nVGV4dCIsInRoaXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0YXJnZXQiLCJtYXRjaGVzIiwic2VsZWN0ZWRMYW5nIiwiZGF0YXNldCIsImxhbmciLCJ0ZXh0Q29udGVudCJdLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLGtCQUFxQiwwQkFFN0JDLGNBQ0FDLHNCQUNNLHVDQUVOQyxnQkFDQUMsY0FDQUMsY0FDQUMsa0JBQ0FDLFlBQ00sc0JBRVBDLFNBQVNDLGlCQUFpQixtQkFBb0IsV0FDN0MsTUFBTUMsRUFBWUYsU0FBU0csY0FBYyxjQUV6QyxJQUFJQyxFQVlKLFdBQ0MsSUFBSUMsRUFBV0MsVUFBVUYsVUFBWUUsVUFBVUMsYUFFL0MsT0FBS0YsR0FBeUIsT0FBYkEsR0FBa0MsT0FBYkEsR0FFdENBLEVBQVdBLEVBQVNHLE1BQU0sRUFBRyxHQUFHQyxjQUV6QkosR0FKeUQsSUFLakUsQ0FwQmVLLEdBRWYsTUFBTUMsRUFBWSxDQUFFQyxHQUFJLFNBQVVDLEdBQUksV0FFdEMsSUFBSUMsRUFBVyxDQUFDLEVBRWhCQyxPQUFPQyxhQUFlLENBQUMsRUFJdkIsSUFBSUMsRUFGY0MsT0FBT0MsS0FBS1IsR0FFSFMsT0FXTyxNQUNqQyxNQUFNQyxFQUFnQnRCLFdBQVd1QixrQkFFN0JELElBQWVqQixFQUFXaUIsSUFFL0JFLEdBRThCQyxXQUM3QixJQUNDdEIsRUFBVXVCLE9BQU83QixpQkFFakIsTUFBTThCLFFBQWlCQyxNQUFNLGNBQWN2QixVQUNyQ3dCLFFBQWFGLEVBQVNHLE9BQzVCYixhQUFlWSxDQUNoQixDQUFFLE1BQ0RFLFFBQVFDLE1BQU0seUNBQ2YsQ0FBRSxRQUNEbEMsZUFDRCxDQUdBSyxFQUFVOEIsUUFDVGxDLGtCQUNDa0IsYUFDQUMsRUFDQU4sRUFDQVAsRUFDQTZCLElBR0YvQixFQUFVdUIsT0FBTzlCLGdCQUFnQnFCLGdCQUdsQ2tCLEdBQ0EsTUFBTUMsRUFBbUJYLFVBQ3hCLElBQ0MsTUFBTUUsUUFBaUJDLE1BQU0sY0FBY3ZCLFVBRTNDLElBQUtzQixFQUFTVSxHQUFJLE1BQU0sSUFBSUMsTUFBTSwrQkFFbEMsTUFBTVQsUUFBYUYsRUFBU0csT0FDNUJiLGFBQWVZLEVBRWZuQyxjQUNDLHFCQUNBLE9BQ0F1QixhQUFhc0IsT0FBT0MsS0FBS0MsVUFFMUIvQyxjQUNDLHlCQUNBLE1BQ0F1QixhQUFhc0IsT0FBT0csSUFBSUMsTUFFekJqRCxjQUNDLDRCQUNBLE9BQ0F1QixhQUFhc0IsT0FBT0MsS0FBS0ksc0JBRTFCbEQsY0FBYyxjQUFlLE9BQVF1QixhQUFhNEIsS0FBS0MsS0FBS0MsT0FDNURyRCxjQUFjLGlCQUFrQixPQUFRdUIsYUFBYTRCLEtBQUtDLEtBQUtFLFVBQy9EdEQsY0FBYyxhQUFjLE9BQVF1QixhQUFhNEIsS0FBS0MsS0FBS0csYUFDM0R2RCxjQUNDLDZCQUNBLGNBQ0F1QixhQUFhNEIsS0FBS0ssWUFBWUMsVUFFL0J6RCxjQUNDLDZCQUNBLGNBQ0F1QixhQUFhNEIsS0FBS0ssWUFBWUUsVUFFL0IxRCxjQUNDLHlCQUNBLE9BQ0F1QixhQUFhNEIsS0FBS0MsS0FBS08sUUFFeEIzRCxjQUNDLHVCQUNBLE9BQ0F1QixhQUFhNEIsS0FBS0MsS0FBS1EsY0FFekIsQ0FBRSxNQUNEdkIsUUFBUUMsTUFBTSxpQ0FDZixHQUVELFNBQVNFLEVBQWlCcUIsRUFBR0MsR0FHNUIsR0FGa0JDLEtBQ1JDLFVBQVVDLE9BQU8sVUFDdkJKLEVBQUVLLE9BQU9DLFFBQVEsOEJBQStCLENBQ25ELE1BQU1DLEVBQWVQLEVBQUVLLE9BQU9HLFFBQVFDLEtBQ3RDUixFQUFTUyxZQUFjckQsRUFBVWtELEdBQ2pDekQsRUFBV3lELEVBRVgxQixFQUFpQi9CLEdBQ2pCVixrQkFBa0Isb0JBQXFCVSxFQUFVVSxFQUNsRCxDQUNELENBQ0QiLCJpZ25vcmVMaXN0IjpbXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gXCIuL2hlbHBlcnMubWluLmpzXCI7XHJcbmltcG9ydCB7XHJcblx0dXBkYXRlRWxlbWVudCxcclxuXHRzZXRVc2VyUHJlZmVyZW5jZSxcclxufSBmcm9tIFwiLi91cGRhdGVTdGF0ZUZ1bmN0aW9ucy5taW4uanNcIjtcclxuaW1wb3J0IHtcclxuXHRjcmVhdGVMb2dpblBhZ2UsXHJcblx0c2hvd0JpZ0xvYWRlcixcclxuXHRoaWRlQmlnTG9hZGVyLFxyXG5cdGNyZWF0ZUxvZ2luSGVhZGVyLFxyXG5cdGdldERhdGEsXHJcbn0gZnJvbSBcIi4vY29tcG9uZW50cy5taW4uanNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0bGV0IGxhbmd1YWdlID0gaGFuZGxlVXNlckxhbmd1YWdlKCk7XHJcblxyXG5cdGNvbnN0IGxhbmdOYW1lcyA9IHsgcGw6IFwiUG9sc2tpXCIsIGVuOiBcIkVuZ2xpc2hcIiB9O1xyXG5cclxuXHRsZXQgdXNlckRhdGEgPSB7fTtcclxuXHJcblx0d2luZG93LnRyYW5zbGF0aW9ucyA9IHt9O1xyXG5cclxuXHRjb25zdCBsYW5nQ29kZXMgPSBPYmplY3Qua2V5cyhsYW5nTmFtZXMpO1xyXG5cclxuXHRsZXQgbGFuZ0Ftb3VudCA9IGxhbmdDb2Rlcy5sZW5ndGg7XHJcblxyXG5cdGZ1bmN0aW9uIGhhbmRsZVVzZXJMYW5ndWFnZSgpIHtcclxuXHRcdGxldCB1c2VyTGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCBuYXZpZ2F0b3IudXNlckxhbmd1YWdlO1xyXG5cclxuXHRcdGlmICghdXNlckxhbmcgfHwgdXNlckxhbmcgIT09IFwicGxcIiB8fCB1c2VyTGFuZyAhPT0gXCJlblwiKSByZXR1cm4gXCJwbFwiO1xyXG5cclxuXHRcdHVzZXJMYW5nID0gdXNlckxhbmcuc2xpY2UoMCwgMikudG9Mb3dlckNhc2UoKTtcclxuXHJcblx0XHRyZXR1cm4gdXNlckxhbmc7XHJcblx0fVxyXG5cdGNvbnN0IGdldFVzZXJMYW5ndWFnZVByZWZlcmVuY2UgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBwcmVmZXJyZWRMYW5nID0gZ2V0RGF0YSgpPy5wcmVmZXJyZWRMYW5ndWFnZTtcclxuXHJcblx0XHRpZiAocHJlZmVycmVkTGFuZykgbGFuZ3VhZ2UgPSBwcmVmZXJyZWRMYW5nO1xyXG5cdH07XHJcblx0Z2V0VXNlckxhbmd1YWdlUHJlZmVyZW5jZSgpO1xyXG5cclxuXHRjb25zdCBsb2FkRmlyc3RUcmFuc2xhdGlvbnMgPSBhc3luYyAoKSA9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kKHNob3dCaWdMb2FkZXIoKSk7XHJcblxyXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAuL3NyYy9qc29uLyR7bGFuZ3VhZ2V9Lmpzb25gKTtcclxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHRcdFx0dHJhbnNsYXRpb25zID0gZGF0YTtcclxuXHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBpbml0aWFsIHRyYW5zbGF0aW9uIGZpbGVcIik7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRoaWRlQmlnTG9hZGVyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQVBQRU5EIFNFQ1RJT05cclxuXHRcdGNvbnRhaW5lci5wcmVwZW5kKFxyXG5cdFx0XHRjcmVhdGVMb2dpbkhlYWRlcihcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMsXHJcblx0XHRcdFx0bGFuZ0Ftb3VudCxcclxuXHRcdFx0XHRsYW5nTmFtZXMsXHJcblx0XHRcdFx0bGFuZ3VhZ2UsXHJcblx0XHRcdFx0aGFuZGxlTGFuZ1NlbGVjdFxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZChjcmVhdGVMb2dpblBhZ2UodHJhbnNsYXRpb25zKSk7XHJcblx0fTtcclxuXHJcblx0bG9hZEZpcnN0VHJhbnNsYXRpb25zKCk7XHJcblx0Y29uc3QgbG9hZFRyYW5zbGF0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC4vc3JjL2pzb24vJHtsYW5ndWFnZX0uanNvbmApO1xyXG5cclxuXHRcdFx0aWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKFwiTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rXCIpO1xyXG5cclxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHRcdFx0dHJhbnNsYXRpb25zID0gZGF0YTtcclxuXHRcdFx0Ly8gVVBEQVRFIEVMRU1FTlRTXHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJsb2dpbi1oZWFkZXJfX2xvZ29cIixcclxuXHRcdFx0XHRcImFyaWFcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMuaGVhZGVyLmFyaWEubG9nb0xpbmtcclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcImxvZ2luLWhlYWRlcl9fbG9nby1pbWdcIixcclxuXHRcdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5oZWFkZXIuYWx0LmxvZ29cclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcImxvZ2luLWhlYWRlcl9fbGFuZy1zZWxlY3RcIixcclxuXHRcdFx0XHRcImFyaWFcIixcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnMuaGVhZGVyLmFyaWEuY2hhbmdlTGFuZ3VhZ2VCdXR0b25cclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcIm1haW5fX3RpdGxlXCIsIFwidGV4dFwiLCB0cmFuc2xhdGlvbnMubWFpbi50ZXh0LnRpdGxlKTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcIm1haW5fX3N1YnRpdGxlXCIsIFwidGV4dFwiLCB0cmFuc2xhdGlvbnMubWFpbi50ZXh0LnN1YnRpdGxlKTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcIm1haW5fX3RleHRcIiwgXCJ0ZXh0XCIsIHRyYW5zbGF0aW9ucy5tYWluLnRleHQuZGVzY3JpcHRpb24pO1xyXG5cdFx0XHR1cGRhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwibWFpbl9fZm9ybS1pbnB1dC0tdXNlcm5hbWVcIixcclxuXHRcdFx0XHRcInBsYWNlaG9sZGVyXCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLm1haW4ucGxhY2Vob2xkZXIudXNlcm5hbWVcclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcIm1haW5fX2Zvcm0taW5wdXQtLXBhc3N3b3JkXCIsXHJcblx0XHRcdFx0XCJwbGFjZWhvbGRlclwiLFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnBsYWNlaG9sZGVyLnBhc3N3b3JkXHJcblx0XHRcdCk7XHJcblx0XHRcdHVwZGF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJtYWluX19mb3JtLWJ1dHRvbi10ZXh0XCIsXHJcblx0XHRcdFx0XCJ0ZXh0XCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLm1haW4udGV4dC5idXR0b25cclxuXHRcdFx0KTtcclxuXHRcdFx0dXBkYXRlRWxlbWVudChcclxuXHRcdFx0XHRcIm1haW5fX2Zvcm0tZXJyb3ItdHh0XCIsXHJcblx0XHRcdFx0XCJ0ZXh0XCIsXHJcblx0XHRcdFx0dHJhbnNsYXRpb25zLm1haW4udGV4dC5lcnJvclJlcXVpcmVkXHJcblx0XHRcdCk7XHJcblx0XHR9IGNhdGNoIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgdHJhbnNsYXRpb24gZmlsZVwiKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGZ1bmN0aW9uIGhhbmRsZUxhbmdTZWxlY3QoZSwgbGFuZ1RleHQpIHtcclxuXHRcdGNvbnN0IHNlbGVjdEJ0biA9IHRoaXM7XHJcblx0XHRzZWxlY3RCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuXHRcdGlmIChlLnRhcmdldC5tYXRjaGVzKFwiLmxvZ2luLWhlYWRlcl9fbGFuZy1jaG9pY2VcIikpIHtcclxuXHRcdFx0Y29uc3Qgc2VsZWN0ZWRMYW5nID0gZS50YXJnZXQuZGF0YXNldC5sYW5nO1xyXG5cdFx0XHRsYW5nVGV4dC50ZXh0Q29udGVudCA9IGxhbmdOYW1lc1tzZWxlY3RlZExhbmddO1xyXG5cdFx0XHRsYW5ndWFnZSA9IHNlbGVjdGVkTGFuZztcclxuXHJcblx0XHRcdGxvYWRUcmFuc2xhdGlvbnMobGFuZ3VhZ2UpO1xyXG5cdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInByZWZlcnJlZExhbmd1YWdlXCIsIGxhbmd1YWdlLCB1c2VyRGF0YSk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuIl19
