import{verifyCredentials}from"./firebase-auth.min.js";import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_POPUP_TIME=2500;export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("Invalid user data. Resetting storage.","#dc4a34"),new Error("Invalid data structure");return t}catch{return localStorage.removeItem("userData"),showErrorPopup("Error accessing user data. Please try again.","#dc4a34"),{}}};const getCurrentDate=()=>(new Date).getFullYear();export const createFooter=({header:{alt:{logo:e}}})=>{const t=getCurrentDate(),r=createElement("footer",["browse-footer"]),a=createElement("span",["browse-footer__logo"]),n=createElement("img",["browse-footer__img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),o=createElement("p",["browse-footer__info"]);return a.textContent="Stream",a.prepend(n),o.textContent=`Â©${t} Stream corporation | All rights reserved.`,r.append(a,o),r};export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},a,n,o,s)=>{const i=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),i.append(l);const p=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),m=createElement("span",["login-header__lang-platform-lang"]),_=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),g=createElement("ul",["login-header__lang-list"]);for(let e=0;e<a;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(n)[e],a=Object.values(n)[e];t.dataset.lang=r,t.textContent=a,t.style.animationDelay=100*e+"ms",g.append(t)}return m.textContent=n[o],p.addEventListener("click",e=>{s.call(p,e,m)}),p.append(m,_,g),i.append(p),i};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:a},placeholder:{username:n,password:o}}})=>{const s=createElement("main",["main"]),i=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),p=createElement("p",["main__text"]),m=createElement("form",["main__form"]),_=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:n}),g=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o}),u=createElement("button",["main__form-button"],{type:"submit"}),h=createElement("span",["main__form-button-text"]),b=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,p.textContent=r,h.textContent=a,l.append(c,d),u.append(h),m.append(_,g,u,b),i.append(l,p,m),s.append(i),u.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t),handleLoginValidation(e,_,g,translations.main.text.errorRequired,translations.main.text.errorInvalid,b).then(e=>{e||(setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html")})}),s};const handleLoginValidation=async(e,t,r,a,n,o)=>{if(e.preventDefault(),""===t.value.trim()||""===r.value.trim())return o.classList.add("visible"),o.textContent=a,a;const s=t.value.trim(),i=r.value.trim();e.target.disabled=!0,e.target.append(showSmallLoader()),o.classList.remove("visible");const l=await verifyCredentials(s,i);return hideSmallLoader(),e.target.disabled=!1,l.success?null:(o.classList.add("visible"),o.textContent=n,n)};export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:a,userBtnCustomize:n,removeUserInfo:o}},errorPopup:{text:{maxProfiles:s,emptyField:i}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),p=createElement("div",["wrapper"]),m=createElement("h1",["main__title","main-profiles__title"]),_=createElement("div",["main-profiles__box"]);if(m.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)_.append(createProfile(a,n,n,i,o,e,c[e]));_.append(createProfileAddBtn(r,t,a,_,n,n,s,i,o)),p.append(m,_),l.append(p),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,a,n,o=null,s=null)=>{const i=getData(),l=i?.userProfiles||{};if(null===i)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,p;const m=["#dc4a34","#062E63","#FAC044"];if(o){d=o,p=s.name;c=m[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,p=`Handsome User ${e}`,c=m[e-1]}const _=createElement("div",["main-profiles__profile"]),g=createElement("div",["main-profiles__avatar"]),u=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),h=createElement("div",["main-profiles__user-info"]),b=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:p}),f=createElement("span",["name-border"]),w=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),E=createElement("button",["main-profiles__remove-user"],{"aria-label":n}),v=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(u.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',u.style.backgroundColor=c,g.append(u),w.append(x),E.append(v),h.append(b,f,w,E),_.append(g,h),!o){const e={...l,[d]:{name:p}};setUserPreference("userProfiles",e,i)}return w.addEventListener("click",e=>{editUsername(e,h,r,a)}),E.addEventListener("click",e=>{removeUser(e)}),b.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,a)}),u.addEventListener("click",e=>setCurrentProfile(e)),_.classList.add("visible"),_},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,a,n,o,s,i,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),p=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),m=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),_=createElement("span",["main-profiles__name"]);return _.textContent=t,p.append(m),d.append(p),c.append(d,_),p.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(s,"#dc4a34");const d=createProfile(r,n,o,i,l);d&&a.insertBefore(d,c)}),c},editUsername=(e,t,r,a)=>{resetStateOfEditing(e);const n=e.target,o=n.closest(".main-profiles__profile").querySelector(".main-profiles__name"),s=createSaveBtn(r);n.classList.add("hidden"),s.classList.remove("hidden"),t.append(s),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),s.addEventListener("click",e=>{saveUsername(e,a)})},saveUsername=(e,t)=>{const r=getData(),a=r?.userProfiles||[],n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn").dataset.id,s=n.querySelector(".main-profiles__name"),i=document.querySelectorAll(".main-profiles__edit-name");if(i.forEach(e=>e.removeAttribute("disabled")),""===s.value.trim())return i.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...a,[o]:{...a[o],name:s.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),a=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),a.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,a=document.querySelector(".container"),n=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),n.append(o),a.append(n),setTimeout(()=>{n.classList.add("hidden")},2e3),setTimeout(()=>{n.remove(),popupVisible=!1},2500)};export const createUserPanel=()=>{const e=getData();e||showErrorPopup("An unexpected error occurred","#dc4a34");const t=e?.currentProfile,r=e?.userProfiles[t]?.name,a=createElement("div",["browse-header__user-panel"]),n=createElement("p",["browse-header__user-info"]),o=createElement("span",["browse-header__username"]),s=createElement("hr",["browse-header__hr"]),i=createElement("ul",["browse-header__user-panel-list"]),l=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/settings-icon.svg",loading:"lazy"}),c=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/swap-icon.svg",loading:"lazy"}),d=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/logout-icon.svg",loading:"lazy"}),p=createElement("li",["browse-header__user-panel-option"]),m=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--settings"],{href:""}),_=createElement("li",["browse-header__user-panel-option"]),g=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--logout"],{href:""}),u=createElement("li",["browse-header__user-panel-option"]),h=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--swap-profile"],{href:"profiles.html"});return o.textContent=r,n.textContent=e?.translations?.browsePage?.userPanel?.greeting,n.append(o),h.textContent=e?.translations?.browsePage?.userPanel?.profiles,m.textContent=e?.translations?.browsePage?.userPanel?.settings,g.textContent=e?.translations?.browsePage?.userPanel?.login,h.append(c),m.append(l),g.append(d),u.append(h),p.append(m),_.append(g),i.append(u,p,_),a.append(n,s,i),a.addEventListener("click",e=>{e.target.matches(".browse-header__user-panel-link--logout")&&handleLogOut(e)}),a};const handleLogOut=e=>{e.preventDefault();const t=getData(),r=document.querySelector(".container");t&&(r.append(showBigLoader()),r.append(createOverlay()),setTimeout(()=>{hideBigLoader(),setUserPreference("loggedIn",!1),setUserPreference("currentProfile",null),window.location.href="index.html"},2500))},removeUser=e=>{const t=getData(),r=t?.userProfiles,a=document.querySelectorAll(".main-profiles__edit-name"),n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn");a.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),n.classList.add("hidden"),setTimeout(()=>{n.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:a,myListLink:n,searchLink:o},aria:{userButton:s}}})=>{const i=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:""}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),i.append(l,createBrowserNav(r,a,n,o),createUserBtn(s),createUserPanel()),i};const createBrowserNav=(e,t,r,a)=>{const n=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:a,src:"./src/icons/search-icon.svg"}].forEach(e=>{const t=createElement("li",["browse-header__item"]),r=createElement("a",["browse-header__link"],{href:""}),a=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),n=createElement("span",["browse-header__link-text"]);n.textContent=e.name,r.append(a,n),t.append(r),o.append(t)}),n.append(o),n},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),a=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(a),t.append(r),r.addEventListener("click",()=>{showUserPanel(t)}),t};export const createMainHeroSection=(e,t,r)=>{const a=createElement("main",["browse-main"]),n=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),s=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:r,overview:i="",backdrop_path:l})=>{const c=l,d=createElement("div",["browse-main__img-box"]),p=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${r}`,src:c?getImageUrl(c,"original"):"./dist/img/img-placeholder.svg"}),m=createElement("div",["browse-main__text-box"]),_=createElement("h2",["browse-main__carousell-title"]),g=createElement("p",["browse-main__carousell-overview"],{tabindex:-1});_.textContent=r,g.textContent=i,m.append(_,g,createActionButtons(e,t)),d.append(p,m),s.append(d),o.append(s),n.append(o),a.append(n)}),r.append(a),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const a=createElement("div",["browse-main__action-btns"]),n=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e}),o=createElement("span",["browse-main__see-trailer"]),s=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:""});return o.textContent=t,s.textContent=r,n.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',n.append(o),a.append(n,s),a},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,a)=>{const n=createElement("button",["browse-main__btn"],{"data-img":a,"aria-label":`${t} ${a}`}),o=createElement("span",["browse-main__progress-bar"]);n.append(o),r.append(n)}),r};export const createFilmSlider=(e,t,r,a)=>{const n=e[r]?.results||[];if(!n.length)return console.error(`No films found for index ${r}`),void showErrorPopup(`No films found for index ${r}`,"#dc4a34");const o=createElement("section",["browse-section"]),s=createElement("h3",["browse-section__title"]),i=createElement("div",["browse-section__slider"],{"data-index":0}),l=createElement("div",["browse-section__slider-images"]),c=createElement("button",["browse-section__slider-btn","browse-section__slider-prev-btn"],{"aria-label":t?.browseSection?.aria?.showPrevSlideBtn}),d=createElement("button",["browse-section__slider-btn","browse-section__slider-next-btn"],{"aria-label":t?.browseSection?.aria?.showNextSlideBtn}),p=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-left.svg",width:"24",height:"24",loading:"lazy",alt:""}),m=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-right.svg",width:"24",height:"24",loading:"lazy",alt:""});return s.textContent=a,d.append(m),c.append(p),createFilmPosters(n,t,l),i.append(l,c,d),o.append(s,i),o};const createFilmPosters=(e,t,r)=>{e.forEach(({id:e,title:a,poster_path:n})=>{const o=n,s=createElement("div",["browse-section__slider-box"]),i=createElement("a",["browse-section__slider-img-link"],{href:"browse.html","aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),l=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${a}`,loading:"lazy",width:"",height:"",src:o?getImageUrl(o,"original"):"./dist/img/img-placeholder.svg"}),c=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),d=createElement("img",["browse-section__add-to-list-icon"],{src:"./src/icons/add-profile.svg",width:"24",height:"24",loading:"lazy",alt:""}),p=createElement("span",["browse-section__tooltip"]);p.textContent=t.browseSection.info,c.append(d),i.append(l),s.append(i,c,p),r.append(s)})},createOverlay=()=>createElement("div",["overlay"]),showUserPanel=e=>{e.nextElementSibling.classList.toggle("visible")};export const closeAllNotClicked=e=>{const t=document.querySelector(".browse-header__user-panel"),r=document.querySelector(".browse-header__user");t.classList.contains("visible")&&e.target!==t&&e.target!==r&&!t.contains(e.target)&&t.classList.remove("visible")};export const createFourCategories=({browsePage:{categories:{animations:e,horror:t,comedy:r,fantasy:a}}})=>{const n=createElement("section",["categories"]),o=createElement("div",["categories__box"]),s=createElement("div",["categories__box-card","categories__box-card--animations"]),i=createElement("div",["categories__box-card","categories__box-card--fantasy"]),l=createElement("div",["categories__box-card","categories__box-card--horrors"]),c=createElement("div",["categories__box-card","categories__box-card--comedy"]),d=createElement("a",["categories__box-link","categories__box-link--animations"],{href:""}),p=createElement("a",["categories__box-link","categories__box-link--fantasy"],{href:""}),m=createElement("a",["categories__box-link","categories__box-link--horrors"],{href:""}),_=createElement("a",["categories__box-link","categories__box-link--comedy"],{href:""});return d.textContent=e,p.textContent=a,m.textContent=t,_.textContent=r,s.append(d),i.append(p),l.append(m),c.append(_),o.append(s,i,l,c),n.append(o),n};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJ2ZXJpZnlDcmVkZW50aWFscyIsImNyZWF0ZUVsZW1lbnQiLCJnZXRJbWFnZVVybCIsInNldFVzZXJQcmVmZXJlbmNlIiwiSElERV9QT1BVUF9USU1FIiwiZ2V0RGF0YSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsInNob3dFcnJvclBvcHVwIiwiRXJyb3IiLCJyZW1vdmVJdGVtIiwiZ2V0Q3VycmVudERhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjcmVhdGVGb290ZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiY3VyckRhdGUiLCJmb290ZXIiLCJmb290ZXJMb2dvIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwiaW5mbyIsInRleHRDb250ZW50IiwicHJlcGVuZCIsImFwcGVuZCIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb1RleHQiLCJsYW5nU2VsZWN0IiwibGFuZ1BsYXRmb3JtTGFuZyIsImxhbmdBcnJvdyIsImxhbmdMaXN0IiwiaSIsImxhbmdDaG9pY2UiLCJ0YWJpbmRleCIsIk9iamVjdCIsImtleXMiLCJ0ZXh0IiwidmFsdWVzIiwiZGF0YXNldCIsImxhbmciLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjYWxsIiwiY3JlYXRlTG9naW5QYWdlIiwibWFpbiIsInRpdGxlIiwic3VidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbiIsInBsYWNlaG9sZGVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm1haW5Db250ZW50Iiwid3JhcHBlciIsImxvZ2luVGl0bGUiLCJsb2dpblRpdGxlVG9wIiwibG9naW5UaXRsZUJvdHRvbSIsImxvZ2luVGV4dCIsImZvcm0iLCJ1c2VybmFtZUlucHV0IiwidHlwZSIsInBhc3N3b3JkSW5wdXQiLCJzdWJtaXRCdG4iLCJidXR0b25UZXh0IiwiZXJyb3JUeHQiLCJ1c2VyRGF0YSIsImNob29zZW5MYW5nIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJoYW5kbGVMb2dpblZhbGlkYXRpb24iLCJ0cmFuc2xhdGlvbnMiLCJlcnJvclJlcXVpcmVkIiwiZXJyb3JJbnZhbGlkIiwidGhlbiIsInJlcyIsIndpbmRvdyIsImxvY2F0aW9uIiwiYXN5bmMiLCJyZXF1aXJlRXJyb3IiLCJpbnZhbGlkRXJyb3IiLCJwcmV2ZW50RGVmYXVsdCIsInZhbHVlIiwidHJpbSIsImNsYXNzTGlzdCIsImFkZCIsImVtYWlsVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJzaG93U21hbGxMb2FkZXIiLCJyZW1vdmUiLCJyZXN1bHQiLCJoaWRlU21hbGxMb2FkZXIiLCJzdWNjZXNzIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInNldFRpbWVvdXQiLCJwcm9maWxlc1BhZ2VNYWluIiwicHJvZmlsZXNUaXRsZSIsInByb2ZpbGVzQm94IiwibGVuZ3RoIiwia2V5IiwiY3JlYXRlUHJvZmlsZSIsImNyZWF0ZVByb2ZpbGVBZGRCdG4iLCJhcmlhSW5mbyIsInVzZXJCdG5JbmZvIiwic2F2ZUJ0bkFyaWEiLCJlbXB0eUZpZWxkRXJyb3IiLCJyZW1vdmVBcmlhIiwiZXhpc3RpbmdQcm9maWxlSWQiLCJleGlzdGluZ1Byb2ZpbGVOYW1lIiwiZXhpc3RpbmdQcm9maWxlcyIsInJlbG9hZCIsImNvbG9yIiwicHJvZmlsZUlkIiwicHJvZmlsZU5hbWUiLCJjb2xvcnMiLCJuYW1lIiwicGFyc2VJbnQiLCJzcGxpdCIsInBvcCIsIm5leHROdW1iZXIiLCJ1c2VyUHJvZmlsZSIsInVzZXJBdmF0YXJCb3giLCJ1c2VyUHJvZmlsZUluZm9Cb3giLCJ1c2VyUHJvZmlsZUluZm8iLCJyZWFkb25seSIsIm5hbWVCb3JkZXIiLCJlZGl0VXNlckluZm9CdG4iLCJyZW1vdmVVc2VyQnRuIiwicmVtb3ZlVXNlckljb24iLCJsb2FkaW5nIiwiZWRpdFVzZXJJbmZvSWNvbiIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZWRQcm9maWxlcyIsImVkaXRVc2VybmFtZSIsInJlbW92ZVVzZXIiLCJzYXZlVXNlcm5hbWUiLCJzZXRDdXJyZW50UHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiaWQiLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjcmVhdGVVc2VyUGFuZWwiLCJjdXJyZW50UHJvZmlsZSIsImN1cnJlbnRQcm9maWxlTmFtZSIsInVzZXJQYW5lbCIsInVzZXJJbmZvIiwiZGl2aWRlciIsInVzZXJQYW5lbExpc3QiLCJzZXR0aW5nc0ljb24iLCJzd2FwUHJvZmlsZUljb24iLCJsb2dvdXRJY29uIiwidXNlclBhbmVsU2V0dGluZ3MiLCJ1c2VyUGFuZWxTZXR0aW5nc0xpbmsiLCJ1c2VyUGFuZWxMb2dvdXQiLCJ1c2VyUGFuZWxMb2dvdXRMaW5rIiwidXNlclBhbmVsU3dhcFByb2ZpbGUiLCJ1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsiLCJicm93c2VQYWdlIiwiZ3JlZXRpbmciLCJzZXR0aW5ncyIsImxvZ2luIiwibWF0Y2hlcyIsImhhbmRsZUxvZ091dCIsImNyZWF0ZU92ZXJsYXkiLCJjbG9zZXN0UHJvZmlsZUJ0biIsImNyZWF0ZUJyb3dzZVBhZ2UiLCJuYW1lcyIsImZpbG1MaW5rIiwic2VyaWVzTGluayIsIm15TGlzdExpbmsiLCJzZWFyY2hMaW5rIiwidXNlckJ1dHRvbiIsImxvZ29NYWluTGluayIsImxvZ29NYWluSW1nIiwibWFpblRpdGxlIiwiY3JlYXRlQnJvd3Nlck5hdiIsImNyZWF0ZVVzZXJCdG4iLCJuYXYiLCJuYXZMaW5rcyIsImxpbmsiLCJsaXN0SXRlbSIsImxpbmtFbCIsImljb24iLCJ1c2VyQm94IiwidXNlckJ0biIsInVzZXJJY29uIiwic2hvd1VzZXJQYW5lbCIsImNyZWF0ZU1haW5IZXJvU2VjdGlvbiIsIm1vdmllcyIsImJyb3dzZU1haW4iLCJicm93c2VNYWluU2VjdGlvbiIsImltYWdlc0Nhcm91c2VsbCIsImltYWdlc0luc2lkZVNsaWRlciIsIm92ZXJ2aWV3IiwiYmFja2Ryb3BfcGF0aCIsImltZ1NyYyIsImltYWdlQm94IiwiaW1hZ2UiLCJjYXJvdXNlbGxJbWFnZXMiLCJjYXJvdXNlbGxJbWFnZUFsdCIsInRleHRCb3giLCJmaWxtVGl0bGUiLCJmaWxtSW5mbyIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJjcmVhdGVDYXJvdXNlbGxDb250cm9scyIsImFjdGlvbkJ0bnMiLCJ0cmFpbGVyQnRuVGV4dCIsIm1vcmVJbmZvQnRuVGV4dCIsImFjdGlvbkJ0bnNQYW5lbCIsInNob3dUcmFpbGVyQnRuIiwic2hvd1RyYWlsZXJUZXh0Iiwic2VlTW9yZUJ0biIsImNhcm91c2VsbEJ0bnMiLCJjYXJvdXNlbGxDb250cm9scyIsIm1vdmllIiwiaW5kZXgiLCJjYXJvdXNlbGxCdG4iLCJjYXJvdXNlbGxCdG5Qcm9ncmVzc0JhciIsImNyZWF0ZUZpbG1TbGlkZXIiLCJmaWxtcyIsInByb3BlckZpbG1zIiwicmVzdWx0cyIsImNvbnNvbGUiLCJlcnJvciIsImJyb3dzZVNlY3Rpb24iLCJzZWN0aW9uVGl0bGUiLCJzZWN0aW9uU2xpZGVyIiwic2VjdGlvbkltYWdlcyIsInNob3dQcmV2U2xpZGVCdG4iLCJzaG93TmV4dFNsaWRlQnRuIiwic2hvd1ByZXZTbGlkZUljb24iLCJzaG93TmV4dFNsaWRlSWNvbiIsImNyZWF0ZUZpbG1Qb3N0ZXJzIiwicG9zdGVyX3BhdGgiLCJzZWN0aW9uQm94Iiwic2VjdGlvbkxpbmsiLCJzaG93TW9yZUluZm9BYm91dEZpbG0iLCJzZWN0aW9uRmlsbVBvc3RlciIsInNlY3Rpb25BZGRUb0xpc3RCdG4iLCJhZGRUb0xpc3RCdG4iLCJzZWN0aW9uQWRkVG9MaXN0SWNvbiIsInNlY3Rpb25Ub29sdGlwIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidG9nZ2xlIiwiY2xvc2VBbGxOb3RDbGlja2VkIiwiY29udGFpbnMiLCJjcmVhdGVGb3VyQ2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJhbmltYXRpb25zIiwiaG9ycm9yIiwiY29tZWR5IiwiZmFudGFzeSIsImNhdGVnb3JpZXNTZWN0aW9uIiwiY2F0ZWdvcmllc0JveCIsImNhdGVnb3J5QW5pbWF0ZWRDYXJkIiwiY2F0ZWdvcnlGYW50YXN5Q2FyZCIsImNhdGVnb3J5SG9ycm9yQ2FyZCIsImNhdGVnb3J5Q29tZWR5Q2FyZCIsImNhdGVnb3J5QW5pbWF0ZWRMaW5rIiwiY2F0ZWdvcnlGYW50YXN5TGluayIsImNhdGVnb3J5SG9ycm9yTGluayIsImNhdGVnb3J5Q29tZWR5TGluayJdLCJzb3VyY2VzIjpbImNvbXBvbmVudHMuanMiXSwibWFwcGluZ3MiOiJPQUFTQSxzQkFBeUIsZ0NBQ3pCQyxjQUFlQyxnQkFBbUIsMEJBQ2xDQyxzQkFBeUIsZ0NBQ2xDLE1BQU1DLGdCQUFrQixZQUVqQixNQUFNQyxRQUFVLEtBQ3RCLElBQ0MsTUFBTUMsRUFBT0MsYUFBYUMsUUFBUSxZQUNsQyxJQUFLRixFQUFNLE9BQU8sS0FDbEIsTUFBTUcsRUFBYUMsS0FBS0MsTUFBTUwsR0FDOUIsR0FBMEIsaUJBQWZHLEdBQTBDLE9BQWZBLEVBRXJDLE1BREFHLGVBQWUsd0NBQXlDLFdBQ2xELElBQUlDLE1BQU0sMEJBRWpCLE9BQU9KLENBQ1IsQ0FBRSxNQUdELE9BRkFGLGFBQWFPLFdBQVcsWUFDeEJGLGVBQWUsK0NBQWdELFdBQ3hELENBQUMsQ0FDVCxHQUVELE1BQU1HLGVBQWlCLEtBQ0YsSUFBSUMsTUFBT0MscUJBSXpCLE1BQU1DLGFBQWUsRUFDM0JDLFFBQ0NDLEtBQU9DLGFBR1IsTUFBTUMsRUFBV1AsaUJBRVhRLEVBQVN0QixjQUFjLFNBQVUsQ0FBQyxrQkFDbEN1QixFQUFhdkIsY0FBYyxPQUFRLENBQUMsd0JBQ3BDd0IsRUFBVXhCLGNBQWMsTUFBTyxDQUFDLHNCQUF1QixDQUM1RHlCLElBQUssdUJBQ0xOLElBQUssR0FBR0MsSUFDUk0sTUFBTyxLQUNQQyxPQUFRLE9BRUhDLEVBQU81QixjQUFjLElBQUssQ0FBQyx3QkFRakMsT0FOQXVCLEVBQVdNLFlBQWMsU0FDekJOLEVBQVdPLFFBQVFOLEdBQ25CSSxFQUFLQyxZQUFjLElBQUlSLDhDQUV2QkMs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R0t5VSxFQUF1QnpVLGNBQzVCLElBQ0EsQ0FBQyx1QkFBd0Isb0NBQ3pCLENBQUV5QyxLQUFNLEtBRUhpUyxFQUFzQjFVLGNBQzNCLElBQ0EsQ0FBQyx1QkFBd0IsaUNBQ3pCLENBQUV5QyxLQUFNLEtBRUhrUyxFQUFxQjNVLGNBQzFCLElBQ0EsQ0FBQyx1QkFBd0IsaUNBQ3pCLENBQUV5QyxLQUFNLEtBRUhtUyxFQUFxQjVVLGNBQzFCLElBQ0EsQ0FBQyx1QkFBd0IsZ0NBQ3pCLENBQUV5QyxLQUFNLEtBc0JULE9BbkJBZ1MsRUFBcUI1UyxZQUFja1MsRUFDbkNXLEVBQW9CN1MsWUFBY3FTLEVBQ2xDUyxFQUFtQjlTLFlBQWNtUyxFQUNqQ1ksRUFBbUIvUyxZQUFjb1MsRUFFakNJLEVBQXFCdFMsT0FBTzBTLEdBQzVCSCxFQUFvQnZTLE9BQU8yUyxHQUMzQkgsRUFBbUJ4UyxPQUFPNFMsR0FDMUJILEVBQW1CelMsT0FBTzZTLEdBRTFCUixFQUFjclMsT0FDYnNTLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBR0RMLEVBQWtCcFMsT0FBT3FTLEdBRWxCRCIsImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJpZnlDcmVkZW50aWFscyB9IGZyb20gXCIuL2ZpcmViYXNlLWF1dGgubWluLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGdldEltYWdlVXJsIH0gZnJvbSBcIi4vaGVscGVycy5taW4uanNcIjtcclxuaW1wb3J0IHsgc2V0VXNlclByZWZlcmVuY2UgfSBmcm9tIFwiLi91cGRhdGVTdGF0ZUZ1bmN0aW9ucy5taW4uanNcIjtcclxuY29uc3QgSElERV9QT1BVUF9USU1FID0gMjUwMDtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXREYXRhID0gKCkgPT4ge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyRGF0YVwiKTtcclxuXHRcdGlmICghZGF0YSkgcmV0dXJuIG51bGw7XHJcblx0XHRjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuXHRcdGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gXCJvYmplY3RcIiB8fCBwYXJzZWREYXRhID09PSBudWxsKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKFwiSW52YWxpZCB1c2VyIGRhdGEuIFJlc2V0dGluZyBzdG9yYWdlLlwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBzdHJ1Y3R1cmVcIik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFyc2VkRGF0YTtcclxuXHR9IGNhdGNoIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlckRhdGFcIik7XHJcblx0XHRzaG93RXJyb3JQb3B1cChcIkVycm9yIGFjY2Vzc2luZyB1c2VyIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uXCIsIFwiI2RjNGEzNFwiKTtcclxuXHRcdHJldHVybiB7fTtcclxuXHR9XHJcbn07XHJcbmNvbnN0IGdldEN1cnJlbnREYXRlID0gKCkgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cclxuXHRyZXR1cm4gY3VycmVudERhdGU7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGb290ZXIgPSAoe1xyXG5cdGhlYWRlcjoge1xyXG5cdFx0YWx0OiB7IGxvZ28gfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgY3VyckRhdGUgPSBnZXRDdXJyZW50RGF0ZSgpO1xyXG5cclxuXHRjb25zdCBmb290ZXIgPSBjcmVhdGVFbGVtZW50KFwiZm9vdGVyXCIsIFtcImJyb3dzZS1mb290ZXJcIl0pO1xyXG5cdGNvbnN0IGZvb3RlckxvZ28gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtZm9vdGVyX19sb2dvXCJdKTtcclxuXHRjb25zdCBsb2dvSW1nID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtZm9vdGVyX19pbWdcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdFx0YWx0OiBgJHtsb2dvfWAsXHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0fSk7XHJcblx0Y29uc3QgaW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1mb290ZXJfX2luZm9cIl0pO1xyXG5cclxuXHRmb290ZXJMb2dvLnRleHRDb250ZW50ID0gXCJTdHJlYW1cIjtcclxuXHRmb290ZXJMb2dvLnByZXBlbmQobG9nb0ltZyk7XHJcblx0aW5mby50ZXh0Q29udGVudCA9IGDCqSR7Y3VyckRhdGV9IFN0cmVhbSBjb3Jwb3JhdGlvbiB8IEFsbCByaWdodHMgcmVzZXJ2ZWQuYDtcclxuXHJcblx0Zm9vdGVyLmFwcGVuZChmb290ZXJMb2dvLCBpbmZvKTtcclxuXHJcblx0cmV0dXJuIGZvb3RlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVMb2dpbkhlYWRlciA9IChcclxuXHR7XHJcblx0XHRoZWFkZXI6IHtcclxuXHRcdFx0YWx0OiB7IGxvZ28gfSxcclxuXHRcdFx0YXJpYTogeyBsb2dvTGluaywgY2hhbmdlTGFuZ3VhZ2VCdXR0b24gfSxcclxuXHRcdH0sXHJcblx0fSxcclxuXHRsYW5nQW1vdW50LFxyXG5cdGxhbmdOYW1lcyxcclxuXHRsYW5ndWFnZSxcclxuXHRoYW5kbGVMYW5nU2VsZWN0XHJcbikgPT4ge1xyXG5cdC8vIGxvZ29cclxuXHRjb25zdCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIFtcImhlYWRlclwiXSk7XHJcblx0Y29uc3QgcGFnZUxvZ28gPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJoZWFkZXJfX2xvZ29cIiwgXCJsb2dpbi1oZWFkZXJfX2xvZ29cIl0sIHtcclxuXHRcdGhyZWY6IFwiL1wiLFxyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGAke2xvZ29MaW5rfWAsXHJcblx0fSk7XHJcblx0Y29uc3QgbG9nb0ltZyA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiaGVhZGVyX19sb2dvLWltZ1wiLCBcImxvZ2luLWhlYWRlcl9fbG9nby1pbWdcIl0sXHJcblx0XHR7XHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdFx0XHRhbHQ6IGAke2xvZ299YCxcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBsb2dvVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFwiaGVhZGVyX19sb2dvLXRleHRcIixcclxuXHRcdFwibG9naW4taGVhZGVyX19sb2dvLXRleHRcIixcclxuXHRdKTtcclxuXHRsb2dvVGV4dC50ZXh0Q29udGVudCA9IFwiU3RyZWFtXCI7XHJcblx0cGFnZUxvZ28uYXBwZW5kKGxvZ29JbWcsIGxvZ29UZXh0KTtcclxuXHRoZWFkZXIuYXBwZW5kKHBhZ2VMb2dvKTtcclxuXHQvLyBlbmQgb2YgbG9nb1xyXG5cclxuXHQvLyBsYW5ndWFnZSBzZWxlY3RvclxyXG5cdGNvbnN0IGxhbmdTZWxlY3QgPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1zZWxlY3RcIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBgJHtjaGFuZ2VMYW5ndWFnZUJ1dHRvbn1gLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxhbmdQbGF0Zm9ybUxhbmcgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcImxvZ2luLWhlYWRlcl9fbGFuZy1wbGF0Zm9ybS1sYW5nXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgbGFuZ0Fycm93ID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctYXJyb3dcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9jaGV2cm9uLWRvd24uc3ZnXCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbGFuZ0xpc3QgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWxpc3RcIl0pO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxhbmdBbW91bnQ7IGkrKykge1xyXG5cdFx0Y29uc3QgbGFuZ0Nob2ljZSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctY2hvaWNlXCJdLCB7XHJcblx0XHRcdHRhYmluZGV4OiAwLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBkYXRhID0gT2JqZWN0LmtleXMobGFuZ05hbWVzKVtpXTtcclxuXHRcdGNvbnN0IHRleHQgPSBPYmplY3QudmFsdWVzKGxhbmdOYW1lcylbaV07XHJcblxyXG5cdFx0bGFuZ0Nob2ljZS5kYXRhc2V0LmxhbmcgPSBkYXRhO1xyXG5cdFx0bGFuZ0Nob2ljZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0XHRsYW5nQ2hvaWNlLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gaSAqIDEwMCArIFwibXNcIjtcclxuXHRcdGxhbmdMaXN0LmFwcGVuZChsYW5nQ2hvaWNlKTtcclxuXHR9XHJcblxyXG5cdGxhbmdQbGF0Zm9ybUxhbmcudGV4dENvbnRlbnQgPSBsYW5nTmFtZXNbbGFuZ3VhZ2VdO1xyXG5cclxuXHRsYW5nU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aGFuZGxlTGFuZ1NlbGVjdC5jYWxsKGxhbmdTZWxlY3QsIGUsIGxhbmdQbGF0Zm9ybUxhbmcpO1xyXG5cdH0pO1xyXG5cclxuXHRsYW5nU2VsZWN0LmFwcGVuZChsYW5nUGxhdGZvcm1MYW5nLCBsYW5nQXJyb3csIGxhbmdMaXN0KTtcclxuXHRoZWFkZXIuYXBwZW5kKGxhbmdTZWxlY3QpO1xyXG5cclxuXHRyZXR1cm4gaGVhZGVyO1xyXG5cdC8vIGVuZCBvZiBsYW5ndWFnZSBzZWxlY3RvclxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZ2luUGFnZSA9ICh7XHJcblx0bWFpbjoge1xyXG5cdFx0dGV4dDogeyB0aXRsZSwgc3VidGl0bGUsIGRlc2NyaXB0aW9uLCBidXR0b24gfSxcclxuXHRcdHBsYWNlaG9sZGVyOiB7IHVzZXJuYW1lLCBwYXNzd29yZCB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBtYWluQ29udGVudCA9IGNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIFtcIm1haW5cIl0pO1xyXG5cdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIik7XHJcblx0Y29uc3QgbG9naW5UaXRsZVRvcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW5fX3RpdGxlXCJdKTtcclxuXHRjb25zdCBsb2dpblRpdGxlQm90dG9tID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fc3VidGl0bGVcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcIm1haW5fX3RleHRcIl0pO1xyXG5cdGNvbnN0IGZvcm0gPSBjcmVhdGVFbGVtZW50KFwiZm9ybVwiLCBbXCJtYWluX19mb3JtXCJdKTtcclxuXHRjb25zdCB1c2VybmFtZUlucHV0ID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW5wdXRcIixcclxuXHRcdFtcIm1haW5fX2Zvcm0taW5wdXRcIiwgXCJtYWluX19mb3JtLWlucHV0LS11c2VybmFtZVwiXSxcclxuXHRcdHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiB1c2VybmFtZSB9XHJcblx0KTtcclxuXHRjb25zdCBwYXNzd29yZElucHV0ID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW5wdXRcIixcclxuXHRcdFtcIm1haW5fX2Zvcm0taW5wdXRcIiwgXCJtYWluX19mb3JtLWlucHV0LS1wYXNzd29yZFwiXSxcclxuXHRcdHsgdHlwZTogXCJwYXNzd29yZFwiLCBwbGFjZWhvbGRlcjogcGFzc3dvcmQgfVxyXG5cdCk7XHJcblx0Y29uc3Qgc3VibWl0QnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJtYWluX19mb3JtLWJ1dHRvblwiXSwge1xyXG5cdFx0dHlwZTogXCJzdWJtaXRcIixcclxuXHR9KTtcclxuXHRjb25zdCBidXR0b25UZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fZm9ybS1idXR0b24tdGV4dFwiXSk7XHJcblxyXG5cdGNvbnN0IGVycm9yVHh0ID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wibWFpbl9fZm9ybS1lcnJvci10eHRcIl0pO1xyXG5cdGxvZ2luVGl0bGVUb3AudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHRsb2dpblRpdGxlQm90dG9tLnRleHRDb250ZW50ID0gc3VidGl0bGU7XHJcblx0bG9naW5UZXh0LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcblx0YnV0dG9uVGV4dC50ZXh0Q29udGVudCA9IGJ1dHRvbjtcclxuXHJcblx0bG9naW5UaXRsZS5hcHBlbmQobG9naW5UaXRsZVRvcCwgbG9naW5UaXRsZUJvdHRvbSk7XHJcblx0c3VibWl0QnRuLmFwcGVuZChidXR0b25UZXh0KTtcclxuXHRmb3JtLmFwcGVuZCh1c2VybmFtZUlucHV0LCBwYXNzd29yZElucHV0LCBzdWJtaXRCdG4sIGVycm9yVHh0KTtcclxuXHJcblx0d3JhcHBlci5hcHBlbmQobG9naW5UaXRsZSwgbG9naW5UZXh0LCBmb3JtKTtcclxuXHRtYWluQ29udGVudC5hcHBlbmQod3JhcHBlcik7XHJcblxyXG5cdHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdFx0Y29uc3QgY2hvb3NlbkxhbmcgPSB1c2VyRGF0YT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblxyXG5cdFx0aWYgKCFjaG9vc2VuTGFuZykge1xyXG5cdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInByZWZlcnJlZExhbmd1YWdlXCIsIFwicGxcIiwgdXNlckRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGhhbmRsZUxvZ2luVmFsaWRhdGlvbihcclxuXHRcdFx0ZSxcclxuXHRcdFx0dXNlcm5hbWVJbnB1dCxcclxuXHRcdFx0cGFzc3dvcmRJbnB1dCxcclxuXHRcdFx0dHJhbnNsYXRpb25zLm1haW4udGV4dC5lcnJvclJlcXVpcmVkLFxyXG5cdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9ySW52YWxpZCxcclxuXHRcdFx0ZXJyb3JUeHRcclxuXHRcdCkudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdGlmICghcmVzKSB7XHJcblx0XHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJ0cmFuc2xhdGlvbnNcIiwgdHJhbnNsYXRpb25zLCB1c2VyRGF0YSk7XHJcblx0XHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJsb2dnZWRJblwiLCB0cnVlLCB1c2VyRGF0YSk7XHJcblxyXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJwcm9maWxlcy5odG1sXCI7IC8vIHByemVqxZtjaWUgbmEgc3Ryb27EmSB6IHByb2ZpbGFtaVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIG1haW5Db250ZW50O1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTG9naW5WYWxpZGF0aW9uID0gYXN5bmMgKFxyXG5cdGUsXHJcblx0dXNlcm5hbWVJbnB1dCxcclxuXHRwYXNzd29yZElucHV0LFxyXG5cdHJlcXVpcmVFcnJvcixcclxuXHRpbnZhbGlkRXJyb3IsXHJcblx0ZXJyb3JUeHRcclxuKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRpZiAodXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIgfHwgcGFzc3dvcmRJbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuXHRcdGVycm9yVHh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0ZXJyb3JUeHQudGV4dENvbnRlbnQgPSByZXF1aXJlRXJyb3I7XHJcblx0XHRyZXR1cm4gcmVxdWlyZUVycm9yO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgZW1haWxWYWx1ZSA9IHVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cdGNvbnN0IHBhc3N3b3JkVmFsdWUgPSBwYXNzd29yZElucHV0LnZhbHVlLnRyaW0oKTtcclxuXHJcblx0ZS50YXJnZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdGUudGFyZ2V0LmFwcGVuZChzaG93U21hbGxMb2FkZXIoKSk7XHJcblx0ZXJyb3JUeHQuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblxyXG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZlcmlmeUNyZWRlbnRpYWxzKGVtYWlsVmFsdWUsIHBhc3N3b3JkVmFsdWUpO1xyXG5cclxuXHRoaWRlU21hbGxMb2FkZXIoKTtcclxuXHRlLnRhcmdldC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRlcnJvclR4dC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRcdGVycm9yVHh0LnRleHRDb250ZW50ID0gaW52YWxpZEVycm9yO1xyXG5cdFx0cmV0dXJuIGludmFsaWRFcnJvcjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dCaWdMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImxvYWRpbmctYXJlYVwiXSk7XHJcblx0bG9hZGluZ0FyZWEuaW5uZXJIVE1MID0gYCAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJsb2FkZXItYmlnXCIgdmlld0JveD1cIjAgMCAxMjAgMTIwXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCIxMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImxvYWRlci1hY2NlbnRcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwiIzRkYThkYVwiIHN0b3Atb3BhY2l0eT1cIjAuOFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjcwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMC40XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJsb2FkaW5nLWNpcmNsZS1iaWdcIiByPVwiMzVcIiBjeD1cIjYwXCIgY3k9XCI2MFwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICA8L3N2Zz5gO1xyXG5cdHJldHVybiBsb2FkaW5nQXJlYTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVCaWdMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctYXJlYVwiKTtcclxuXHRsb2FkaW5nQXJlYT8ucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd1NtYWxsTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJsb2FkaW5nLWFyZWEtc21hbGxcIl0pO1xyXG5cdGxvYWRpbmdBcmVhLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwibG9hZGVyLXNtYWxsXCIgdmlld0JveD1cIjAgMCAxMjAgMTIwXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCIxMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImxvYWRlci1hY2NlbnQtc21hbGxcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwLjhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI3MCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwLjNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJsb2FkaW5nLWNpcmNsZS1zbWFsbFwiIHI9XCIxMlwiIGN4PVwiNjBcIiBjeT1cIjYwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgIDwvc3ZnPmA7XHJcblxyXG5cdHJldHVybiBsb2FkaW5nQXJlYTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVTbWFsbExvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy1hcmVhLXNtYWxsXCIpO1xyXG5cdGxvYWRpbmdBcmVhLnJlbW92ZSgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2ZpbGVzUGFnZSA9ICh7XHJcblx0cHJvZmlsZXM6IHtcclxuXHRcdHRleHQ6IHsgdGl0bGUsIGFkZFByb2ZpbGVJbmZvIH0sXHJcblx0XHRhcmlhOiB7IGFkZFByb2ZpbGVCdG4sIHVzZXJQcm9maWxlQnRuLCB1c2VyQnRuQ3VzdG9taXplLCByZW1vdmVVc2VySW5mbyB9LFxyXG5cdH0sXHJcblx0ZXJyb3JQb3B1cDoge1xyXG5cdFx0dGV4dDogeyBtYXhQcm9maWxlcywgZW1wdHlGaWVsZCB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZXNMaXN0ID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcztcclxuXHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjb25zdCBwcm9maWxlc1BhZ2VNYWluID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wibWFpbi1wcm9maWxlc1wiXSk7XHJcblx0XHRjb25zdCB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJ3cmFwcGVyXCJdKTtcclxuXHRcdGNvbnN0IHByb2ZpbGVzVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIiwgW1xyXG5cdFx0XHRcIm1haW5fX3RpdGxlXCIsXHJcblx0XHRcdFwibWFpbi1wcm9maWxlc19fdGl0bGVcIixcclxuXHRcdF0pO1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2JveFwiXSk7XHJcblxyXG5cdFx0cHJvZmlsZXNUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRcdGlmICh1c2VyUHJvZmlsZXNMaXN0ICYmIE9iamVjdC5rZXlzKHVzZXJQcm9maWxlc0xpc3QpLmxlbmd0aCAhPT0gMCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB1c2VyUHJvZmlsZXNMaXN0KSB7XHJcblx0XHRcdFx0cHJvZmlsZXNCb3guYXBwZW5kKFxyXG5cdFx0XHRcdFx0Y3JlYXRlUHJvZmlsZShcclxuXHRcdFx0XHRcdFx0dXNlclByb2ZpbGVCdG4sXHJcblx0XHRcdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0XHRcdGVtcHR5RmllbGQsXHJcblx0XHRcdFx0XHRcdHJlbW92ZVVzZXJJbmZvLFxyXG5cdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdHVzZXJQcm9maWxlc0xpc3Rba2V5XVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHByb2ZpbGVzQm94LmFwcGVuZChcclxuXHRcdFx0Y3JlYXRlUHJvZmlsZUFkZEJ0bihcclxuXHRcdFx0XHRhZGRQcm9maWxlQnRuLFxyXG5cdFx0XHRcdGFkZFByb2ZpbGVJbmZvLFxyXG5cdFx0XHRcdHVzZXJQcm9maWxlQnRuLFxyXG5cdFx0XHRcdHByb2ZpbGVzQm94LFxyXG5cdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRtYXhQcm9maWxlcyxcclxuXHRcdFx0XHRlbXB0eUZpZWxkLFxyXG5cdFx0XHRcdHJlbW92ZVVzZXJJbmZvXHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0XHR3cmFwcGVyLmFwcGVuZChwcm9maWxlc1RpdGxlLCBwcm9maWxlc0JveCk7XHJcblx0XHRwcm9maWxlc1BhZ2VNYWluLmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kKHByb2ZpbGVzUGFnZU1haW4pO1xyXG5cdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdH0sIDUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVQcm9maWxlID0gKFxyXG5cdGFyaWFJbmZvLFxyXG5cdHVzZXJCdG5JbmZvLFxyXG5cdHNhdmVCdG5BcmlhLFxyXG5cdGVtcHR5RmllbGRFcnJvcixcclxuXHRyZW1vdmVBcmlhLFxyXG5cdGV4aXN0aW5nUHJvZmlsZUlkID0gbnVsbCxcclxuXHRleGlzdGluZ1Byb2ZpbGVOYW1lID0gbnVsbFxyXG4pID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCB7fTtcclxuXHJcblx0aWYgKHVzZXJEYXRhID09PSBudWxsKSB7XHJcblx0XHRzaG93RXJyb3JQb3B1cChcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdH0sIEhJREVfUE9QVVBfVElNRSk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRsZXQgY29sb3I7XHJcblx0bGV0IHByb2ZpbGVJZDtcclxuXHRsZXQgcHJvZmlsZU5hbWU7XHJcblxyXG5cdGNvbnN0IGNvbG9ycyA9IFtcIiNkYzRhMzRcIiwgXCIjMDYyRTYzXCIsIFwiI0ZBQzA0NFwiXTtcclxuXHJcblx0aWYgKGV4aXN0aW5nUHJvZmlsZUlkKSB7XHJcblx0XHRwcm9maWxlSWQgPSBleGlzdGluZ1Byb2ZpbGVJZDtcclxuXHRcdHByb2ZpbGVOYW1lID0gZXhpc3RpbmdQcm9maWxlTmFtZS5uYW1lO1xyXG5cdFx0Y29uc3QgcHJvZmlsZU51bWJlciA9IHBhcnNlSW50KHByb2ZpbGVJZC5zcGxpdChcIi1cIikucG9wKCkpO1xyXG5cdFx0Y29sb3IgPSBjb2xvcnNbcHJvZmlsZU51bWJlciAtIDFdO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoT2JqZWN0LmtleXMoZXhpc3RpbmdQcm9maWxlcykubGVuZ3RoID49IDMpIHJldHVybjtcclxuXHJcblx0XHRsZXQgbmV4dE51bWJlciA9IDE7XHJcblx0XHR3aGlsZSAoZXhpc3RpbmdQcm9maWxlc1tgdXNlci1wcm9maWxlLSR7bmV4dE51bWJlcn1gXSkge1xyXG5cdFx0XHRuZXh0TnVtYmVyKys7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJvZmlsZUlkID0gYHVzZXItcHJvZmlsZS0ke25leHROdW1iZXJ9YDtcclxuXHRcdHByb2ZpbGVOYW1lID0gYEhhbmRzb21lIFVzZXIgJHtuZXh0TnVtYmVyfWA7XHJcblx0XHRjb2xvciA9IGNvbG9yc1tuZXh0TnVtYmVyIC0gMV07XHJcblx0fVxyXG5cclxuXHRjb25zdCB1c2VyUHJvZmlsZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fcHJvZmlsZVwiXSk7XHJcblx0Y29uc3QgdXNlckF2YXRhckJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYXZhdGFyXCJdKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wibWFpbi1wcm9maWxlc19fYnRuXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogYXJpYUluZm8sXHJcblx0XHRcImRhdGEtaWRcIjogcHJvZmlsZUlkLFxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCB1c2VyUHJvZmlsZUluZm9Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX3VzZXItaW5mb1wiXSk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVJbmZvID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFtcIm1haW4tcHJvZmlsZXNfX25hbWVcIl0sIHtcclxuXHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0cmVhZG9ubHk6IHRydWUsXHJcblx0XHR2YWx1ZTogcHJvZmlsZU5hbWUsXHJcblx0fSk7XHJcblx0Y29uc3QgbmFtZUJvcmRlciA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm5hbWUtYm9yZGVyXCJdKTtcclxuXHRjb25zdCBlZGl0VXNlckluZm9CdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHVzZXJCdG5JbmZvIH1cclxuXHQpO1xyXG5cdGNvbnN0IHJlbW92ZVVzZXJCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX3JlbW92ZS11c2VyXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogcmVtb3ZlQXJpYSB9XHJcblx0KTtcclxuXHRjb25zdCByZW1vdmVVc2VySWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fcmVtb3ZlLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3JlbW92ZS1wcm9maWxlLWljb24uc3ZnXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgZWRpdFVzZXJJbmZvSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fZWRpdC1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9lZGl0LnN2Z1wiLFxyXG5cdH0pO1xyXG5cclxuXHR1c2VyUHJvZmlsZUJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cIm1haW4tcHJvZmlsZXNfX2ltZ1wiIHdpZHRoPVwiMTUwXCIgaGVpZ2h0PVwiMTUwXCIgdmlld0JveD1cIjAgMCAyMDAgMjAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgPGNpcmNsZSBjeD1cIjcwXCIgY3k9XCI3MFwiIHI9XCI4XCIgZmlsbD1cIndoaXRlXCIgLz5cclxuICAgIDxjaXJjbGUgY3g9XCIxMzBcIiBjeT1cIjcwXCIgcj1cIjhcIiBmaWxsPVwid2hpdGVcIiAvPlxyXG4gICAgPHBhdGggZD1cIk02MCAxMTAgUTEwMCAxNTAgMTQwIDExMFwiIHN0cm9rZT1cIndoaXRlXCIgc3Ryb2tlLXdpZHRoPVwiNlwiXHJcbiAgICBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgLz5cclxuICAgIDwvc3ZnPmA7XHJcblx0dXNlclByb2ZpbGVCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcblxyXG5cdHVzZXJBdmF0YXJCb3guYXBwZW5kKHVzZXJQcm9maWxlQnRuKTtcclxuXHRlZGl0VXNlckluZm9CdG4uYXBwZW5kKGVkaXRVc2VySW5mb0ljb24pO1xyXG5cdHJlbW92ZVVzZXJCdG4uYXBwZW5kKHJlbW92ZVVzZXJJY29uKTtcclxuXHR1c2VyUHJvZmlsZUluZm9Cb3guYXBwZW5kKFxyXG5cdFx0dXNlclByb2ZpbGVJbmZvLFxyXG5cdFx0bmFtZUJvcmRlcixcclxuXHRcdGVkaXRVc2VySW5mb0J0bixcclxuXHRcdHJlbW92ZVVzZXJCdG5cclxuXHQpO1xyXG5cdHVzZXJQcm9maWxlLmFwcGVuZCh1c2VyQXZhdGFyQm94LCB1c2VyUHJvZmlsZUluZm9Cb3gpO1xyXG5cclxuXHRpZiAoIWV4aXN0aW5nUHJvZmlsZUlkKSB7XHJcblx0XHRjb25zdCB1cGRhdGVkUHJvZmlsZXMgPSB7XHJcblx0XHRcdC4uLmV4aXN0aW5nUHJvZmlsZXMsXHJcblx0XHRcdFtwcm9maWxlSWRdOiB7XHJcblx0XHRcdFx0bmFtZTogcHJvZmlsZU5hbWUsXHJcblx0XHRcdH0sXHJcblx0XHR9O1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJ1c2VyUHJvZmlsZXNcIiwgdXBkYXRlZFByb2ZpbGVzLCB1c2VyRGF0YSk7XHJcblx0fVxyXG5cclxuXHRlZGl0VXNlckluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRlZGl0VXNlcm5hbWUoZSwgdXNlclByb2ZpbGVJbmZvQm94LCBzYXZlQnRuQXJpYSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHR9KTtcclxuXHRyZW1vdmVVc2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0cmVtb3ZlVXNlcihlKTtcclxuXHR9KTtcclxuXHJcblx0dXNlclByb2ZpbGVJbmZvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xyXG5cdFx0XHRzYXZlVXNlcm5hbWUoZSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHR1c2VyUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHNldEN1cnJlbnRQcm9maWxlKGUpKTtcclxuXHJcblx0dXNlclByb2ZpbGUuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0cmV0dXJuIHVzZXJQcm9maWxlO1xyXG59O1xyXG4vLyB3eWLDs3IgcHJvZmlsdVxyXG5jb25zdCBzZXRDdXJyZW50UHJvZmlsZSA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgcHJvZmlsZURhdGEgPSBlLnRhcmdldC5kYXRhc2V0LmlkO1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcImN1cnJlbnRQcm9maWxlXCIsIHByb2ZpbGVEYXRhLCB1c2VyRGF0YSk7XHJcblxyXG5cdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJicm93c2UuaHRtbFwiO1xyXG59O1xyXG4vLyBrb25pZWMgd3lib3J1IHByb2ZpbHVcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGVBZGRCdG4gPSAoXHJcblx0YXJpYUluZm8sXHJcblx0aW5mbyxcclxuXHR1c2VyQnRuQXJpYSxcclxuXHRwcm9maWxlc0JveCxcclxuXHR1c2VyQnRuSW5mbyxcclxuXHRzYXZlQnRuQXJpYSxcclxuXHRtYXhQcm9maWxlc0Vycm9yLFxyXG5cdGVtcHR5RmllbGRFcnJvcixcclxuXHRyZW1vdmVBcmlhXHJcbikgPT4ge1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2FkZC1wcm9maWxlXCJdKTtcclxuXHRjb25zdCBhZGRQcm9maWxlQXZhdGFyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hdmF0YXJcIl0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX2J0blwiLCBcIm1haW4tcHJvZmlsZXNfX2J0bi0tYWRkLXByb2ZpbGVcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiBhcmlhSW5mbyB9XHJcblx0KTtcclxuXHRjb25zdCBhZGRQcm9maWxlUGx1c0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX2FkZC1pbWdcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9hZGQtcHJvZmlsZS5zdmdcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVJbmZvID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbi1wcm9maWxlc19fbmFtZVwiXSk7XHJcblxyXG5cdGFkZFByb2ZpbGVJbmZvLnRleHRDb250ZW50ID0gaW5mbztcclxuXHJcblx0YWRkUHJvZmlsZUJ0bi5hcHBlbmQoYWRkUHJvZmlsZVBsdXNJY29uKTtcclxuXHRhZGRQcm9maWxlQXZhdGFyLmFwcGVuZChhZGRQcm9maWxlQnRuKTtcclxuXHRhZGRQcm9maWxlQm94LmFwcGVuZChhZGRQcm9maWxlQXZhdGFyLCBhZGRQcm9maWxlSW5mbyk7XHJcblxyXG5cdGFkZFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwge307XHJcblxyXG5cdFx0aWYgKE9iamVjdC5rZXlzKGV4aXN0aW5nUHJvZmlsZXMpLmxlbmd0aCA+PSAzKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKG1heFByb2ZpbGVzRXJyb3IsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHByb2ZpbGUgPSBjcmVhdGVQcm9maWxlKFxyXG5cdFx0XHR1c2VyQnRuQXJpYSxcclxuXHRcdFx0dXNlckJ0bkluZm8sXHJcblx0XHRcdHNhdmVCdG5BcmlhLFxyXG5cdFx0XHRlbXB0eUZpZWxkRXJyb3IsXHJcblx0XHRcdHJlbW92ZUFyaWFcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKHByb2ZpbGUpIHtcclxuXHRcdFx0cHJvZmlsZXNCb3guaW5zZXJ0QmVmb3JlKHByb2ZpbGUsIGFkZFByb2ZpbGVCb3gpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gYWRkUHJvZmlsZUJveDtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRVc2VybmFtZSA9IChlLCBwYXJlbnQsIHNhdmVCdG5BcmlhLCBlbXB0eUZpZWxkRXJyb3IpID0+IHtcclxuXHRyZXNldFN0YXRlT2ZFZGl0aW5nKGUpO1xyXG5cclxuXHRjb25zdCBlZGl0QnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgbmFtZVRvRWRpdCA9IGVkaXRCdG5cclxuXHRcdC5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIilcclxuXHRcdC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX25hbWVcIik7XHJcblxyXG5cdGNvbnN0IHNhdmVCdG4gPSBjcmVhdGVTYXZlQnRuKHNhdmVCdG5BcmlhKTtcclxuXHJcblx0ZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHNhdmVCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0cGFyZW50LmFwcGVuZChzYXZlQnRuKTtcclxuXHJcblx0bmFtZVRvRWRpdC5mb2N1cygpO1xyXG5cdG5hbWVUb0VkaXQuc2VsZWN0KCk7XHJcblx0bmFtZVRvRWRpdC5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTtcclxuXHRuYW1lVG9FZGl0LmNsYXNzTGlzdC5hZGQoXCJmb2N1c2VkXCIpO1xyXG5cclxuXHRzYXZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0c2F2ZVVzZXJuYW1lKGUsIGVtcHR5RmllbGRFcnJvcik7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBzYXZlVXNlcm5hbWUgPSAoZSwgZW1wdHlGaWVsZEVycm9yKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwgW107XHJcblxyXG5cdGNvbnN0IHNhdmVCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZSA9IHNhdmVCdG4uY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlSWQgPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX2J0blwiKVxyXG5cdFx0LmRhdGFzZXQuaWQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVOYW1lID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLm1haW4tcHJvZmlsZXNfX25hbWVcIlxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcclxuXHJcblx0aWYgKGNsb3Nlc3RQcm9maWxlTmFtZS52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuXHRcdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpKTtcclxuXHRcdHJldHVybiBzaG93RXJyb3JQb3B1cChlbXB0eUZpZWxkRXJyb3IsIFwiI0ZBQzA0NFwiKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVwZGF0ZWRQcm9maWxlcyA9IHtcclxuXHRcdC4uLmV4aXN0aW5nUHJvZmlsZXMsXHJcblx0XHRbY2xvc2VzdFByb2ZpbGVJZF06IHtcclxuXHRcdFx0Li4uZXhpc3RpbmdQcm9maWxlc1tjbG9zZXN0UHJvZmlsZUlkXSxcclxuXHRcdFx0bmFtZTogY2xvc2VzdFByb2ZpbGVOYW1lLnZhbHVlLFxyXG5cdFx0fSxcclxuXHR9O1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1cGRhdGVkUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHJcblx0cmVzZXRTdGF0ZU9mRWRpdGluZyhlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNhdmVCdG4gPSAoc2F2ZUJ0bkFyaWEpID0+IHtcclxuXHRjb25zdCBzYXZlVXNlckluZm9CdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX3NhdmUtbmFtZVwiLCBcImhpZGRlblwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHNhdmVCdG5BcmlhIH1cclxuXHQpO1xyXG5cdGNvbnN0IHNhdmVVc2VySW5mb0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX3NhdmUtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvc2F2ZS5zdmdcIixcclxuXHR9KTtcclxuXHJcblx0c2F2ZVVzZXJJbmZvQnRuLmFwcGVuZChzYXZlVXNlckluZm9JY29uKTtcclxuXHJcblx0cmV0dXJuIHNhdmVVc2VySW5mb0J0bjtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0U3RhdGVPZkVkaXRpbmcgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IGZvY3VzZWROYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9jdXNlZFwiKTtcclxuXHRjb25zdCBhbGxTYXZlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fc2F2ZS1uYW1lXCIpO1xyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGZvY3VzZWROYW1lcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0ZWwuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgdHJ1ZSk7XHJcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9jdXNlZFwiKTtcclxuXHRcdGVsLmJsdXIoKTtcclxuXHR9KTtcclxuXHRhbGxTYXZlQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpKTtcclxufTtcclxuXHJcbmxldCBwb3B1cFZpc2libGUgPSBmYWxzZTtcclxuZXhwb3J0IGNvbnN0IHNob3dFcnJvclBvcHVwID0gKHRleHQsIGNvbG9yKSA9PiB7XHJcblx0aWYgKHBvcHVwVmlzaWJsZSkgcmV0dXJuO1xyXG5cdHBvcHVwVmlzaWJsZSA9IHRydWU7XHJcblxyXG5cdGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGNvbnN0IHBvcHVwID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJlcnJvci1wb3B1cFwiXSk7XHJcblx0Y29uc3QgcG9wdXBFcnJvciA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImVycm9yLXBvcHVwX190ZXh0XCJdKTtcclxuXHJcblx0cG9wdXBFcnJvci50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0cm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZXJyb3JUeHRDb2xvclwiLCBjb2xvcik7XHJcblxyXG5cdHBvcHVwLmFwcGVuZChwb3B1cEVycm9yKTtcclxuXHRjb250YWluZXIuYXBwZW5kKHBvcHVwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0sIDIwMDApO1xyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0cG9wdXAucmVtb3ZlKCk7XHJcblx0XHRwb3B1cFZpc2libGUgPSBmYWxzZTtcclxuXHR9LCBISURFX1BPUFVQX1RJTUUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXJQYW5lbCA9ICgpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHJcblx0aWYgKCF1c2VyRGF0YSkgc2hvd0Vycm9yUG9wdXAoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsIFwiI2RjNGEzNFwiKTtcclxuXHJcblx0Y29uc3QgY3VycmVudFByb2ZpbGUgPSB1c2VyRGF0YT8uY3VycmVudFByb2ZpbGU7XHJcblx0Y29uc3QgY3VycmVudFByb2ZpbGVOYW1lID0gdXNlckRhdGE/LnVzZXJQcm9maWxlc1tjdXJyZW50UHJvZmlsZV0/Lm5hbWU7XHJcblxyXG5cdGNvbnN0IHVzZXJQYW5lbCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbFwiXSk7XHJcblx0Y29uc3QgdXNlckluZm8gPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWluZm9cIl0pO1xyXG5cdGNvbnN0IHVzZXJuYW1lID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlcm5hbWVcIl0pO1xyXG5cdGNvbnN0IGRpdmlkZXIgPSBjcmVhdGVFbGVtZW50KFwiaHJcIiwgW1wiYnJvd3NlLWhlYWRlcl9faHJcIl0pO1xyXG5cdGNvbnN0IHVzZXJQYW5lbExpc3QgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saXN0XCJdKTtcclxuXHJcblx0Y29uc3Qgc2V0dGluZ3NJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL3NldHRpbmdzLWljb24uc3ZnXCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3Qgc3dhcFByb2ZpbGVJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL3N3YXAtaWNvbi5zdmdcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBsb2dvdXRJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ291dC1pY29uLnN2Z1wiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHRjb25zdCB1c2VyUGFuZWxTZXR0aW5ncyA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsU2V0dGluZ3NMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1xyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGlua1wiLFxyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGluay0tc2V0dGluZ3NcIixcclxuXHRcdF0sXHJcblx0XHR7IGhyZWY6IFwiXCIgfVxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHVzZXJQYW5lbExvZ291dCA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsTG9nb3V0TGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImFcIixcclxuXHRcdFtcclxuXHRcdFx0XCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmtcIixcclxuXHRcdFx0XCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmstLWxvZ291dFwiLFxyXG5cdFx0XSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHRjb25zdCB1c2VyUGFuZWxTd2FwUHJvZmlsZSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsU3dhcFByb2ZpbGVMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1xyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGlua1wiLFxyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGluay0tc3dhcC1wcm9maWxlXCIsXHJcblx0XHRdLFxyXG5cdFx0eyBocmVmOiBcInByb2ZpbGVzLmh0bWxcIiB9XHJcblx0KTtcclxuXHJcblx0dXNlcm5hbWUudGV4dENvbnRlbnQgPSBjdXJyZW50UHJvZmlsZU5hbWU7XHJcblx0dXNlckluZm8udGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5ncmVldGluZztcclxuXHR1c2VySW5mby5hcHBlbmQodXNlcm5hbWUpO1xyXG5cclxuXHR1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsudGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5wcm9maWxlcztcclxuXHJcblx0dXNlclBhbmVsU2V0dGluZ3NMaW5rLnRleHRDb250ZW50ID1cclxuXHRcdHVzZXJEYXRhPy50cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LnVzZXJQYW5lbD8uc2V0dGluZ3M7XHJcblx0dXNlclBhbmVsTG9nb3V0TGluay50ZXh0Q29udGVudCA9XHJcblx0XHR1c2VyRGF0YT8udHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy51c2VyUGFuZWw/LmxvZ2luO1xyXG5cclxuXHR1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsuYXBwZW5kKHN3YXBQcm9maWxlSWNvbik7XHJcblx0dXNlclBhbmVsU2V0dGluZ3NMaW5rLmFwcGVuZChzZXR0aW5nc0ljb24pO1xyXG5cdHVzZXJQYW5lbExvZ291dExpbmsuYXBwZW5kKGxvZ291dEljb24pO1xyXG5cclxuXHR1c2VyUGFuZWxTd2FwUHJvZmlsZS5hcHBlbmQodXNlclBhbmVsU3dhcFByb2ZpbGVMaW5rKTtcclxuXHR1c2VyUGFuZWxTZXR0aW5ncy5hcHBlbmQodXNlclBhbmVsU2V0dGluZ3NMaW5rKTtcclxuXHR1c2VyUGFuZWxMb2dvdXQuYXBwZW5kKHVzZXJQYW5lbExvZ291dExpbmspO1xyXG5cclxuXHR1c2VyUGFuZWxMaXN0LmFwcGVuZChcclxuXHRcdHVzZXJQYW5lbFN3YXBQcm9maWxlLFxyXG5cdFx0dXNlclBhbmVsU2V0dGluZ3MsXHJcblx0XHR1c2VyUGFuZWxMb2dvdXRcclxuXHQpO1xyXG5cclxuXHR1c2VyUGFuZWwuYXBwZW5kKHVzZXJJbmZvLCBkaXZpZGVyLCB1c2VyUGFuZWxMaXN0KTtcclxuXHJcblx0dXNlclBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saW5rLS1sb2dvdXRcIikpIHtcclxuXHRcdFx0aGFuZGxlTG9nT3V0KGUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gdXNlclBhbmVsO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTG9nT3V0ID0gKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5cclxuXHRpZiAoIXVzZXJEYXRhKSByZXR1cm47XHJcblxyXG5cdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZU92ZXJsYXkoKSk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJsb2dnZWRJblwiLCBmYWxzZSk7XHJcblx0XHRzZXRVc2VyUHJlZmVyZW5jZShcImN1cnJlbnRQcm9maWxlXCIsIG51bGwpO1xyXG5cdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImluZGV4Lmh0bWxcIjtcclxuXHR9LCBISURFX1BPUFVQX1RJTUUpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlVXNlciA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcztcclxuXHRjb25zdCBhbGxFZGl0QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCIpO1xyXG5cclxuXHRjb25zdCBkZWxldGVCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZSA9IGRlbGV0ZUJ0bi5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIik7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVCdG4gPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX2J0blwiKTtcclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7XHJcblxyXG5cdGRlbGV0ZSB1c2VyUHJvZmlsZXNbY2xvc2VzdFByb2ZpbGVCdG4uZGF0YXNldC5pZF07XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVzZXJQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cclxuXHRjbG9zZXN0UHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNsb3Nlc3RQcm9maWxlLnJlbW92ZSgpO1xyXG5cdH0sIDQwMCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQnJvd3NlUGFnZSA9ICh7XHJcblx0aGVhZGVyOiB7XHJcblx0XHRhbHQ6IHsgbG9nbyB9LFxyXG5cdFx0YXJpYTogeyBsb2dvTGluayB9LFxyXG5cdH0sXHJcblx0YnJvd3NlUGFnZToge1xyXG5cdFx0bmFtZXM6IHsgZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmsgfSxcclxuXHRcdGFyaWE6IHsgdXNlckJ1dHRvbiB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIFtcImJyb3dzZS1oZWFkZXJcIl0pO1xyXG5cdGNvbnN0IGxvZ29NYWluTGluayA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ29cIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBsb2dvTGluayxcclxuXHRcdGhyZWY6IFwiXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbG9nb01haW5JbWcgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ28taW1nXCJdLCB7XHJcblx0XHRhbHQ6IGxvZ28sXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nby5zdmdcIixcclxuXHR9KTtcclxuXHRjb25zdCBtYWluVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvLXRleHRcIl0pO1xyXG5cclxuXHRtYWluVGl0bGUudGV4dENvbnRlbnQgPSBcIlN0cmVhbVwiO1xyXG5cclxuXHRsb2dvTWFpbkxpbmsuYXBwZW5kKGxvZ29NYWluSW1nLCBtYWluVGl0bGUpO1xyXG5cdGhlYWRlci5hcHBlbmQoXHJcblx0XHRsb2dvTWFpbkxpbmssXHJcblx0XHRjcmVhdGVCcm93c2VyTmF2KGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rKSxcclxuXHRcdGNyZWF0ZVVzZXJCdG4odXNlckJ1dHRvbiksXHJcblx0XHRjcmVhdGVVc2VyUGFuZWwoKVxyXG5cdCk7XHJcblxyXG5cdHJldHVybiBoZWFkZXI7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVCcm93c2VyTmF2ID0gKGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rKSA9PiB7XHJcblx0Y29uc3QgbmF2ID0gY3JlYXRlRWxlbWVudChcIm5hdlwiLCBbXCJicm93c2UtaGVhZGVyX19uYXZcIl0pO1xyXG5cdGNvbnN0IG5hdkxpbmtzID0gY3JlYXRlRWxlbWVudChcInVsXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmtzXCJdKTtcclxuXHJcblx0Y29uc3QgbGlua05hbWVzID0gW1xyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBmaWxtTGluayxcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2ZpbG0taWNvbi5zdmdcIixcclxuXHRcdH0sXHJcblx0XHR7IG5hbWU6IHNlcmllc0xpbmssIHNyYzogXCIuL3NyYy9pY29ucy9zZXJpZXMtaWNvbi5zdmdcIiB9LFxyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBteUxpc3RMaW5rLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbGlzdC1pY29uLnN2Z1wiLFxyXG5cdFx0fSxcclxuXHRcdHsgbmFtZTogc2VhcmNoTGluaywgc3JjOiBcIi4vc3JjL2ljb25zL3NlYXJjaC1pY29uLnN2Z1wiIH0sXHJcblx0XTtcclxuXHJcblx0bGlua05hbWVzLmZvckVhY2goKGxpbmspID0+IHtcclxuXHRcdGNvbnN0IGxpc3RJdGVtID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcImJyb3dzZS1oZWFkZXJfX2l0ZW1cIl0pO1xyXG5cdFx0Y29uc3QgbGlua0VsID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGlua1wiXSwgeyBocmVmOiBcIlwiIH0pO1xyXG5cdFx0Y29uc3QgaWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGluay1pY29uXCJdLCB7XHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0c3JjOiBsaW5rLnNyYyxcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCB0ZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGluay10ZXh0XCJdKTtcclxuXHJcblx0XHR0ZXh0LnRleHRDb250ZW50ID0gbGluay5uYW1lO1xyXG5cclxuXHRcdGxpbmtFbC5hcHBlbmQoaWNvbiwgdGV4dCk7XHJcblx0XHRsaXN0SXRlbS5hcHBlbmQobGlua0VsKTtcclxuXHJcblx0XHRuYXZMaW5rcy5hcHBlbmQobGlzdEl0ZW0pO1xyXG5cdH0pO1xyXG5cclxuXHRuYXYuYXBwZW5kKG5hdkxpbmtzKTtcclxuXHJcblx0cmV0dXJuIG5hdjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVzZXJCdG4gPSAodXNlckJ0bkFyaWEpID0+IHtcclxuXHRjb25zdCB1c2VyQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWJveFwiXSk7XHJcblx0Y29uc3QgdXNlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlclwiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IHVzZXJCdG5BcmlhLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHVzZXJJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3VzZXItaWNvbi5zdmdcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHR9KTtcclxuXHJcblx0dXNlckJ0bi5hcHBlbmQodXNlckljb24pO1xyXG5cdHVzZXJCb3guYXBwZW5kKHVzZXJCdG4pO1xyXG5cclxuXHR1c2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRzaG93VXNlclBhbmVsKHVzZXJCb3gpO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gdXNlckJveDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNYWluSGVyb1NlY3Rpb24gPSAobW92aWVzLCB0cmFuc2xhdGlvbnMsIHBhcmVudCkgPT4ge1xyXG5cdGNvbnN0IGJyb3dzZU1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJicm93c2UtbWFpblwiXSk7XHJcblx0Y29uc3QgYnJvd3NlTWFpblNlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19oZXJvLXNlY3Rpb25cIixcclxuXHRdKTtcclxuXHRjb25zdCBpbWFnZXNDYXJvdXNlbGwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2ltYWdlLWNhcm91c2VsbFwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGltYWdlc0luc2lkZVNsaWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2ltYWdlc1wiXSk7XHJcblx0bW92aWVzLmZvckVhY2goKHsgaWQsIHRpdGxlLCBvdmVydmlldyA9IFwiXCIsIGJhY2tkcm9wX3BhdGggfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gYmFja2Ryb3BfcGF0aDtcclxuXHRcdGNvbnN0IGltYWdlQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9faW1nLWJveFwiXSk7XHJcblx0XHRjb25zdCBpbWFnZSA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLW1haW5fX2ltZ1wiXSwge1xyXG5cdFx0XHRhbHQ6IGAke3RyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8uY2Fyb3VzZWxsSW1hZ2VzPy5hcmlhLmNhcm91c2VsbEltYWdlQWx0fSAke3RpdGxlfWAsXHJcblx0XHRcdHNyYzogaW1nU3JjXHJcblx0XHRcdFx0PyBnZXRJbWFnZVVybChpbWdTcmMsIFwib3JpZ2luYWxcIilcclxuXHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHRleHRCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX190ZXh0LWJveFwiXSk7XHJcblx0XHRjb25zdCBmaWxtVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDJcIiwgW1wiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC10aXRsZVwiXSk7XHJcblx0XHRjb25zdCBmaWxtSW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtb3ZlcnZpZXdcIl0sIHtcclxuXHRcdFx0dGFiaW5kZXg6IC0xLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZmlsbVRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblx0XHRmaWxtSW5mby50ZXh0Q29udGVudCA9IG92ZXJ2aWV3O1xyXG5cclxuXHRcdHRleHRCb3guYXBwZW5kKGZpbG1UaXRsZSwgZmlsbUluZm8sIGNyZWF0ZUFjdGlvbkJ1dHRvbnMoaWQsIHRyYW5zbGF0aW9ucykpO1xyXG5cdFx0aW1hZ2VCb3guYXBwZW5kKGltYWdlLCB0ZXh0Qm94KTtcclxuXHRcdGltYWdlc0luc2lkZVNsaWRlci5hcHBlbmQoaW1hZ2VCb3gpO1xyXG5cdFx0aW1hZ2VzQ2Fyb3VzZWxsLmFwcGVuZChpbWFnZXNJbnNpZGVTbGlkZXIpO1xyXG5cclxuXHRcdGJyb3dzZU1haW5TZWN0aW9uLmFwcGVuZChpbWFnZXNDYXJvdXNlbGwpO1xyXG5cdFx0YnJvd3NlTWFpbi5hcHBlbmQoYnJvd3NlTWFpblNlY3Rpb24pO1xyXG5cdH0pO1xyXG5cdHBhcmVudC5hcHBlbmQoYnJvd3NlTWFpbik7XHJcblxyXG5cdGltYWdlc0Nhcm91c2VsbC5hcHBlbmQoY3JlYXRlQ2Fyb3VzZWxsQ29udHJvbHMobW92aWVzLCB0cmFuc2xhdGlvbnMpKTtcclxufTtcclxuY29uc3QgY3JlYXRlQWN0aW9uQnV0dG9ucyA9IChcclxuXHRpZCxcclxuXHR7XHJcblx0XHRicm93c2VQYWdlOiB7XHJcblx0XHRcdGFjdGlvbkJ0bnM6IHsgdHJhaWxlckJ0blRleHQsIG1vcmVJbmZvQnRuVGV4dCB9LFxyXG5cdFx0fSxcclxuXHR9XHJcbikgPT4ge1xyXG5cdGNvbnN0IGFjdGlvbkJ0bnNQYW5lbCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2FjdGlvbi1idG5zXCJdKTtcclxuXHRjb25zdCBzaG93VHJhaWxlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLW1haW5fX3RyYWlsZXItYnRuXCJdLCB7XHJcblx0XHRcImRhdGEtdHJhaWxlclwiOiBpZCxcclxuXHR9KTtcclxuXHRjb25zdCBzaG93VHJhaWxlclRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtbWFpbl9fc2VlLXRyYWlsZXJcIl0pO1xyXG5cdGNvbnN0IHNlZU1vcmVCdG4gPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtbWFpbl9fc2VlLW1vcmUtYnRuXCJdLCB7XHJcblx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRocmVmOiBcIlwiLFxyXG5cdH0pO1xyXG5cclxuXHRzaG93VHJhaWxlclRleHQudGV4dENvbnRlbnQgPSB0cmFpbGVyQnRuVGV4dDtcclxuXHRzZWVNb3JlQnRuLnRleHRDb250ZW50ID0gbW9yZUluZm9CdG5UZXh0O1xyXG5cclxuXHRzaG93VHJhaWxlckJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cImJyb3dzZS1tYWluX190cmFpbGVyLXBsYXktaWNvblwiXHJcblx0eG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiXHJcblx0dmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCIjMDAwXCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIlxyXG5cdHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXHJcblx0Y2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItcGxheVwiPlxyXG5cdDxwb2x5Z29uIHBvaW50cz1cIjUgMyAxOSAxMiA1IDIxIDUgM1wiPjwvcG9seWdvbj5cclxuXHQ8L3N2Zz5gO1xyXG5cclxuXHRzaG93VHJhaWxlckJ0bi5hcHBlbmQoc2hvd1RyYWlsZXJUZXh0KTtcclxuXHJcblx0YWN0aW9uQnRuc1BhbmVsLmFwcGVuZChzaG93VHJhaWxlckJ0biwgc2VlTW9yZUJ0bik7XHJcblxyXG5cdHJldHVybiBhY3Rpb25CdG5zUGFuZWw7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDYXJvdXNlbGxDb250cm9scyA9IChcclxuXHRtb3ZpZXMsXHJcblx0e1xyXG5cdFx0YnJvd3NlUGFnZToge1xyXG5cdFx0XHRjYXJvdXNlbGxCdG5zOiB7IGFyaWEgfSxcclxuXHRcdH0sXHJcblx0fVxyXG4pID0+IHtcclxuXHRjb25zdCBjYXJvdXNlbGxDb250cm9scyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJicm93c2UtbWFpbl9fY2Fyb3VzZWxsLWNvbnRyb2xzXCIsXHJcblx0XSk7XHJcblxyXG5cdG1vdmllcy5mb3JFYWNoKChtb3ZpZSwgaW5kZXgpID0+IHtcclxuXHRcdGNvbnN0IGNhcm91c2VsbEJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLW1haW5fX2J0blwiXSwge1xyXG5cdFx0XHRcImRhdGEtaW1nXCI6IGluZGV4LFxyXG5cdFx0XHRcImFyaWEtbGFiZWxcIjogYCR7YXJpYX0gJHtpbmRleH1gLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBjYXJvdXNlbGxCdG5Qcm9ncmVzc0JhciA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFx0XCJicm93c2UtbWFpbl9fcHJvZ3Jlc3MtYmFyXCIsXHJcblx0XHRdKTtcclxuXHJcblx0XHRjYXJvdXNlbGxCdG4uYXBwZW5kKGNhcm91c2VsbEJ0blByb2dyZXNzQmFyKTtcclxuXHJcblx0XHRjYXJvdXNlbGxDb250cm9scy5hcHBlbmQoY2Fyb3VzZWxsQnRuKTtcclxuXHR9KTtcclxuXHRyZXR1cm4gY2Fyb3VzZWxsQ29udHJvbHM7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRmlsbVNsaWRlciA9IChmaWxtcywgdHJhbnNsYXRpb25zLCBpbmRleCwgdGl0bGUpID0+IHtcclxuXHRjb25zdCBwcm9wZXJGaWxtcyA9IGZpbG1zW2luZGV4XT8ucmVzdWx0cyB8fCBbXTtcclxuXHRpZiAoIXByb3BlckZpbG1zLmxlbmd0aCkge1xyXG5cdFx0Y29uc29sZS5lcnJvcihgTm8gZmlsbXMgZm91bmQgZm9yIGluZGV4ICR7aW5kZXh9YCk7XHJcblx0XHRzaG93RXJyb3JQb3B1cChgTm8gZmlsbXMgZm91bmQgZm9yIGluZGV4ICR7aW5kZXh9YCwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgYnJvd3NlU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIFtcImJyb3dzZS1zZWN0aW9uXCJdKTtcclxuXHRjb25zdCBzZWN0aW9uVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDNcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3RpdGxlXCJdKTtcclxuXHRjb25zdCBzZWN0aW9uU2xpZGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyXCJdLCB7XHJcblx0XHRcImRhdGEtaW5kZXhcIjogMCxcclxuXHR9KTtcclxuXHRjb25zdCBzZWN0aW9uSW1hZ2VzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWltYWdlc1wiXSk7XHJcblxyXG5cdGNvbnN0IHNob3dQcmV2U2xpZGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuXCIsIFwiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1wcmV2LWJ0blwiXSxcclxuXHRcdHtcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd1ByZXZTbGlkZUJ0bixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dOZXh0U2xpZGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuXCIsIFwiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1uZXh0LWJ0blwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd05leHRTbGlkZUJ0biB9XHJcblx0KTtcclxuXHRjb25zdCBzaG93UHJldlNsaWRlSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG4taWNvblwiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tbGVmdC5zdmdcIixcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBzaG93TmV4dFNsaWRlSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG4taWNvblwiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tcmlnaHQuc3ZnXCIsXHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblxyXG5cdHNlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRzaG93TmV4dFNsaWRlQnRuLmFwcGVuZChzaG93TmV4dFNsaWRlSWNvbik7XHJcblx0c2hvd1ByZXZTbGlkZUJ0bi5hcHBlbmQoc2hvd1ByZXZTbGlkZUljb24pO1xyXG5cclxuXHRjcmVhdGVGaWxtUG9zdGVycyhwcm9wZXJGaWxtcywgdHJhbnNsYXRpb25zLCBzZWN0aW9uSW1hZ2VzKTtcclxuXHJcblx0c2VjdGlvblNsaWRlci5hcHBlbmQoc2VjdGlvbkltYWdlcywgc2hvd1ByZXZTbGlkZUJ0biwgc2hvd05leHRTbGlkZUJ0bik7XHJcblx0YnJvd3NlU2VjdGlvbi5hcHBlbmQoc2VjdGlvblRpdGxlLCBzZWN0aW9uU2xpZGVyKTtcclxuXHJcblx0cmV0dXJuIGJyb3dzZVNlY3Rpb247XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVGaWxtUG9zdGVycyA9IChwcm9wZXJGaWxtcywgdHJhbnNsYXRpb25zLCBwYXJlbnQpID0+IHtcclxuXHRwcm9wZXJGaWxtcy5mb3JFYWNoKCh7IGlkLCB0aXRsZSwgcG9zdGVyX3BhdGggfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gcG9zdGVyX3BhdGg7XHJcblx0XHRjb25zdCBzZWN0aW9uQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJveFwiXSk7XHJcblxyXG5cdFx0Y29uc3Qgc2VjdGlvbkxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImFcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWctbGlua1wiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGhyZWY6IFwiYnJvd3NlLmh0bWxcIixcclxuXHRcdFx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5zaG93TW9yZUluZm9BYm91dEZpbG0sXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uRmlsbVBvc3RlciA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItaW1nXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YWx0OiBgJHt0cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LmNhcm91c2VsbEltYWdlcz8uYXJpYT8uY2Fyb3VzZWxsSW1hZ2VBbHR9ICR7dGl0bGV9YCxcclxuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHR3aWR0aDogXCJcIixcclxuXHRcdFx0XHRoZWlnaHQ6IFwiXCIsXHJcblx0XHRcdFx0c3JjOiBpbWdTcmNcclxuXHRcdFx0XHRcdD8gZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpXHJcblx0XHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0QnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJidXR0b25cIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWJ0blwiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LmFkZFRvTGlzdEJ0bixcclxuXHRcdFx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0SWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19hZGQtdG8tbGlzdC1pY29uXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvblRvb2x0aXAgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2Utc2VjdGlvbl9fdG9vbHRpcFwiXSk7XHJcblxyXG5cdFx0c2VjdGlvblRvb2x0aXAudGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvbnMuYnJvd3NlU2VjdGlvbi5pbmZvO1xyXG5cclxuXHRcdHNlY3Rpb25BZGRUb0xpc3RCdG4uYXBwZW5kKHNlY3Rpb25BZGRUb0xpc3RJY29uKTtcclxuXHJcblx0XHRzZWN0aW9uTGluay5hcHBlbmQoc2VjdGlvbkZpbG1Qb3N0ZXIpO1xyXG5cclxuXHRcdHNlY3Rpb25Cb3guYXBwZW5kKHNlY3Rpb25MaW5rLCBzZWN0aW9uQWRkVG9MaXN0QnRuLCBzZWN0aW9uVG9vbHRpcCk7XHJcblxyXG5cdFx0cGFyZW50LmFwcGVuZChzZWN0aW9uQm94KTtcclxuXHR9KTtcclxufTtcclxuY29uc3QgY3JlYXRlT3ZlcmxheSA9ICgpID0+IHtcclxuXHRjb25zdCBvdmVybGF5ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJvdmVybGF5XCJdKTtcclxuXHJcblx0cmV0dXJuIG92ZXJsYXk7XHJcbn07XHJcbmNvbnN0IHNob3dVc2VyUGFuZWwgPSAodXNlckJveCkgPT4ge1xyXG5cdGNvbnN0IHBhbmVsID0gdXNlckJveC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcblx0cGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcInZpc2libGVcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xvc2VBbGxOb3RDbGlja2VkID0gKGUpID0+IHtcclxuXHRjb25zdCB1c2VyUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWxcIik7XHJcblx0Y29uc3QgdXNlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnJvd3NlLWhlYWRlcl9fdXNlclwiKTtcclxuXHJcblx0aWYgKFxyXG5cdFx0dXNlclBhbmVsLmNsYXNzTGlzdC5jb250YWlucyhcInZpc2libGVcIikgJiZcclxuXHRcdGUudGFyZ2V0ICE9PSB1c2VyUGFuZWwgJiZcclxuXHRcdGUudGFyZ2V0ICE9PSB1c2VyQnRuICYmXHJcblx0XHQhdXNlclBhbmVsLmNvbnRhaW5zKGUudGFyZ2V0KVxyXG5cdClcclxuXHRcdHVzZXJQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGb3VyQ2F0ZWdvcmllcyA9ICh7XHJcblx0YnJvd3NlUGFnZToge1xyXG5cdFx0Y2F0ZWdvcmllczogeyBhbmltYXRpb25zLCBob3Jyb3IsIGNvbWVkeSwgZmFudGFzeSB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBjYXRlZ29yaWVzU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIFtcImNhdGVnb3JpZXNcIl0pO1xyXG5cdGNvbnN0IGNhdGVnb3JpZXNCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImNhdGVnb3JpZXNfX2JveFwiXSk7XHJcblxyXG5cdGNvbnN0IGNhdGVnb3J5QW5pbWF0ZWRDYXJkID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkXCIsXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkLS1hbmltYXRpb25zXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgY2F0ZWdvcnlGYW50YXN5Q2FyZCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZFwiLFxyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZC0tZmFudGFzeVwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGNhdGVnb3J5SG9ycm9yQ2FyZCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZFwiLFxyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZC0taG9ycm9yc1wiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGNhdGVnb3J5Q29tZWR5Q2FyZCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZFwiLFxyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZC0tY29tZWR5XCIsXHJcblx0XSk7XHJcblxyXG5cdGNvbnN0IGNhdGVnb3J5QW5pbWF0ZWRMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1wiY2F0ZWdvcmllc19fYm94LWxpbmtcIiwgXCJjYXRlZ29yaWVzX19ib3gtbGluay0tYW5pbWF0aW9uc1wiXSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHRjb25zdCBjYXRlZ29yeUZhbnRhc3lMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1wiY2F0ZWdvcmllc19fYm94LWxpbmtcIiwgXCJjYXRlZ29yaWVzX19ib3gtbGluay0tZmFudGFzeVwiXSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHRjb25zdCBjYXRlZ29yeUhvcnJvckxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXCJjYXRlZ29yaWVzX19ib3gtbGlua1wiLCBcImNhdGVnb3JpZXNfX2JveC1saW5rLS1ob3Jyb3JzXCJdLFxyXG5cdFx0eyBocmVmOiBcIlwiIH1cclxuXHQpO1xyXG5cdGNvbnN0IGNhdGVnb3J5Q29tZWR5TGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImFcIixcclxuXHRcdFtcImNhdGVnb3JpZXNfX2JveC1saW5rXCIsIFwiY2F0ZWdvcmllc19fYm94LWxpbmstLWNvbWVkeVwiXSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHJcblx0Y2F0ZWdvcnlBbmltYXRlZExpbmsudGV4dENvbnRlbnQgPSBhbmltYXRpb25zO1xyXG5cdGNhdGVnb3J5RmFudGFzeUxpbmsudGV4dENvbnRlbnQgPSBmYW50YXN5O1xyXG5cdGNhdGVnb3J5SG9ycm9yTGluay50ZXh0Q29udGVudCA9IGhvcnJvcjtcclxuXHRjYXRlZ29yeUNvbWVkeUxpbmsudGV4dENvbnRlbnQgPSBjb21lZHk7XHJcblxyXG5cdGNhdGVnb3J5QW5pbWF0ZWRDYXJkLmFwcGVuZChjYXRlZ29yeUFuaW1hdGVkTGluayk7XHJcblx0Y2F0ZWdvcnlGYW50YXN5Q2FyZC5hcHBlbmQoY2F0ZWdvcnlGYW50YXN5TGluayk7XHJcblx0Y2F0ZWdvcnlIb3Jyb3JDYXJkLmFwcGVuZChjYXRlZ29yeUhvcnJvckxpbmspO1xyXG5cdGNhdGVnb3J5Q29tZWR5Q2FyZC5hcHBlbmQoY2F0ZWdvcnlDb21lZHlMaW5rKTtcclxuXHJcblx0Y2F0ZWdvcmllc0JveC5hcHBlbmQoXHJcblx0XHRjYXRlZ29yeUFuaW1hdGVkQ2FyZCxcclxuXHRcdGNhdGVnb3J5RmFudGFzeUNhcmQsXHJcblx0XHRjYXRlZ29yeUhvcnJvckNhcmQsXHJcblx0XHRjYXRlZ29yeUNvbWVkeUNhcmRcclxuXHQpO1xyXG5cclxuXHRjYXRlZ29yaWVzU2VjdGlvbi5hcHBlbmQoY2F0ZWdvcmllc0JveCk7XHJcblxyXG5cdHJldHVybiBjYXRlZ29yaWVzU2VjdGlvbjtcclxufTtcclxuIl19
