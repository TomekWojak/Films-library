import{verifyCredentials}from"./firebase-auth.min.js";import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_POPUP_TIME=2500;export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("Invalid user data. Resetting storage.","#dc4a34"),new Error("Invalid data structure");return t}catch{return localStorage.removeItem("userData"),showErrorPopup("Error accessing user data. Please try again.","#dc4a34"),{}}};const getCurrentDate=()=>(new Date).getFullYear();export const createFooter=({header:{alt:{logo:e}}})=>{const t=getCurrentDate(),r=createElement("footer",["browse-footer"]),a=createElement("span",["browse-footer__logo"]),n=createElement("img",["browse-footer__img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),o=createElement("p",["browse-footer__info"]);return a.textContent="Stream",a.prepend(n),o.textContent=`Â©${t} Stream corporation | All rights reserved.`,r.append(a,o),r};export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},a,n,o,i)=>{const s=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),s.append(l);const m=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),p=createElement("span",["login-header__lang-platform-lang"]),_=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),g=createElement("ul",["login-header__lang-list"]);for(let e=0;e<a;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(n)[e],a=Object.values(n)[e];t.dataset.lang=r,t.textContent=a,t.style.animationDelay=100*e+"ms",g.append(t)}return p.textContent=n[o],m.addEventListener("click",e=>{i.call(m,e,p)}),m.append(p,_,g),s.append(m),s};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:a},placeholder:{username:n,password:o}}})=>{const i=createElement("main",["main"]),s=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),m=createElement("p",["main__text"]),p=createElement("form",["main__form"]),_=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:n,value:"handsomeUser404@test.com"}),g=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o,value:"123456789"}),h=createElement("button",["main__form-button"],{type:"submit"}),u=createElement("span",["main__form-button-text"]),b=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,m.textContent=r,u.textContent=a,l.append(c,d),h.append(u),p.append(_,g,h,b),s.append(l,m,p),i.append(s),h.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t),handleLoginValidation(e,_,g,translations.main.text.errorRequired,translations.main.text.errorInvalid,b).then(e=>{e||(setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html")})}),i};const handleLoginValidation=async(e,t,r,a,n,o)=>{if(e.preventDefault(),""===t.value.trim()||""===r.value.trim())return o.classList.add("visible"),o.textContent=a,a;const i=t.value.trim(),s=r.value.trim();e.target.disabled=!0,e.target.append(showSmallLoader()),o.classList.remove("visible");const l=await verifyCredentials(i,s);return hideSmallLoader(),e.target.disabled=!1,l.success?null:(o.classList.add("visible"),o.textContent=n,n)};export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:a,userBtnCustomize:n,removeUserInfo:o}},errorPopup:{text:{maxProfiles:i,emptyField:s}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),m=createElement("div",["wrapper"]),p=createElement("h1",["main__title","main-profiles__title"]),_=createElement("div",["main-profiles__box"]);if(p.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)_.append(createProfile(a,n,n,s,o,e,c[e]));_.append(createProfileAddBtn(r,t,a,_,n,n,i,s,o)),m.append(p,_),l.append(m),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,a,n,o=null,i=null)=>{const s=getData(),l=s?.userProfiles||{};if(null===s)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,m;const p=["#dc4a34","#062E63","#FAC044"];if(o){d=o,m=i.name;c=p[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,m=`Handsome User ${e}`,c=p[e-1]}const _=createElement("div",["main-profiles__profile"]),g=createElement("div",["main-profiles__avatar"]),h=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),u=createElement("div",["main-profiles__user-info"]),b=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:m}),f=createElement("span",["name-border"]),w=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),E=createElement("button",["main-profiles__remove-user"],{"aria-label":n}),v=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(h.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',h.style.backgroundColor=c,g.append(h),w.append(x),E.append(v),u.append(b,f,w,E),_.append(g,u),!o){const e={...l,[d]:{name:m}};setUserPreference("userProfiles",e,s)}return w.addEventListener("click",e=>{editUsername(e,u,r,a)}),E.addEventListener("click",e=>{removeUser(e)}),b.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,a)}),h.addEventListener("click",e=>setCurrentProfile(e)),_.classList.add("visible"),_},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,a,n,o,i,s,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),m=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),p=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),_=createElement("span",["main-profiles__name"]);return _.textContent=t,m.append(p),d.append(m),c.append(d,_),m.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(i,"#dc4a34");const d=createProfile(r,n,o,s,l);d&&a.insertBefore(d,c)}),c},editUsername=(e,t,r,a)=>{resetStateOfEditing(e);const n=e.target,o=n.closest(".main-profiles__profile").querySelector(".main-profiles__name"),i=createSaveBtn(r);n.classList.add("hidden"),i.classList.remove("hidden"),t.append(i),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),i.addEventListener("click",e=>{saveUsername(e,a)})},saveUsername=(e,t)=>{const r=getData(),a=r?.userProfiles||[],n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn").dataset.id,i=n.querySelector(".main-profiles__name"),s=document.querySelectorAll(".main-profiles__edit-name");if(s.forEach(e=>e.removeAttribute("disabled")),""===i.value.trim())return s.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...a,[o]:{...a[o],name:i.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),a=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),a.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,a=document.querySelector(".container"),n=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),n.append(o),a.append(n),setTimeout(()=>{n.classList.add("hidden")},2e3),setTimeout(()=>{n.remove(),popupVisible=!1},2500)};export const createUserPanel=()=>{const e=getData();e||showErrorPopup("An unexpected error occurred","#dc4a34");const t=e?.currentProfile,r=e?.userProfiles[t]?.name,a=createElement("div",["browse-header__user-panel"]),n=createElement("p",["browse-header__user-info"]),o=createElement("span",["browse-header__username"]),i=createElement("hr",["browse-header__hr"]),s=createElement("ul",["browse-header__user-panel-list"]),l=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/settings-icon.svg",loading:"lazy"}),c=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/swap-icon.svg",loading:"lazy"}),d=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/logout-icon.svg",loading:"lazy"}),m=createElement("li",["browse-header__user-panel-option"]),p=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--settings"],{href:""}),_=createElement("li",["browse-header__user-panel-option"]),g=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--logout"],{href:""}),h=createElement("li",["browse-header__user-panel-option"]),u=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--swap-profile"],{href:"profiles.html"});return o.textContent=r,n.textContent=e?.translations?.browsePage?.userPanel?.greeting,n.append(o),u.textContent=e?.translations?.browsePage?.userPanel?.profiles,p.textContent=e?.translations?.browsePage?.userPanel?.settings,g.textContent=e?.translations?.browsePage?.userPanel?.login,u.append(c),p.append(l),g.append(d),h.append(u),m.append(p),_.append(g),s.append(h,m,_),a.append(n,i,s),a.addEventListener("click",e=>{e.target.matches(".browse-header__user-panel-link--logout")&&handleLogOut(e)}),a};const handleLogOut=e=>{e.preventDefault();const t=getData(),r=document.querySelector(".container");t&&(r.append(showBigLoader()),r.append(createOverlay()),document.body.style.overflowY="hidden",setTimeout(()=>{hideBigLoader(),setUserPreference("loggedIn",!1),setUserPreference("currentProfile",null),window.location.href="index.html"},2500))},removeUser=e=>{const t=getData(),r=t?.userProfiles,a=document.querySelectorAll(".main-profiles__edit-name"),n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn");a.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),n.classList.add("hidden"),setTimeout(()=>{n.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:a,myListLink:n,searchLink:o},aria:{userButton:i}}})=>{const s=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:"browse.html"}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),s.append(l,createBrowserNav(r,a,n,o),createUserBtn(i),createUserPanel()),s};const createBrowserNav=(e,t,r,a)=>{const n=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:a,src:"./src/icons/search-icon.svg"}].forEach((e,t)=>{const r=createElement("li",["browse-header__item"]),a=createElement("a",["browse-header__link"],{href:["movies.html","series.html","my-list.html","search.html"][t]}),n=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),i=createElement("span",["browse-header__link-text"]);i.textContent=e.name,a.append(n,i),r.append(a),o.append(r)}),n.append(o),n},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),a=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(a),t.append(r),r.addEventListener("click",()=>{showUserPanel(t)}),t};export const createMainHeroSection=(e,t,r)=>{const a=createElement("main",["browse-main"]),n=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),i=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:r,name:s,overview:l="",backdrop_path:c})=>{const d=c,m=createElement("div",["browse-main__img-box"]),p=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${r||s}`,src:d?getImageUrl(d,"original"):"./dist/img/img-placeholder.svg"}),_=createElement("div",["browse-main__text-box"]),g=createElement("h2",["browse-main__carousell-title"]),h=createElement("p",["browse-main__carousell-overview"],{tabindex:-1});g.textContent=r,h.textContent=l,_.append(g,h,createActionButtons(e,t)),m.append(p,_),i.append(m),o.append(i),n.append(o),a.append(n)}),r.append(a),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const a=createElement("div",["browse-main__action-btns"]),n=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e}),o=createElement("span",["browse-main__see-trailer"]),i=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:`explore.html?id=${e}&type=movie`});return o.textContent=t,i.textContent=r,n.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',n.append(o),a.append(n,i),a},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,a)=>{const n=createElement("button",["browse-main__btn"],{"data-img":a,"aria-label":`${t} ${a}`}),o=createElement("span",["browse-main__progress-bar"]);n.append(o),r.append(n)}),r};export const createFilmSlider=(e,t,r,a,n)=>{const o=e[r]?.results||[];if(!o.length)return console.error(`No films found for index ${r}`),void showErrorPopup(`No films found for index ${r}`,"#dc4a34");const i=createElement("section",["browse-section"]),s=createElement("h3",["browse-section__title"]),l=createElement("div",["browse-section__slider"],{"data-index":0}),c=createElement("div",["browse-section__slider-images"]),d=createElement("button",["browse-section__slider-btn","browse-section__slider-prev-btn"],{"aria-label":t?.browseSection?.aria?.showPrevSlideBtn}),m=createElement("button",["browse-section__slider-btn","browse-section__slider-next-btn"],{"aria-label":t?.browseSection?.aria?.showNextSlideBtn}),p=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-left.svg",width:"24",height:"24",loading:"lazy",alt:""}),_=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-right.svg",width:"24",height:"24",loading:"lazy",alt:""});return s.textContent=a,m.append(_),d.append(p),createFilmPosters(o,t,c,n),l.append(c,d,m),i.append(s,l),i};const createFilmPosters=(e,t,r,a)=>{e.forEach(({id:e,title:n,name:o,poster_path:i,media_type:s})=>{const l=i,c=createElement("div",["browse-section__slider-box"]),d=createElement("a",["browse-section__slider-img-link"],{href:`explore.html?id=${e}&type=${s||a}`,"aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),m=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${n||o}`,loading:"lazy",width:"",height:"",src:l?getImageUrl(l,"original"):"./dist/img/img-placeholder.svg"}),p=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),_=createElement("img",["browse-section__add-to-list-icon"],{src:"./src/icons/add-profile.svg",width:"24",height:"24",loading:"lazy",alt:""}),g=createElement("span",["browse-section__tooltip"]);g.textContent=t?.browseSection?.info,p.append(_),d.append(m),c.append(d,p,g),r.append(c)})},createOverlay=()=>createElement("div",["overlay"]),showUserPanel=e=>{e.nextElementSibling.classList.toggle("visible")};export const closeAllNotClicked=e=>{const t=document.querySelector(".browse-header__user-panel"),r=document.querySelector(".browse-header__user");t.classList.contains("visible")&&e.target!==t&&e.target!==r&&!t.contains(e.target)&&t.classList.remove("visible")};export const createFourCategories=({browsePage:{categories:{animations:e,horror:t,comedy:r,fantasy:a}}})=>{const n=createElement("section",["categories"]),o=createElement("div",["categories__box"]),i=createElement("div",["categories__box-card","categories__box-card--animations"]),s=createElement("div",["categories__box-card","categories__box-card--fantasy"]),l=createElement("div",["categories__box-card","categories__box-card--horrors"]),c=createElement("div",["categories__box-card","categories__box-card--comedy"]),d=createElement("a",["categories__box-link","categories__box-link--animations"],{href:"categories.html?category=animated"}),m=createElement("a",["categories__box-link","categories__box-link--fantasy"],{href:"categories.html?category=fantasy"}),p=createElement("a",["categories__box-link","categories__box-link--horrors"],{href:"categories.html?category=horror"}),_=createElement("a",["categories__box-link","categories__box-link--comedy"],{href:"categories.html?category=comedy"});return d.textContent=e,m.textContent=a,p.textContent=t,_.textContent=r,i.append(d),s.append(m),l.append(p),c.append(_),o.append(i,s,l,c),n.append(o),n};export const createSpecifiedSectionPoster=(e,t)=>{const r=createElement("main",["specified-category__main"]),a=createElement("section",["specified-category"]),n=createElement("div",["specified-category__container"]);return e.forEach((e,r)=>{e&&e.forEach(({id:e,title:a,name:o,poster_path:i})=>{const s=0===r?"movie":"tv",l=i,c=createElement("div",["specified-category__item"]),d=createElement("a",["specified-category__link"],{href:`explore.html?id=${e}&type=${s}`,"aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),m=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${a||o}`,loading:"lazy",src:l?getImageUrl(l,"original"):"./dist/img/img-placeholder.svg"}),p=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),_=createElement("img",["browse-section__add-to-list-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/add-profile.svg"}),g=createElement("span",["browse-section__tooltip"]);g.textContent=t?.browseSection?.info,p.append(_),d.append(m),c.append(d,p,g),n.append(c)})}),a.append(n),r.append(a),r};export const createExploreHeroSection=({title:e,name:t,id:r,backdrop_path:a,overview:n},o)=>{const i=createElement("div",["explore__film-poster"]),s=createElement("div",["explore__film-content"]),l=createElement("h1",["explore__film-title","animated"]),c=createElement("p",["explore__film-info","animated"]),d=createElement("button",["explore__film-show-trailer-btn","animated"]),m=a,p=createElement("button",["explore__film-add-to-list-btn","animated"],{"aria-label":o?.browseSection?.aria?.addToListBtn,"data-movie":r}),_=createElement("button",["explore__back-btn","animated"],{"aria-label":o.explore.backButton});return l.textContent=e||t,c.textContent=n,d.textContent=o?.browsePage?.actionBtns?.trailerBtnText,p.innerHTML='<img class="explore__film-add-icon" src="./src/icons/add-profile.svg" width="24" height="24" alt="" loading="lazy">',_.innerHTML='<img class="explore__back-btn-icon" src="./src/icons/chevron-left.svg" width="24" height="24" alt="" loading="lazy">',i.style.backgroundImage=`url('${m?getImageUrl(m,"original"):"./dist/img/img-placeholder.svg"}')`,_.addEventListener("click",()=>{history.back()}),s.append(l,c,d,p,_),i.append(s),i};export const createSearchEngine=e=>{const t=createElement("div",["search-engine__box"]),r=createElement("input",["search-engine__input"],{type:"text",placeholder:e?.searchEngine?.placeholder}),a=createElement("img",["search-engine__icon"],{src:"./src/icons/search-icon.svg",width:"24",height:"24",loading:"lazy",alt:""});return t.append(r,a),t};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJ2ZXJpZnlDcmVkZW50aWFscyIsImNyZWF0ZUVsZW1lbnQiLCJnZXRJbWFnZVVybCIsInNldFVzZXJQcmVmZXJlbmNlIiwiSElERV9QT1BVUF9USU1FIiwiZ2V0RGF0YSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsInNob3dFcnJvclBvcHVwIiwiRXJyb3IiLCJyZW1vdmVJdGVtIiwiZ2V0Q3VycmVudERhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjcmVhdGVGb290ZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiY3VyckRhdGUiLCJmb290ZXIiLCJmb290ZXJMb2dvIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwiaW5mbyIsInRleHRDb250ZW50IiwicHJlcGVuZCIsImFwcGVuZCIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb1RleHQiLCJsYW5nU2VsZWN0IiwibGFuZ1BsYXRmb3JtTGFuZyIsImxhbmdBcnJvdyIsImxhbmdMaXN0IiwiaSIsImxhbmdDaG9pY2UiLCJ0YWJpbmRleCIsIk9iamVjdCIsImtleXMiLCJ0ZXh0IiwidmFsdWVzIiwiZGF0YXNldCIsImxhbmciLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjYWxsIiwiY3JlYXRlTG9naW5QYWdlIiwibWFpbiIsInRpdGxlIiwic3VidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbiIsInBsYWNlaG9sZGVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm1haW5Db250ZW50Iiwid3JhcHBlciIsImxvZ2luVGl0bGUiLCJsb2dpblRpdGxlVG9wIiwibG9naW5UaXRsZUJvdHRvbSIsImxvZ2luVGV4dCIsImZvcm0iLCJ1c2VybmFtZUlucHV0IiwidHlwZSIsInZhbHVlIiwicGFzc3dvcmRJbnB1dCIsInN1Ym1pdEJ0biIsImJ1dHRvblRleHQiLCJlcnJvclR4dCIsInVzZXJEYXRhIiwiY2hvb3NlbkxhbmciLCJwcmVmZXJyZWRMYW5ndWFnZSIsImhhbmRsZUxvZ2luVmFsaWRhdGlvbiIsInRyYW5zbGF0aW9ucyIsImVycm9yUmVxdWlyZWQiLCJlcnJvckludmFsaWQiLCJ0aGVuIiwicmVzIiwid2luZG93IiwibG9jYXRpb24iLCJhc3luYyIsInJlcXVpcmVFcnJvciIsImludmFsaWRFcnJvciIsInByZXZlbnREZWZhdWx0IiwidHJpbSIsImNsYXNzTGlzdCIsImFkZCIsImVtYWlsVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJzaG93U21hbGxMb2FkZXIiLCJyZW1vdmUiLCJyZXN1bHQiLCJoaWRlU21hbGxMb2FkZXIiLCJzdWNjZXNzIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInNldFRpbWVvdXQiLCJwcm9maWxlc1BhZ2VNYWluIiwicHJvZmlsZXNUaXRsZSIsInByb2ZpbGVzQm94IiwibGVuZ3RoIiwia2V5IiwiY3JlYXRlUHJvZmlsZSIsImNyZWF0ZVByb2ZpbGVBZGRCdG4iLCJhcmlhSW5mbyIsInVzZXJCdG5JbmZvIiwic2F2ZUJ0bkFyaWEiLCJlbXB0eUZpZWxkRXJyb3IiLCJyZW1vdmVBcmlhIiwiZXhpc3RpbmdQcm9maWxlSWQiLCJleGlzdGluZ1Byb2ZpbGVOYW1lIiwiZXhpc3RpbmdQcm9maWxlcyIsInJlbG9hZCIsImNvbG9yIiwicHJvZmlsZUlkIiwicHJvZmlsZU5hbWUiLCJjb2xvcnMiLCJuYW1lIiwicGFyc2VJbnQiLCJzcGxpdCIsInBvcCIsIm5leHROdW1iZXIiLCJ1c2VyUHJvZmlsZSIsInVzZXJBdmF0YXJCb3giLCJ1c2VyUHJvZmlsZUluZm9Cb3giLCJ1c2VyUHJvZmlsZUluZm8iLCJyZWFkb25seSIsIm5hbWVCb3JkZXIiLCJlZGl0VXNlckluZm9CdG4iLCJyZW1vdmVVc2VyQnRuIiwicmVtb3ZlVXNlckljb24iLCJsb2FkaW5nIiwiZWRpdFVzZXJJbmZvSWNvbiIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZWRQcm9maWxlcyIsImVkaXRVc2VybmFtZSIsInJlbW92ZVVzZXIiLCJzYXZlVXNlcm5hbWUiLCJzZXRDdXJyZW50UHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiaWQiLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjcmVhdGVVc2VyUGFuZWwiLCJjdXJyZW50UHJvZmlsZSIsImN1cnJlbnRQcm9maWxlTmFtZSIsInVzZXJQYW5lbCIsInVzZXJJbmZvIiwiZGl2aWRlciIsInVzZXJQYW5lbExpc3QiLCJzZXR0aW5nc0ljb24iLCJzd2FwUHJvZmlsZUljb24iLCJsb2dvdXRJY29uIiwidXNlclBhbmVsU2V0dGluZ3MiLCJ1c2VyUGFuZWxTZXR0aW5nc0xpbmsiLCJ1c2VyUGFuZWxMb2dvdXQiLCJ1c2VyUGFuZWxMb2dvdXRMaW5rIiwidXNlclBhbmVsU3dhcFByb2ZpbGUiLCJ1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsiLCJicm93c2VQYWdlIiwiZ3JlZXRpbmciLCJzZXR0aW5ncyIsImxvZ2luIiwibWF0Y2hlcyIsImhhbmRsZUxvZ091dCIsImNyZWF0ZU92ZXJsYXkiLCJib2R5Iiwib3ZlcmZsb3dZIiwiY2xvc2VzdFByb2ZpbGVCdG4iLCJjcmVhdGVCcm93c2VQYWdlIiwibmFtZXMiLCJmaWxtTGluayIsInNlcmllc0xpbmsiLCJteUxpc3RMaW5rIiwic2VhcmNoTGluayIsInVzZXJCdXR0b24iLCJsb2dvTWFpbkxpbmsiLCJsb2dvTWFpbkltZyIsIm1haW5UaXRsZSIsImNyZWF0ZUJyb3dzZXJOYXYiLCJjcmVhdGVVc2VyQnRuIiwibmF2IiwibmF2TGlua3MiLCJsaW5rIiwiaW5kZXgiLCJsaXN0SXRlbSIsImxpbmtFbCIsImljb24iLCJ1c2VyQm94IiwidXNlckJ0biIsInVzZXJJY29uIiwic2hvd1VzZXJQYW5lbCIsImNyZWF0ZU1haW5IZXJvU2VjdGlvbiIsIm1vdmllcyIsImJyb3dzZU1haW4iLCJicm93c2VNYWluU2VjdGlvbiIsImltYWdlc0Nhcm91c2VsbCIsImltYWdlc0luc2lkZVNsaWRlciIsIm92ZXJ2aWV3IiwiYmFja2Ryb3BfcGF0aCIsImltZ1NyYyIsImltYWdlQm94IiwiaW1hZ2UiLCJjYXJvdXNlbGxJbWFnZXMiLCJjYXJvdXNlbGxJbWFnZUFsdCIsInRleHRCb3giLCJmaWxtVGl0bGUiLCJmaWxtSW5mbyIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJjcmVhdGVDYXJvdXNlbGxDb250cm9scyIsImFjdGlvbkJ0bnMiLCJ0cmFpbGVyQnRuVGV4dCIsIm1vcmVJbmZvQnRuVGV4dCIsImFjdGlvbkJ0bnNQYW5lbCIsInNob3dUcmFpbGVyQnRuIiwic2hvd1RyYWlsZXJUZXh0Iiwic2VlTW9yZUJ0biIsImNhcm91c2VsbEJ0bnMiLCJjYXJvdXNlbGxDb250cm9scyIsIm1vdmllIiwiY2Fyb3VzZWxsQnRuIiwiY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIiLCJjcmVhdGVGaWxtU2xpZGVyIiwiZmlsbXMiLCJwcm9wZXJGaWxtcyIsInJlc3VsdHMiLCJjb25zb2xlIiwiZXJyb3IiLCJicm93c2VTZWN0aW9uIiwic2VjdGlvblRpdGxlIiwic2VjdGlvblNsaWRlciIsInNlY3Rpb25JbWFnZXMiLCJzaG93UHJldlNsaWRlQnRuIiwic2hvd05leHRTbGlkZUJ0biIsInNob3dQcmV2U2xpZGVJY29uIiwic2hvd05leHRTbGlkZUljb24iLCJjcmVhdGVGaWxtUG9zdGVycyIsInBvc3Rlcl9wYXRoIiwibWVkaWFfdHlwZSIsInNlY3Rpb25Cb3giLCJzZWN0aW9uTGluayIsInNob3dNb3JlSW5mb0Fib3V0RmlsbSIsInNlY3Rpb25GaWxtUG9zdGVyIiwic2VjdGlvbkFkZFRvTGlzdEJ0biIsImFkZFRvTGlzdEJ0biIsInNlY3Rpb25BZGRUb0xpc3RJY29uIiwic2VjdGlvblRvb2x0aXAiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0b2dnbGUiLCJjbG9zZUFsbE5vdENsaWNrZWQiLCJjb250YWlucyIsImNyZWF0ZUZvdXJDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImFuaW1hdGlvbnMiLCJob3Jyb3IiLCJjb21lZHkiLCJmYW50YXN5IiwiY2F0ZWdvcmllc1NlY3Rpb24iLCJjYXRlZ29yaWVzQm94IiwiY2F0ZWdvcnlBbmltYXRlZENhcmQiLCJjYXRlZ29yeUZhbnRhc3lDYXJkIiwiY2F0ZWdvcnlIb3Jyb3JDYXJkIiwiY2F0ZWdvcnlDb21lZHlDYXJkIiwiY2F0ZWdvcnlBbmltYXRlZExpbmsiLCJjYXRlZ29yeUZhbnRhc3lMaW5rIiwiY2F0ZWdvcnlIb3Jyb3JMaW5rIiwiY2F0ZWdvcnlDb21lZHlMaW5rIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsImZpbG1zQXJyIiwic2VjdGlvbiIsInNlY3Rpb25Db250YWluZXIiLCJhcnIiLCJzZWN0aW9uSXRlbSIsInNlY3Rpb25Qb3N0ZXIiLCJjcmVhdGVFeHBsb3JlSGVyb1NlY3Rpb24iLCJtYWluQm94IiwiY29udGVudEJveCIsInRyYWlsZXJCdG4iLCJiYWNrQnRuIiwiZXhwbG9yZSIsImJhY2tCdXR0b24iLCJiYWNrZ3JvdW5kSW1hZ2UiLCJoaXN0b3J5IiwiYmFjayIsImNyZWF0ZVNlYXJjaEVuZ2luZSIsInNlYXJjaEVuZ2luZUJveCIsInNlYXJjaEVuZ2luZSIsInNlYXJjaEVuZ2luZUljb24iXSwic291cmNlcyI6WyJjb21wb25lbnRzLmpzIl0sIm1hcHBpbmdzIjoiT0FBU0Esc0JBQXlCLGdDQUN6QkMsY0FBZUMsZ0JBQW1CLDBCQUNsQ0Msc0JBQXlCLGdDQUNsQyxNQUFNQyxnQkFBa0IsWUFFakIsTUFBTUMsUUFBVSxLQUN0QixJQUNDLE1BQU1DLEVBQU9DLGFBQWFDLFFBQVEsWUFDbEMsSUFBS0YsRUFBTSxPQUFPLEtBQ2xCLE1BQU1HLEVBQWFDLEtBQUtDLE1BQU1MLEdBQzlCLEdBQTBCLGlCQUFmRyxHQUEwQyxPQUFmQSxFQUVyQyxNQURBRyxlQUFlLHdDQUF5QyxXQUNsRCxJQUFJQyxNQUFNLDBCQUVqQixPQUFPSixDQUNSLENBQUUsTUFHRCxPQUZBRixhQUFhTyxXQUFXLFlBQ3hCRixlQUFlLCtDQUFnRCxXQUN4RCxDQUFDLENBQ1Qs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VUFHRCxNQUFNUyxtQkFBc0J6USxJQUNsQyxNQUFNMFEsRUFBa0JsVyxjQUFjLE1BQU8sQ0FBQyx1QkFDeENtVyxFQUFlblcsY0FBYyxRQUFTLENBQUMsd0JBQXlCLENBQ3JFOEUsS0FBTSxPQUNOWCxZQUFhcUIsR0FBYzJRLGNBQWNoUyxjQUVwQ2lTLEVBQW1CcFcsY0FBYyxNQUFPLENBQUMsdUJBQXdCLENBQ3RFeUIsSUFBSyw4QkFDTEMsTUFBTyxLQUNQQyxPQUFRLEtBQ1IwSSxRQUFTLE9BQ1RsSixJQUFLLEtBS04sT0FGQStVLEVBQWdCblUsT0FBT29VLEVBQWNDLEdBRTlCRiIsImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJpZnlDcmVkZW50aWFscyB9IGZyb20gXCIuL2ZpcmViYXNlLWF1dGgubWluLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGdldEltYWdlVXJsIH0gZnJvbSBcIi4vaGVscGVycy5taW4uanNcIjtcclxuaW1wb3J0IHsgc2V0VXNlclByZWZlcmVuY2UgfSBmcm9tIFwiLi91cGRhdGVTdGF0ZUZ1bmN0aW9ucy5taW4uanNcIjtcclxuY29uc3QgSElERV9QT1BVUF9USU1FID0gMjUwMDtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXREYXRhID0gKCkgPT4ge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyRGF0YVwiKTtcclxuXHRcdGlmICghZGF0YSkgcmV0dXJuIG51bGw7XHJcblx0XHRjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuXHRcdGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gXCJvYmplY3RcIiB8fCBwYXJzZWREYXRhID09PSBudWxsKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKFwiSW52YWxpZCB1c2VyIGRhdGEuIFJlc2V0dGluZyBzdG9yYWdlLlwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBzdHJ1Y3R1cmVcIik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFyc2VkRGF0YTtcclxuXHR9IGNhdGNoIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlckRhdGFcIik7XHJcblx0XHRzaG93RXJyb3JQb3B1cChcIkVycm9yIGFjY2Vzc2luZyB1c2VyIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uXCIsIFwiI2RjNGEzNFwiKTtcclxuXHRcdHJldHVybiB7fTtcclxuXHR9XHJcbn07XHJcbmNvbnN0IGdldEN1cnJlbnREYXRlID0gKCkgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cclxuXHRyZXR1cm4gY3VycmVudERhdGU7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGb290ZXIgPSAoe1xyXG5cdGhlYWRlcjoge1xyXG5cdFx0YWx0OiB7IGxvZ28gfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgY3VyckRhdGUgPSBnZXRDdXJyZW50RGF0ZSgpO1xyXG5cclxuXHRjb25zdCBmb290ZXIgPSBjcmVhdGVFbGVtZW50KFwiZm9vdGVyXCIsIFtcImJyb3dzZS1mb290ZXJcIl0pO1xyXG5cdGNvbnN0IGZvb3RlckxvZ28gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtZm9vdGVyX19sb2dvXCJdKTtcclxuXHRjb25zdCBsb2dvSW1nID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtZm9vdGVyX19pbWdcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdFx0YWx0OiBgJHtsb2dvfWAsXHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0fSk7XHJcblx0Y29uc3QgaW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1mb290ZXJfX2luZm9cIl0pO1xyXG5cclxuXHRmb290ZXJMb2dvLnRleHRDb250ZW50ID0gXCJTdHJlYW1cIjtcclxuXHRmb290ZXJMb2dvLnByZXBlbmQobG9nb0ltZyk7XHJcblx0aW5mby50ZXh0Q29udGVudCA9IGDCqSR7Y3VyckRhdGV9IFN0cmVhbSBjb3Jwb3JhdGlvbiB8IEFsbCByaWdodHMgcmVzZXJ2ZWQuYDtcclxuXHJcblx0Zm9vdGVyLmFwcGVuZChmb290ZXJMb2dvLCBpbmZvKTtcclxuXHJcblx0cmV0dXJuIGZvb3RlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVMb2dpbkhlYWRlciA9IChcclxuXHR7XHJcblx0XHRoZWFkZXI6IHtcclxuXHRcdFx0YWx0OiB7IGxvZ28gfSxcclxuXHRcdFx0YXJpYTogeyBsb2dvTGluaywgY2hhbmdlTGFuZ3VhZ2VCdXR0b24gfSxcclxuXHRcdH0sXHJcblx0fSxcclxuXHRsYW5nQW1vdW50LFxyXG5cdGxhbmdOYW1lcyxcclxuXHRsYW5ndWFnZSxcclxuXHRoYW5kbGVMYW5nU2VsZWN0XHJcbikgPT4ge1xyXG5cdC8vIGxvZ29cclxuXHRjb25zdCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIFtcImhlYWRlclwiXSk7XHJcblx0Y29uc3QgcGFnZUxvZ28gPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJoZWFkZXJfX2xvZ29cIiwgXCJsb2dpbi1oZWFkZXJfX2xvZ29cIl0sIHtcclxuXHRcdGhyZWY6IFwiL1wiLFxyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGAke2xvZ29MaW5rfWAsXHJcblx0fSk7XHJcblx0Y29uc3QgbG9nb0ltZyA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiaGVhZGVyX19sb2dvLWltZ1wiLCBcImxvZ2luLWhlYWRlcl9fbG9nby1pbWdcIl0sXHJcblx0XHR7XHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdFx0XHRhbHQ6IGAke2xvZ299YCxcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBsb2dvVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFwiaGVhZGVyX19sb2dvLXRleHRcIixcclxuXHRcdFwibG9naW4taGVhZGVyX19sb2dvLXRleHRcIixcclxuXHRdKTtcclxuXHRsb2dvVGV4dC50ZXh0Q29udGVudCA9IFwiU3RyZWFtXCI7XHJcblx0cGFnZUxvZ28uYXBwZW5kKGxvZ29JbWcsIGxvZ29UZXh0KTtcclxuXHRoZWFkZXIuYXBwZW5kKHBhZ2VMb2dvKTtcclxuXHQvLyBlbmQgb2YgbG9nb1xyXG5cclxuXHQvLyBsYW5ndWFnZSBzZWxlY3RvclxyXG5cdGNvbnN0IGxhbmdTZWxlY3QgPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1zZWxlY3RcIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBgJHtjaGFuZ2VMYW5ndWFnZUJ1dHRvbn1gLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxhbmdQbGF0Zm9ybUxhbmcgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcImxvZ2luLWhlYWRlcl9fbGFuZy1wbGF0Zm9ybS1sYW5nXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgbGFuZ0Fycm93ID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctYXJyb3dcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9jaGV2cm9uLWRvd24uc3ZnXCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbGFuZ0xpc3QgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWxpc3RcIl0pO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxhbmdBbW91bnQ7IGkrKykge1xyXG5cdFx0Y29uc3QgbGFuZ0Nob2ljZSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctY2hvaWNlXCJdLCB7XHJcblx0XHRcdHRhYmluZGV4OiAwLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBkYXRhID0gT2JqZWN0LmtleXMobGFuZ05hbWVzKVtpXTtcclxuXHRcdGNvbnN0IHRleHQgPSBPYmplY3QudmFsdWVzKGxhbmdOYW1lcylbaV07XHJcblxyXG5cdFx0bGFuZ0Nob2ljZS5kYXRhc2V0LmxhbmcgPSBkYXRhO1xyXG5cdFx0bGFuZ0Nob2ljZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0XHRsYW5nQ2hvaWNlLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gaSAqIDEwMCArIFwibXNcIjtcclxuXHRcdGxhbmdMaXN0LmFwcGVuZChsYW5nQ2hvaWNlKTtcclxuXHR9XHJcblxyXG5cdGxhbmdQbGF0Zm9ybUxhbmcudGV4dENvbnRlbnQgPSBsYW5nTmFtZXNbbGFuZ3VhZ2VdO1xyXG5cclxuXHRsYW5nU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aGFuZGxlTGFuZ1NlbGVjdC5jYWxsKGxhbmdTZWxlY3QsIGUsIGxhbmdQbGF0Zm9ybUxhbmcpO1xyXG5cdH0pO1xyXG5cclxuXHRsYW5nU2VsZWN0LmFwcGVuZChsYW5nUGxhdGZvcm1MYW5nLCBsYW5nQXJyb3csIGxhbmdMaXN0KTtcclxuXHRoZWFkZXIuYXBwZW5kKGxhbmdTZWxlY3QpO1xyXG5cclxuXHRyZXR1cm4gaGVhZGVyO1xyXG5cdC8vIGVuZCBvZiBsYW5ndWFnZSBzZWxlY3RvclxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZ2luUGFnZSA9ICh7XHJcblx0bWFpbjoge1xyXG5cdFx0dGV4dDogeyB0aXRsZSwgc3VidGl0bGUsIGRlc2NyaXB0aW9uLCBidXR0b24gfSxcclxuXHRcdHBsYWNlaG9sZGVyOiB7IHVzZXJuYW1lLCBwYXNzd29yZCB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBtYWluQ29udGVudCA9IGNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIFtcIm1haW5cIl0pO1xyXG5cdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIik7XHJcblx0Y29uc3QgbG9naW5UaXRsZVRvcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW5fX3RpdGxlXCJdKTtcclxuXHRjb25zdCBsb2dpblRpdGxlQm90dG9tID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fc3VidGl0bGVcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcIm1haW5fX3RleHRcIl0pO1xyXG5cdGNvbnN0IGZvcm0gPSBjcmVhdGVFbGVtZW50KFwiZm9ybVwiLCBbXCJtYWluX19mb3JtXCJdKTtcclxuXHRjb25zdCB1c2VybmFtZUlucHV0ID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW5wdXRcIixcclxuXHRcdFtcIm1haW5fX2Zvcm0taW5wdXRcIiwgXCJtYWluX19mb3JtLWlucHV0LS11c2VybmFtZVwiXSxcclxuXHRcdHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiB1c2VybmFtZSwgdmFsdWU6IFwiaGFuZHNvbWVVc2VyNDA0QHRlc3QuY29tXCIgfVxyXG5cdCk7XHJcblx0Y29uc3QgcGFzc3dvcmRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImlucHV0XCIsXHJcblx0XHRbXCJtYWluX19mb3JtLWlucHV0XCIsIFwibWFpbl9fZm9ybS1pbnB1dC0tcGFzc3dvcmRcIl0sXHJcblx0XHR7IHR5cGU6IFwicGFzc3dvcmRcIiwgcGxhY2Vob2xkZXI6IHBhc3N3b3JkLCB2YWx1ZTogXCIxMjM0NTY3ODlcIiB9XHJcblx0KTtcclxuXHRjb25zdCBzdWJtaXRCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcIm1haW5fX2Zvcm0tYnV0dG9uXCJdLCB7XHJcblx0XHR0eXBlOiBcInN1Ym1pdFwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGJ1dHRvblRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX19mb3JtLWJ1dHRvbi10ZXh0XCJdKTtcclxuXHJcblx0Y29uc3QgZXJyb3JUeHQgPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJtYWluX19mb3JtLWVycm9yLXR4dFwiXSk7XHJcblx0bG9naW5UaXRsZVRvcC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cdGxvZ2luVGl0bGVCb3R0b20udGV4dENvbnRlbnQgPSBzdWJ0aXRsZTtcclxuXHRsb2dpblRleHQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuXHRidXR0b25UZXh0LnRleHRDb250ZW50ID0gYnV0dG9uO1xyXG5cclxuXHRsb2dpblRpdGxlLmFwcGVuZChsb2dpblRpdGxlVG9wLCBsb2dpblRpdGxlQm90dG9tKTtcclxuXHRzdWJtaXRCdG4uYXBwZW5kKGJ1dHRvblRleHQpO1xyXG5cdGZvcm0uYXBwZW5kKHVzZXJuYW1lSW5wdXQsIHBhc3N3b3JkSW5wdXQsIHN1Ym1pdEJ0biwgZXJyb3JUeHQpO1xyXG5cclxuXHR3cmFwcGVyLmFwcGVuZChsb2dpblRpdGxlLCBsb2dpblRleHQsIGZvcm0pO1xyXG5cdG1haW5Db250ZW50LmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0c3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCBjaG9vc2VuTGFuZyA9IHVzZXJEYXRhPy5wcmVmZXJyZWRMYW5ndWFnZTtcclxuXHJcblx0XHRpZiAoIWNob29zZW5MYW5nKSB7XHJcblx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwicHJlZmVycmVkTGFuZ3VhZ2VcIiwgXCJwbFwiLCB1c2VyRGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aGFuZGxlTG9naW5WYWxpZGF0aW9uKFxyXG5cdFx0XHRlLFxyXG5cdFx0XHR1c2VybmFtZUlucHV0LFxyXG5cdFx0XHRwYXNzd29yZElucHV0LFxyXG5cdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9yUmVxdWlyZWQsXHJcblx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnRleHQuZXJyb3JJbnZhbGlkLFxyXG5cdFx0XHRlcnJvclR4dFxyXG5cdFx0KS50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0aWYgKCFyZXMpIHtcclxuXHRcdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInRyYW5zbGF0aW9uc1wiLCB0cmFuc2xhdGlvbnMsIHVzZXJEYXRhKTtcclxuXHRcdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcImxvZ2dlZEluXCIsIHRydWUsIHVzZXJEYXRhKTtcclxuXHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcInByb2ZpbGVzLmh0bWxcIjsgLy8gcHJ6ZWrFm2NpZSBuYSBzdHJvbsSZIHogcHJvZmlsYW1pXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gbWFpbkNvbnRlbnQ7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMb2dpblZhbGlkYXRpb24gPSBhc3luYyAoXHJcblx0ZSxcclxuXHR1c2VybmFtZUlucHV0LFxyXG5cdHBhc3N3b3JkSW5wdXQsXHJcblx0cmVxdWlyZUVycm9yLFxyXG5cdGludmFsaWRFcnJvcixcclxuXHRlcnJvclR4dFxyXG4pID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGlmICh1c2VybmFtZUlucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIiB8fCBwYXNzd29yZElucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0ZXJyb3JUeHQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHRlcnJvclR4dC50ZXh0Q29udGVudCA9IHJlcXVpcmVFcnJvcjtcclxuXHRcdHJldHVybiByZXF1aXJlRXJyb3I7XHJcblx0fVxyXG5cclxuXHRjb25zdCBlbWFpbFZhbHVlID0gdXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XHJcblx0Y29uc3QgcGFzc3dvcmRWYWx1ZSA9IHBhc3N3b3JkSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cclxuXHRlLnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XHJcblx0ZS50YXJnZXQuYXBwZW5kKHNob3dTbWFsbExvYWRlcigpKTtcclxuXHRlcnJvclR4dC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuXHJcblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdmVyaWZ5Q3JlZGVudGlhbHMoZW1haWxWYWx1ZSwgcGFzc3dvcmRWYWx1ZSk7XHJcblxyXG5cdGhpZGVTbWFsbExvYWRlcigpO1xyXG5cdGUudGFyZ2V0LmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdGVycm9yVHh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0ZXJyb3JUeHQudGV4dENvbnRlbnQgPSBpbnZhbGlkRXJyb3I7XHJcblx0XHRyZXR1cm4gaW52YWxpZEVycm9yO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd0JpZ0xvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibG9hZGluZy1hcmVhXCJdKTtcclxuXHRsb2FkaW5nQXJlYS5pbm5lckhUTUwgPSBgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImxvYWRlci1iaWdcIiB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIiB3aWR0aD1cIjEyMFwiIGhlaWdodD1cIjEyMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibG9hZGVyLWFjY2VudFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMC44XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiNzAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwLjRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImxvYWRpbmctY2lyY2xlLWJpZ1wiIHI9XCIzNVwiIGN4PVwiNjBcIiBjeT1cIjYwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgIDwvc3ZnPmA7XHJcblx0cmV0dXJuIGxvYWRpbmdBcmVhO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZUJpZ0xvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy1hcmVhXCIpO1xyXG5cdGxvYWRpbmdBcmVhPy5yZW1vdmUoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaG93U21hbGxMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImxvYWRpbmctYXJlYS1zbWFsbFwiXSk7XHJcblx0bG9hZGluZ0FyZWEuaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJsb2FkZXItc21hbGxcIiB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIiB3aWR0aD1cIjEyMFwiIGhlaWdodD1cIjEyMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibG9hZGVyLWFjY2VudC1zbWFsbFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjAuOFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjcwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjAuM1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImxvYWRpbmctY2lyY2xlLXNtYWxsXCIgcj1cIjEyXCIgY3g9XCI2MFwiIGN5PVwiNjBcIj48L2NpcmNsZT5cclxuICAgICAgICAgICAgPC9zdmc+YDtcclxuXHJcblx0cmV0dXJuIGxvYWRpbmdBcmVhO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZVNtYWxsTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkaW5nLWFyZWEtc21hbGxcIik7XHJcblx0bG9hZGluZ0FyZWEucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZmlsZXNQYWdlID0gKHtcclxuXHRwcm9maWxlczoge1xyXG5cdFx0dGV4dDogeyB0aXRsZSwgYWRkUHJvZmlsZUluZm8gfSxcclxuXHRcdGFyaWE6IHsgYWRkUHJvZmlsZUJ0biwgdXNlclByb2ZpbGVCdG4sIHVzZXJCdG5DdXN0b21pemUsIHJlbW92ZVVzZXJJbmZvIH0sXHJcblx0fSxcclxuXHRlcnJvclBvcHVwOiB7XHJcblx0XHR0ZXh0OiB7IG1heFByb2ZpbGVzLCBlbXB0eUZpZWxkIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlc0xpc3QgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzO1xyXG5cclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvbnN0IHByb2ZpbGVzUGFnZU1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJtYWluLXByb2ZpbGVzXCJdKTtcclxuXHRcdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNUaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMVwiLCBbXHJcblx0XHRcdFwibWFpbl9fdGl0bGVcIixcclxuXHRcdFx0XCJtYWluLXByb2ZpbGVzX190aXRsZVwiLFxyXG5cdFx0XSk7XHJcblx0XHRjb25zdCBwcm9maWxlc0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYm94XCJdKTtcclxuXHJcblx0XHRwcm9maWxlc1RpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdFx0aWYgKHVzZXJQcm9maWxlc0xpc3QgJiYgT2JqZWN0LmtleXModXNlclByb2ZpbGVzTGlzdCkubGVuZ3RoICE9PSAwKSB7XHJcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHVzZXJQcm9maWxlc0xpc3QpIHtcclxuXHRcdFx0XHRwcm9maWxlc0JveC5hcHBlbmQoXHJcblx0XHRcdFx0XHRjcmVhdGVQcm9maWxlKFxyXG5cdFx0XHRcdFx0XHR1c2VyUHJvZmlsZUJ0bixcclxuXHRcdFx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRcdFx0ZW1wdHlGaWVsZCxcclxuXHRcdFx0XHRcdFx0cmVtb3ZlVXNlckluZm8sXHJcblx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0dXNlclByb2ZpbGVzTGlzdFtrZXldXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cHJvZmlsZXNCb3guYXBwZW5kKFxyXG5cdFx0XHRjcmVhdGVQcm9maWxlQWRkQnRuKFxyXG5cdFx0XHRcdGFkZFByb2ZpbGVCdG4sXHJcblx0XHRcdFx0YWRkUHJvZmlsZUluZm8sXHJcblx0XHRcdFx0dXNlclByb2ZpbGVCdG4sXHJcblx0XHRcdFx0cHJvZmlsZXNCb3gsXHJcblx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHR1c2VyQnRuQ3VzdG9taXplLFxyXG5cdFx0XHRcdG1heFByb2ZpbGVzLFxyXG5cdFx0XHRcdGVtcHR5RmllbGQsXHJcblx0XHRcdFx0cmVtb3ZlVXNlckluZm9cclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHRcdHdyYXBwZXIuYXBwZW5kKHByb2ZpbGVzVGl0bGUsIHByb2ZpbGVzQm94KTtcclxuXHRcdHByb2ZpbGVzUGFnZU1haW4uYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuXHRcdGNvbnRhaW5lci5hcHBlbmQocHJvZmlsZXNQYWdlTWFpbik7XHJcblx0XHRoaWRlQmlnTG9hZGVyKCk7XHJcblx0fSwgNTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGUgPSAoXHJcblx0YXJpYUluZm8sXHJcblx0dXNlckJ0bkluZm8sXHJcblx0c2F2ZUJ0bkFyaWEsXHJcblx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdHJlbW92ZUFyaWEsXHJcblx0ZXhpc3RpbmdQcm9maWxlSWQgPSBudWxsLFxyXG5cdGV4aXN0aW5nUHJvZmlsZU5hbWUgPSBudWxsXHJcbikgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IGV4aXN0aW5nUHJvZmlsZXMgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzIHx8IHt9O1xyXG5cclxuXHRpZiAodXNlckRhdGEgPT09IG51bGwpIHtcclxuXHRcdHNob3dFcnJvclBvcHVwKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0fSwgSElERV9QT1BVUF9USU1FKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGxldCBjb2xvcjtcclxuXHRsZXQgcHJvZmlsZUlkO1xyXG5cdGxldCBwcm9maWxlTmFtZTtcclxuXHJcblx0Y29uc3QgY29sb3JzID0gW1wiI2RjNGEzNFwiLCBcIiMwNjJFNjNcIiwgXCIjRkFDMDQ0XCJdO1xyXG5cclxuXHRpZiAoZXhpc3RpbmdQcm9maWxlSWQpIHtcclxuXHRcdHByb2ZpbGVJZCA9IGV4aXN0aW5nUHJvZmlsZUlkO1xyXG5cdFx0cHJvZmlsZU5hbWUgPSBleGlzdGluZ1Byb2ZpbGVOYW1lLm5hbWU7XHJcblx0XHRjb25zdCBwcm9maWxlTnVtYmVyID0gcGFyc2VJbnQocHJvZmlsZUlkLnNwbGl0KFwiLVwiKS5wb3AoKSk7XHJcblx0XHRjb2xvciA9IGNvbG9yc1twcm9maWxlTnVtYmVyIC0gMV07XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChPYmplY3Qua2V5cyhleGlzdGluZ1Byb2ZpbGVzKS5sZW5ndGggPj0gMykgcmV0dXJuO1xyXG5cclxuXHRcdGxldCBuZXh0TnVtYmVyID0gMTtcclxuXHRcdHdoaWxlIChleGlzdGluZ1Byb2ZpbGVzW2B1c2VyLXByb2ZpbGUtJHtuZXh0TnVtYmVyfWBdKSB7XHJcblx0XHRcdG5leHROdW1iZXIrKztcclxuXHRcdH1cclxuXHJcblx0XHRwcm9maWxlSWQgPSBgdXNlci1wcm9maWxlLSR7bmV4dE51bWJlcn1gO1xyXG5cdFx0cHJvZmlsZU5hbWUgPSBgSGFuZHNvbWUgVXNlciAke25leHROdW1iZXJ9YDtcclxuXHRcdGNvbG9yID0gY29sb3JzW25leHROdW1iZXIgLSAxXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVzZXJQcm9maWxlID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19wcm9maWxlXCJdKTtcclxuXHRjb25zdCB1c2VyQXZhdGFyQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hdmF0YXJcIl0pO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJtYWluLXByb2ZpbGVzX19idG5cIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBhcmlhSW5mbyxcclxuXHRcdFwiZGF0YS1pZFwiOiBwcm9maWxlSWQsXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IHVzZXJQcm9maWxlSW5mb0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fdXNlci1pbmZvXCJdKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZUluZm8gPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgW1wibWFpbi1wcm9maWxlc19fbmFtZVwiXSwge1xyXG5cdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRyZWFkb25seTogdHJ1ZSxcclxuXHRcdHZhbHVlOiBwcm9maWxlTmFtZSxcclxuXHR9KTtcclxuXHRjb25zdCBuYW1lQm9yZGVyID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibmFtZS1ib3JkZXJcIl0pO1xyXG5cdGNvbnN0IGVkaXRVc2VySW5mb0J0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogdXNlckJ0bkluZm8gfVxyXG5cdCk7XHJcblx0Y29uc3QgcmVtb3ZlVXNlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fcmVtb3ZlLXVzZXJcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiByZW1vdmVBcmlhIH1cclxuXHQpO1xyXG5cdGNvbnN0IHJlbW92ZVVzZXJJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19yZW1vdmUtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvcmVtb3ZlLXByb2ZpbGUtaWNvbi5zdmdcIixcclxuXHR9KTtcclxuXHRjb25zdCBlZGl0VXNlckluZm9JY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19lZGl0LWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2VkaXQuc3ZnXCIsXHJcblx0fSk7XHJcblxyXG5cdHVzZXJQcm9maWxlQnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwibWFpbi1wcm9maWxlc19faW1nXCIgd2lkdGg9XCIxNTBcIiBoZWlnaHQ9XCIxNTBcIiB2aWV3Qm94PVwiMCAwIDIwMCAyMDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICA8Y2lyY2xlIGN4PVwiNzBcIiBjeT1cIjcwXCIgcj1cIjhcIiBmaWxsPVwid2hpdGVcIiAvPlxyXG4gICAgPGNpcmNsZSBjeD1cIjEzMFwiIGN5PVwiNzBcIiByPVwiOFwiIGZpbGw9XCJ3aGl0ZVwiIC8+XHJcbiAgICA8cGF0aCBkPVwiTTYwIDExMCBRMTAwIDE1MCAxNDAgMTEwXCIgc3Ryb2tlPVwid2hpdGVcIiBzdHJva2Utd2lkdGg9XCI2XCJcclxuICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiAvPlxyXG4gICAgPC9zdmc+YDtcclxuXHR1c2VyUHJvZmlsZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuXHJcblx0dXNlckF2YXRhckJveC5hcHBlbmQodXNlclByb2ZpbGVCdG4pO1xyXG5cdGVkaXRVc2VySW5mb0J0bi5hcHBlbmQoZWRpdFVzZXJJbmZvSWNvbik7XHJcblx0cmVtb3ZlVXNlckJ0bi5hcHBlbmQocmVtb3ZlVXNlckljb24pO1xyXG5cdHVzZXJQcm9maWxlSW5mb0JveC5hcHBlbmQoXHJcblx0XHR1c2VyUHJvZmlsZUluZm8sXHJcblx0XHRuYW1lQm9yZGVyLFxyXG5cdFx0ZWRpdFVzZXJJbmZvQnRuLFxyXG5cdFx0cmVtb3ZlVXNlckJ0blxyXG5cdCk7XHJcblx0dXNlclByb2ZpbGUuYXBwZW5kKHVzZXJBdmF0YXJCb3gsIHVzZXJQcm9maWxlSW5mb0JveCk7XHJcblxyXG5cdGlmICghZXhpc3RpbmdQcm9maWxlSWQpIHtcclxuXHRcdGNvbnN0IHVwZGF0ZWRQcm9maWxlcyA9IHtcclxuXHRcdFx0Li4uZXhpc3RpbmdQcm9maWxlcyxcclxuXHRcdFx0W3Byb2ZpbGVJZF06IHtcclxuXHRcdFx0XHRuYW1lOiBwcm9maWxlTmFtZSxcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1cGRhdGVkUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHR9XHJcblxyXG5cdGVkaXRVc2VySW5mb0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGVkaXRVc2VybmFtZShlLCB1c2VyUHJvZmlsZUluZm9Cb3gsIHNhdmVCdG5BcmlhLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdH0pO1xyXG5cdHJlbW92ZVVzZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRyZW1vdmVVc2VyKGUpO1xyXG5cdH0pO1xyXG5cclxuXHR1c2VyUHJvZmlsZUluZm8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuXHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcblx0XHRcdHNhdmVVc2VybmFtZShlLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHVzZXJQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gc2V0Q3VycmVudFByb2ZpbGUoZSkpO1xyXG5cclxuXHR1c2VyUHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRyZXR1cm4gdXNlclByb2ZpbGU7XHJcbn07XHJcbi8vIHd5YsOzciBwcm9maWx1XHJcbmNvbnN0IHNldEN1cnJlbnRQcm9maWxlID0gKGUpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBwcm9maWxlRGF0YSA9IGUudGFyZ2V0LmRhdGFzZXQuaWQ7XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwiY3VycmVudFByb2ZpbGVcIiwgcHJvZmlsZURhdGEsIHVzZXJEYXRhKTtcclxuXHJcblx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImJyb3dzZS5odG1sXCI7XHJcbn07XHJcbi8vIGtvbmllYyB3eWJvcnUgcHJvZmlsdVxyXG5cclxuY29uc3QgY3JlYXRlUHJvZmlsZUFkZEJ0biA9IChcclxuXHRhcmlhSW5mbyxcclxuXHRpbmZvLFxyXG5cdHVzZXJCdG5BcmlhLFxyXG5cdHByb2ZpbGVzQm94LFxyXG5cdHVzZXJCdG5JbmZvLFxyXG5cdHNhdmVCdG5BcmlhLFxyXG5cdG1heFByb2ZpbGVzRXJyb3IsXHJcblx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdHJlbW92ZUFyaWFcclxuKSA9PiB7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYWRkLXByb2ZpbGVcIl0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVBdmF0YXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2F2YXRhclwiXSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fYnRuXCIsIFwibWFpbi1wcm9maWxlc19fYnRuLS1hZGQtcHJvZmlsZVwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IGFyaWFJbmZvIH1cclxuXHQpO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVQbHVzSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fYWRkLWltZ1wiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUluZm8gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluLXByb2ZpbGVzX19uYW1lXCJdKTtcclxuXHJcblx0YWRkUHJvZmlsZUluZm8udGV4dENvbnRlbnQgPSBpbmZvO1xyXG5cclxuXHRhZGRQcm9maWxlQnRuLmFwcGVuZChhZGRQcm9maWxlUGx1c0ljb24pO1xyXG5cdGFkZFByb2ZpbGVBdmF0YXIuYXBwZW5kKGFkZFByb2ZpbGVCdG4pO1xyXG5cdGFkZFByb2ZpbGVCb3guYXBwZW5kKGFkZFByb2ZpbGVBdmF0YXIsIGFkZFByb2ZpbGVJbmZvKTtcclxuXHJcblx0YWRkUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCB7fTtcclxuXHJcblx0XHRpZiAoT2JqZWN0LmtleXMoZXhpc3RpbmdQcm9maWxlcykubGVuZ3RoID49IDMpIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAobWF4UHJvZmlsZXNFcnJvciwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcHJvZmlsZSA9IGNyZWF0ZVByb2ZpbGUoXHJcblx0XHRcdHVzZXJCdG5BcmlhLFxyXG5cdFx0XHR1c2VyQnRuSW5mbyxcclxuXHRcdFx0c2F2ZUJ0bkFyaWEsXHJcblx0XHRcdGVtcHR5RmllbGRFcnJvcixcclxuXHRcdFx0cmVtb3ZlQXJpYVxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAocHJvZmlsZSkge1xyXG5cdFx0XHRwcm9maWxlc0JveC5pbnNlcnRCZWZvcmUocHJvZmlsZSwgYWRkUHJvZmlsZUJveCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiBhZGRQcm9maWxlQm94O1xyXG59O1xyXG5cclxuY29uc3QgZWRpdFVzZXJuYW1lID0gKGUsIHBhcmVudCwgc2F2ZUJ0bkFyaWEsIGVtcHR5RmllbGRFcnJvcikgPT4ge1xyXG5cdHJlc2V0U3RhdGVPZkVkaXRpbmcoZSk7XHJcblxyXG5cdGNvbnN0IGVkaXRCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBuYW1lVG9FZGl0ID0gZWRpdEJ0blxyXG5cdFx0LmNsb3Nlc3QoXCIubWFpbi1wcm9maWxlc19fcHJvZmlsZVwiKVxyXG5cdFx0LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fbmFtZVwiKTtcclxuXHJcblx0Y29uc3Qgc2F2ZUJ0biA9IGNyZWF0ZVNhdmVCdG4oc2F2ZUJ0bkFyaWEpO1xyXG5cclxuXHRlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c2F2ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRwYXJlbnQuYXBwZW5kKHNhdmVCdG4pO1xyXG5cclxuXHRuYW1lVG9FZGl0LmZvY3VzKCk7XHJcblx0bmFtZVRvRWRpdC5zZWxlY3QoKTtcclxuXHRuYW1lVG9FZGl0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xyXG5cdG5hbWVUb0VkaXQuY2xhc3NMaXN0LmFkZChcImZvY3VzZWRcIik7XHJcblxyXG5cdHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRzYXZlVXNlcm5hbWUoZSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHNhdmVVc2VybmFtZSA9IChlLCBlbXB0eUZpZWxkRXJyb3IpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCBbXTtcclxuXHJcblx0Y29uc3Qgc2F2ZUJ0biA9IGUudGFyZ2V0O1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlID0gc2F2ZUJ0bi5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIik7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVJZCA9IGNsb3Nlc3RQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fYnRuXCIpXHJcblx0XHQuZGF0YXNldC5pZDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZU5hbWUgPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIubWFpbi1wcm9maWxlc19fbmFtZVwiXHJcblx0KTtcclxuXHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG5cclxuXHRpZiAoY2xvc2VzdFByb2ZpbGVOYW1lLnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSkpO1xyXG5cdFx0cmV0dXJuIHNob3dFcnJvclBvcHVwKGVtcHR5RmllbGRFcnJvciwgXCIjRkFDMDQ0XCIpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgdXBkYXRlZFByb2ZpbGVzID0ge1xyXG5cdFx0Li4uZXhpc3RpbmdQcm9maWxlcyxcclxuXHRcdFtjbG9zZXN0UHJvZmlsZUlkXToge1xyXG5cdFx0XHQuLi5leGlzdGluZ1Byb2ZpbGVzW2Nsb3Nlc3RQcm9maWxlSWRdLFxyXG5cdFx0XHRuYW1lOiBjbG9zZXN0UHJvZmlsZU5hbWUudmFsdWUsXHJcblx0XHR9LFxyXG5cdH07XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVwZGF0ZWRQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cclxuXHRyZXNldFN0YXRlT2ZFZGl0aW5nKGUpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlU2F2ZUJ0biA9IChzYXZlQnRuQXJpYSkgPT4ge1xyXG5cdGNvbnN0IHNhdmVVc2VySW5mb0J0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fc2F2ZS1uYW1lXCIsIFwiaGlkZGVuXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogc2F2ZUJ0bkFyaWEgfVxyXG5cdCk7XHJcblx0Y29uc3Qgc2F2ZVVzZXJJbmZvSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fc2F2ZS1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9zYXZlLnN2Z1wiLFxyXG5cdH0pO1xyXG5cclxuXHRzYXZlVXNlckluZm9CdG4uYXBwZW5kKHNhdmVVc2VySW5mb0ljb24pO1xyXG5cclxuXHRyZXR1cm4gc2F2ZVVzZXJJbmZvQnRuO1xyXG59O1xyXG5cclxuY29uc3QgcmVzZXRTdGF0ZU9mRWRpdGluZyA9IChlKSA9PiB7XHJcblx0Y29uc3QgZm9jdXNlZE5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb2N1c2VkXCIpO1xyXG5cdGNvbnN0IGFsbFNhdmVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19zYXZlLW5hbWVcIik7XHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0Zm9jdXNlZE5hbWVzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLCB0cnVlKTtcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c2VkXCIpO1xyXG5cdFx0ZWwuYmx1cigpO1xyXG5cdH0pO1xyXG5cdGFsbFNhdmVCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIikpO1xyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIikpO1xyXG59O1xyXG5cclxubGV0IHBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG5leHBvcnQgY29uc3Qgc2hvd0Vycm9yUG9wdXAgPSAodGV4dCwgY29sb3IpID0+IHtcclxuXHRpZiAocG9wdXBWaXNpYmxlKSByZXR1cm47XHJcblx0cG9wdXBWaXNpYmxlID0gdHJ1ZTtcclxuXHJcblx0Y29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0Y29uc3QgcG9wdXAgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImVycm9yLXBvcHVwXCJdKTtcclxuXHRjb25zdCBwb3B1cEVycm9yID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiZXJyb3ItcG9wdXBfX3RleHRcIl0pO1xyXG5cclxuXHRwb3B1cEVycm9yLnRleHRDb250ZW50ID0gdGV4dDtcclxuXHRyb290LnN0eWxlLnNldFByb3BlcnR5KFwiLS1lcnJvclR4dENvbG9yXCIsIGNvbG9yKTtcclxuXHJcblx0cG9wdXAuYXBwZW5kKHBvcHVwRXJyb3IpO1xyXG5cdGNvbnRhaW5lci5hcHBlbmQocG9wdXApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0fSwgMjAwMCk7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwb3B1cC5yZW1vdmUoKTtcclxuXHRcdHBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG5cdH0sIEhJREVfUE9QVVBfVElNRSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlclBhbmVsID0gKCkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cclxuXHRpZiAoIXVzZXJEYXRhKSBzaG93RXJyb3JQb3B1cChcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiwgXCIjZGM0YTM0XCIpO1xyXG5cclxuXHRjb25zdCBjdXJyZW50UHJvZmlsZSA9IHVzZXJEYXRhPy5jdXJyZW50UHJvZmlsZTtcclxuXHRjb25zdCBjdXJyZW50UHJvZmlsZU5hbWUgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzW2N1cnJlbnRQcm9maWxlXT8ubmFtZTtcclxuXHJcblx0Y29uc3QgdXNlclBhbmVsID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsXCJdKTtcclxuXHRjb25zdCB1c2VySW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXItaW5mb1wiXSk7XHJcblx0Y29uc3QgdXNlcm5hbWUgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX191c2VybmFtZVwiXSk7XHJcblx0Y29uc3QgZGl2aWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJoclwiLCBbXCJicm93c2UtaGVhZGVyX19oclwiXSk7XHJcblx0Y29uc3QgdXNlclBhbmVsTGlzdCA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpc3RcIl0pO1xyXG5cclxuXHRjb25zdCBzZXR0aW5nc0ljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImJyb3dzZS1oZWFkZXJfX2ljb25cIiwgXCJicm93c2UtaGVhZGVyX19pY29uLXNldHRpbmdzXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvc2V0dGluZ3MtaWNvbi5zdmdcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBzd2FwUHJvZmlsZUljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImJyb3dzZS1oZWFkZXJfX2ljb25cIiwgXCJicm93c2UtaGVhZGVyX19pY29uLXNldHRpbmdzXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvc3dhcC1pY29uLnN2Z1wiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IGxvZ291dEljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImJyb3dzZS1oZWFkZXJfX2ljb25cIiwgXCJicm93c2UtaGVhZGVyX19pY29uLXNldHRpbmdzXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nb3V0LWljb24uc3ZnXCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHVzZXJQYW5lbFNldHRpbmdzID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcclxuXHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1vcHRpb25cIixcclxuXHRdKTtcclxuXHRjb25zdCB1c2VyUGFuZWxTZXR0aW5nc0xpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXHJcblx0XHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saW5rXCIsXHJcblx0XHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saW5rLS1zZXR0aW5nc1wiLFxyXG5cdFx0XSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHJcblx0Y29uc3QgdXNlclBhbmVsTG9nb3V0ID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcclxuXHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1vcHRpb25cIixcclxuXHRdKTtcclxuXHRjb25zdCB1c2VyUGFuZWxMb2dvdXRMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1xyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGlua1wiLFxyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGluay0tbG9nb3V0XCIsXHJcblx0XHRdLFxyXG5cdFx0eyBocmVmOiBcIlwiIH1cclxuXHQpO1xyXG5cdGNvbnN0IHVzZXJQYW5lbFN3YXBQcm9maWxlID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcclxuXHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1vcHRpb25cIixcclxuXHRdKTtcclxuXHRjb25zdCB1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXHJcblx0XHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saW5rXCIsXHJcblx0XHRcdFwiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saW5rLS1zd2FwLXByb2ZpbGVcIixcclxuXHRcdF0sXHJcblx0XHR7IGhyZWY6IFwicHJvZmlsZXMuaHRtbFwiIH1cclxuXHQpO1xyXG5cclxuXHR1c2VybmFtZS50ZXh0Q29udGVudCA9IGN1cnJlbnRQcm9maWxlTmFtZTtcclxuXHR1c2VySW5mby50ZXh0Q29udGVudCA9XHJcblx0XHR1c2VyRGF0YT8udHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy51c2VyUGFuZWw/LmdyZWV0aW5nO1xyXG5cdHVzZXJJbmZvLmFwcGVuZCh1c2VybmFtZSk7XHJcblxyXG5cdHVzZXJQYW5lbFN3YXBQcm9maWxlTGluay50ZXh0Q29udGVudCA9XHJcblx0XHR1c2VyRGF0YT8udHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy51c2VyUGFuZWw/LnByb2ZpbGVzO1xyXG5cclxuXHR1c2VyUGFuZWxTZXR0aW5nc0xpbmsudGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5zZXR0aW5ncztcclxuXHR1c2VyUGFuZWxMb2dvdXRMaW5rLnRleHRDb250ZW50ID1cclxuXHRcdHVzZXJEYXRhPy50cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LnVzZXJQYW5lbD8ubG9naW47XHJcblxyXG5cdHVzZXJQYW5lbFN3YXBQcm9maWxlTGluay5hcHBlbmQoc3dhcFByb2ZpbGVJY29uKTtcclxuXHR1c2VyUGFuZWxTZXR0aW5nc0xpbmsuYXBwZW5kKHNldHRpbmdzSWNvbik7XHJcblx0dXNlclBhbmVsTG9nb3V0TGluay5hcHBlbmQobG9nb3V0SWNvbik7XHJcblxyXG5cdHVzZXJQYW5lbFN3YXBQcm9maWxlLmFwcGVuZCh1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmspO1xyXG5cdHVzZXJQYW5lbFNldHRpbmdzLmFwcGVuZCh1c2VyUGFuZWxTZXR0aW5nc0xpbmspO1xyXG5cdHVzZXJQYW5lbExvZ291dC5hcHBlbmQodXNlclBhbmVsTG9nb3V0TGluayk7XHJcblxyXG5cdHVzZXJQYW5lbExpc3QuYXBwZW5kKFxyXG5cdFx0dXNlclBhbmVsU3dhcFByb2ZpbGUsXHJcblx0XHR1c2VyUGFuZWxTZXR0aW5ncyxcclxuXHRcdHVzZXJQYW5lbExvZ291dFxyXG5cdCk7XHJcblxyXG5cdHVzZXJQYW5lbC5hcHBlbmQodXNlckluZm8sIGRpdmlkZXIsIHVzZXJQYW5lbExpc3QpO1xyXG5cclxuXHR1c2VyUGFuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5icm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmstLWxvZ291dFwiKSkge1xyXG5cdFx0XHRoYW5kbGVMb2dPdXQoZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiB1c2VyUGFuZWw7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMb2dPdXQgPSAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGlmICghdXNlckRhdGEpIHJldHVybjtcclxuXHJcblx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlT3ZlcmxheSgpKTtcclxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9IFwiaGlkZGVuXCI7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJsb2dnZWRJblwiLCBmYWxzZSk7XHJcblx0XHRzZXRVc2VyUHJlZmVyZW5jZShcImN1cnJlbnRQcm9maWxlXCIsIG51bGwpO1xyXG5cdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImluZGV4Lmh0bWxcIjtcclxuXHR9LCBISURFX1BPUFVQX1RJTUUpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlVXNlciA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcztcclxuXHRjb25zdCBhbGxFZGl0QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCIpO1xyXG5cclxuXHRjb25zdCBkZWxldGVCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZSA9IGRlbGV0ZUJ0bi5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIik7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVCdG4gPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX2J0blwiKTtcclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7XHJcblxyXG5cdGRlbGV0ZSB1c2VyUHJvZmlsZXNbY2xvc2VzdFByb2ZpbGVCdG4uZGF0YXNldC5pZF07XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVzZXJQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cclxuXHRjbG9zZXN0UHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNsb3Nlc3RQcm9maWxlLnJlbW92ZSgpO1xyXG5cdH0sIDQwMCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQnJvd3NlUGFnZSA9ICh7XHJcblx0aGVhZGVyOiB7XHJcblx0XHRhbHQ6IHsgbG9nbyB9LFxyXG5cdFx0YXJpYTogeyBsb2dvTGluayB9LFxyXG5cdH0sXHJcblx0YnJvd3NlUGFnZToge1xyXG5cdFx0bmFtZXM6IHsgZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmsgfSxcclxuXHRcdGFyaWE6IHsgdXNlckJ1dHRvbiB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIFtcImJyb3dzZS1oZWFkZXJcIl0pO1xyXG5cdGNvbnN0IGxvZ29NYWluTGluayA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ29cIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBsb2dvTGluayxcclxuXHRcdGhyZWY6IFwiYnJvd3NlLmh0bWxcIixcclxuXHR9KTtcclxuXHRjb25zdCBsb2dvTWFpbkltZyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbG9nby1pbWdcIl0sIHtcclxuXHRcdGFsdDogbG9nbyxcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IG1haW5UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ28tdGV4dFwiXSk7XHJcblxyXG5cdG1haW5UaXRsZS50ZXh0Q29udGVudCA9IFwiU3RyZWFtXCI7XHJcblxyXG5cdGxvZ29NYWluTGluay5hcHBlbmQobG9nb01haW5JbWcsIG1haW5UaXRsZSk7XHJcblx0aGVhZGVyLmFwcGVuZChcclxuXHRcdGxvZ29NYWluTGluayxcclxuXHRcdGNyZWF0ZUJyb3dzZXJOYXYoZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmspLFxyXG5cdFx0Y3JlYXRlVXNlckJ0bih1c2VyQnV0dG9uKSxcclxuXHRcdGNyZWF0ZVVzZXJQYW5lbCgpXHJcblx0KTtcclxuXHJcblx0cmV0dXJuIGhlYWRlcjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUJyb3dzZXJOYXYgPSAoZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmspID0+IHtcclxuXHRjb25zdCBuYXYgPSBjcmVhdGVFbGVtZW50KFwibmF2XCIsIFtcImJyb3dzZS1oZWFkZXJfX25hdlwiXSk7XHJcblx0Y29uc3QgbmF2TGlua3MgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGlua3NcIl0pO1xyXG5cclxuXHRjb25zdCBsaW5rTmFtZXMgPSBbXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IGZpbG1MaW5rLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvZmlsbS1pY29uLnN2Z1wiLFxyXG5cdFx0fSxcclxuXHRcdHsgbmFtZTogc2VyaWVzTGluaywgc3JjOiBcIi4vc3JjL2ljb25zL3Nlcmllcy1pY29uLnN2Z1wiIH0sXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IG15TGlzdExpbmssXHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9saXN0LWljb24uc3ZnXCIsXHJcblx0XHR9LFxyXG5cdFx0eyBuYW1lOiBzZWFyY2hMaW5rLCBzcmM6IFwiLi9zcmMvaWNvbnMvc2VhcmNoLWljb24uc3ZnXCIgfSxcclxuXHRdO1xyXG5cclxuXHRsaW5rTmFtZXMuZm9yRWFjaCgobGluaywgaW5kZXgpID0+IHtcclxuXHRcdGNvbnN0IHNyY3MgPSBbXCJtb3ZpZXMuaHRtbFwiLCBcInNlcmllcy5odG1sXCIsIFwibXktbGlzdC5odG1sXCIsIFwic2VhcmNoLmh0bWxcIl07XHJcblxyXG5cdFx0Y29uc3QgbGlzdEl0ZW0gPSBjcmVhdGVFbGVtZW50KFwibGlcIiwgW1wiYnJvd3NlLWhlYWRlcl9faXRlbVwiXSk7XHJcblx0XHRjb25zdCBsaW5rRWwgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtaGVhZGVyX19saW5rXCJdLCB7XHJcblx0XHRcdGhyZWY6IHNyY3NbaW5kZXhdLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBpY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX19saW5rLWljb25cIl0sIHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRzcmM6IGxpbmsuc3JjLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX19saW5rLXRleHRcIl0pO1xyXG5cclxuXHRcdHRleHQudGV4dENvbnRlbnQgPSBsaW5rLm5hbWU7XHJcblxyXG5cdFx0bGlua0VsLmFwcGVuZChpY29uLCB0ZXh0KTtcclxuXHRcdGxpc3RJdGVtLmFwcGVuZChsaW5rRWwpO1xyXG5cclxuXHRcdG5hdkxpbmtzLmFwcGVuZChsaXN0SXRlbSk7XHJcblx0fSk7XHJcblxyXG5cdG5hdi5hcHBlbmQobmF2TGlua3MpO1xyXG5cclxuXHRyZXR1cm4gbmF2O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVXNlckJ0biA9ICh1c2VyQnRuQXJpYSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXItYm94XCJdKTtcclxuXHRjb25zdCB1c2VyQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogdXNlckJ0bkFyaWEsXHJcblx0fSk7XHJcblx0Y29uc3QgdXNlckljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXItaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvdXNlci1pY29uLnN2Z1wiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdH0pO1xyXG5cclxuXHR1c2VyQnRuLmFwcGVuZCh1c2VySWNvbik7XHJcblx0dXNlckJveC5hcHBlbmQodXNlckJ0bik7XHJcblxyXG5cdHVzZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdHNob3dVc2VyUGFuZWwodXNlckJveCk7XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiB1c2VyQm94O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1haW5IZXJvU2VjdGlvbiA9IChtb3ZpZXMsIHRyYW5zbGF0aW9ucywgcGFyZW50KSA9PiB7XHJcblx0Y29uc3QgYnJvd3NlTWFpbiA9IGNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIFtcImJyb3dzZS1tYWluXCJdKTtcclxuXHRjb25zdCBicm93c2VNYWluU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2hlcm8tc2VjdGlvblwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGltYWdlc0Nhcm91c2VsbCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJicm93c2UtbWFpbl9faW1hZ2UtY2Fyb3VzZWxsXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgaW1hZ2VzSW5zaWRlU2xpZGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9faW1hZ2VzXCJdKTtcclxuXHRtb3ZpZXMuZm9yRWFjaCgoeyBpZCwgdGl0bGUsIG5hbWUsIG92ZXJ2aWV3ID0gXCJcIiwgYmFja2Ryb3BfcGF0aCB9KSA9PiB7XHJcblx0XHRjb25zdCBpbWdTcmMgPSBiYWNrZHJvcF9wYXRoO1xyXG5cdFx0Y29uc3QgaW1hZ2VCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19pbWctYm94XCJdKTtcclxuXHRcdGNvbnN0IGltYWdlID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtbWFpbl9faW1nXCJdLCB7XHJcblx0XHRcdGFsdDogYCR7XHJcblx0XHRcdFx0dHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy5jYXJvdXNlbGxJbWFnZXM/LmFyaWEuY2Fyb3VzZWxsSW1hZ2VBbHRcclxuXHRcdFx0fSAke3RpdGxlIHx8IG5hbWV9YCxcclxuXHRcdFx0c3JjOiBpbWdTcmNcclxuXHRcdFx0XHQ/IGdldEltYWdlVXJsKGltZ1NyYywgXCJvcmlnaW5hbFwiKVxyXG5cdFx0XHRcdDogXCIuL2Rpc3QvaW1nL2ltZy1wbGFjZWhvbGRlci5zdmdcIixcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgdGV4dEJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX3RleHQtYm94XCJdKTtcclxuXHRcdGNvbnN0IGZpbG1UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMlwiLCBbXCJicm93c2UtbWFpbl9fY2Fyb3VzZWxsLXRpdGxlXCJdKTtcclxuXHRcdGNvbnN0IGZpbG1JbmZvID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC1vdmVydmlld1wiXSwge1xyXG5cdFx0XHR0YWJpbmRleDogLTEsXHJcblx0XHR9KTtcclxuXHJcblx0XHRmaWxtVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHRcdGZpbG1JbmZvLnRleHRDb250ZW50ID0gb3ZlcnZpZXc7XHJcblxyXG5cdFx0dGV4dEJveC5hcHBlbmQoZmlsbVRpdGxlLCBmaWxtSW5mbywgY3JlYXRlQWN0aW9uQnV0dG9ucyhpZCwgdHJhbnNsYXRpb25zKSk7XHJcblx0XHRpbWFnZUJveC5hcHBlbmQoaW1hZ2UsIHRleHRCb3gpO1xyXG5cdFx0aW1hZ2VzSW5zaWRlU2xpZGVyLmFwcGVuZChpbWFnZUJveCk7XHJcblx0XHRpbWFnZXNDYXJvdXNlbGwuYXBwZW5kKGltYWdlc0luc2lkZVNsaWRlcik7XHJcblxyXG5cdFx0YnJvd3NlTWFpblNlY3Rpb24uYXBwZW5kKGltYWdlc0Nhcm91c2VsbCk7XHJcblx0XHRicm93c2VNYWluLmFwcGVuZChicm93c2VNYWluU2VjdGlvbik7XHJcblx0fSk7XHJcblx0cGFyZW50LmFwcGVuZChicm93c2VNYWluKTtcclxuXHJcblx0aW1hZ2VzQ2Fyb3VzZWxsLmFwcGVuZChjcmVhdGVDYXJvdXNlbGxDb250cm9scyhtb3ZpZXMsIHRyYW5zbGF0aW9ucykpO1xyXG59O1xyXG5jb25zdCBjcmVhdGVBY3Rpb25CdXR0b25zID0gKFxyXG5cdGlkLFxyXG5cdHtcclxuXHRcdGJyb3dzZVBhZ2U6IHtcclxuXHRcdFx0YWN0aW9uQnRuczogeyB0cmFpbGVyQnRuVGV4dCwgbW9yZUluZm9CdG5UZXh0IH0sXHJcblx0XHR9LFxyXG5cdH1cclxuKSA9PiB7XHJcblx0Y29uc3QgYWN0aW9uQnRuc1BhbmVsID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9fYWN0aW9uLWJ0bnNcIl0pO1xyXG5cdGNvbnN0IHNob3dUcmFpbGVyQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJicm93c2UtbWFpbl9fdHJhaWxlci1idG5cIl0sIHtcclxuXHRcdFwiZGF0YS10cmFpbGVyXCI6IGlkLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHNob3dUcmFpbGVyVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1tYWluX19zZWUtdHJhaWxlclwiXSk7XHJcblx0Y29uc3Qgc2VlTW9yZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1tYWluX19zZWUtbW9yZS1idG5cIl0sIHtcclxuXHRcdFwiZGF0YS1tb3ZpZVwiOiBpZCxcclxuXHRcdGhyZWY6IGBleHBsb3JlLmh0bWw/aWQ9JHtpZH0mdHlwZT1tb3ZpZWAsXHJcblx0fSk7XHJcblxyXG5cdHNob3dUcmFpbGVyVGV4dC50ZXh0Q29udGVudCA9IHRyYWlsZXJCdG5UZXh0O1xyXG5cdHNlZU1vcmVCdG4udGV4dENvbnRlbnQgPSBtb3JlSW5mb0J0blRleHQ7XHJcblxyXG5cdHNob3dUcmFpbGVyQnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwiYnJvd3NlLW1haW5fX3RyYWlsZXItcGxheS1pY29uXCJcclxuXHR4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCJcclxuXHR2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIiMwMDBcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiXHJcblx0c3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcclxuXHRjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1wbGF5XCI+XHJcblx0PHBvbHlnb24gcG9pbnRzPVwiNSAzIDE5IDEyIDUgMjEgNSAzXCI+PC9wb2x5Z29uPlxyXG5cdDwvc3ZnPmA7XHJcblxyXG5cdHNob3dUcmFpbGVyQnRuLmFwcGVuZChzaG93VHJhaWxlclRleHQpO1xyXG5cclxuXHRhY3Rpb25CdG5zUGFuZWwuYXBwZW5kKHNob3dUcmFpbGVyQnRuLCBzZWVNb3JlQnRuKTtcclxuXHJcblx0cmV0dXJuIGFjdGlvbkJ0bnNQYW5lbDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcm91c2VsbENvbnRyb2xzID0gKFxyXG5cdG1vdmllcyxcclxuXHR7XHJcblx0XHRicm93c2VQYWdlOiB7XHJcblx0XHRcdGNhcm91c2VsbEJ0bnM6IHsgYXJpYSB9LFxyXG5cdFx0fSxcclxuXHR9XHJcbikgPT4ge1xyXG5cdGNvbnN0IGNhcm91c2VsbENvbnRyb2xzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtY29udHJvbHNcIixcclxuXHRdKTtcclxuXHJcblx0bW92aWVzLmZvckVhY2goKG1vdmllLCBpbmRleCkgPT4ge1xyXG5cdFx0Y29uc3QgY2Fyb3VzZWxsQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJicm93c2UtbWFpbl9fYnRuXCJdLCB7XHJcblx0XHRcdFwiZGF0YS1pbWdcIjogaW5kZXgsXHJcblx0XHRcdFwiYXJpYS1sYWJlbFwiOiBgJHthcmlhfSAke2luZGV4fWAsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IGNhcm91c2VsbEJ0blByb2dyZXNzQmFyID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1xyXG5cdFx0XHRcImJyb3dzZS1tYWluX19wcm9ncmVzcy1iYXJcIixcclxuXHRcdF0pO1xyXG5cclxuXHRcdGNhcm91c2VsbEJ0bi5hcHBlbmQoY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIpO1xyXG5cclxuXHRcdGNhcm91c2VsbENvbnRyb2xzLmFwcGVuZChjYXJvdXNlbGxCdG4pO1xyXG5cdH0pO1xyXG5cdHJldHVybiBjYXJvdXNlbGxDb250cm9scztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWxtU2xpZGVyID0gKGZpbG1zLCB0cmFuc2xhdGlvbnMsIGluZGV4LCB0aXRsZSwgdHlwZSkgPT4ge1xyXG5cdGNvbnN0IHByb3BlckZpbG1zID0gZmlsbXNbaW5kZXhdPy5yZXN1bHRzIHx8IFtdO1xyXG5cdGlmICghcHJvcGVyRmlsbXMubGVuZ3RoKSB7XHJcblx0XHRjb25zb2xlLmVycm9yKGBObyBmaWxtcyBmb3VuZCBmb3IgaW5kZXggJHtpbmRleH1gKTtcclxuXHRcdHNob3dFcnJvclBvcHVwKGBObyBmaWxtcyBmb3VuZCBmb3IgaW5kZXggJHtpbmRleH1gLCBcIiNkYzRhMzRcIik7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRjb25zdCBicm93c2VTZWN0aW9uID0gY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgW1wiYnJvd3NlLXNlY3Rpb25cIl0pO1xyXG5cdGNvbnN0IHNlY3Rpb25UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBbXCJicm93c2Utc2VjdGlvbl9fdGl0bGVcIl0pO1xyXG5cdGNvbnN0IHNlY3Rpb25TbGlkZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXJcIl0sIHtcclxuXHRcdFwiZGF0YS1pbmRleFwiOiAwLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHNlY3Rpb25JbWFnZXMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItaW1hZ2VzXCJdKTtcclxuXHJcblx0Y29uc3Qgc2hvd1ByZXZTbGlkZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG5cIiwgXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLXByZXYtYnRuXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5zaG93UHJldlNsaWRlQnRuLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3Qgc2hvd05leHRTbGlkZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG5cIiwgXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLW5leHQtYnRuXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5zaG93TmV4dFNsaWRlQnRuIH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dQcmV2U2xpZGVJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0bi1pY29uXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2hldnJvbi1sZWZ0LnN2Z1wiLFxyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dOZXh0U2xpZGVJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0bi1pY29uXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2hldnJvbi1yaWdodC5zdmdcIixcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHJcblx0c2VjdGlvblRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdHNob3dOZXh0U2xpZGVCdG4uYXBwZW5kKHNob3dOZXh0U2xpZGVJY29uKTtcclxuXHRzaG93UHJldlNsaWRlQnRuLmFwcGVuZChzaG93UHJldlNsaWRlSWNvbik7XHJcblxyXG5cdGNyZWF0ZUZpbG1Qb3N0ZXJzKHByb3BlckZpbG1zLCB0cmFuc2xhdGlvbnMsIHNlY3Rpb25JbWFnZXMsIHR5cGUpO1xyXG5cclxuXHRzZWN0aW9uU2xpZGVyLmFwcGVuZChzZWN0aW9uSW1hZ2VzLCBzaG93UHJldlNsaWRlQnRuLCBzaG93TmV4dFNsaWRlQnRuKTtcclxuXHRicm93c2VTZWN0aW9uLmFwcGVuZChzZWN0aW9uVGl0bGUsIHNlY3Rpb25TbGlkZXIpO1xyXG5cclxuXHRyZXR1cm4gYnJvd3NlU2VjdGlvbjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUZpbG1Qb3N0ZXJzID0gKHByb3BlckZpbG1zLCB0cmFuc2xhdGlvbnMsIHBhcmVudCwgdHlwZSkgPT4ge1xyXG5cdHByb3BlckZpbG1zLmZvckVhY2goKHsgaWQsIHRpdGxlLCBuYW1lLCBwb3N0ZXJfcGF0aCwgbWVkaWFfdHlwZSB9KSA9PiB7XHJcblx0XHRjb25zdCBpbWdTcmMgPSBwb3N0ZXJfcGF0aDtcclxuXHRcdGNvbnN0IHNlY3Rpb25Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYm94XCJdKTtcclxuXHJcblx0XHRjb25zdCBzZWN0aW9uTGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiYVwiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWltZy1saW5rXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aHJlZjogYGV4cGxvcmUuaHRtbD9pZD0ke2lkfSZ0eXBlPSR7bWVkaWFfdHlwZSB8fCB0eXBlfWAsXHJcblx0XHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd01vcmVJbmZvQWJvdXRGaWxtLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvbkZpbG1Qb3N0ZXIgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImltZ1wiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWltZ1wiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGFsdDogYCR7XHJcblx0XHRcdFx0XHR0cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LmNhcm91c2VsbEltYWdlcz8uYXJpYT8uY2Fyb3VzZWxsSW1hZ2VBbHRcclxuXHRcdFx0XHR9ICR7dGl0bGUgfHwgbmFtZX1gLFxyXG5cdFx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRcdHdpZHRoOiBcIlwiLFxyXG5cdFx0XHRcdGhlaWdodDogXCJcIixcclxuXHRcdFx0XHRzcmM6IGltZ1NyY1xyXG5cdFx0XHRcdFx0PyBnZXRJbWFnZVVybChpbWdTcmMsIFwib3JpZ2luYWxcIilcclxuXHRcdFx0XHRcdDogXCIuL2Rpc3QvaW1nL2ltZy1wbGFjZWhvbGRlci5zdmdcIixcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25BZGRUb0xpc3RCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImJ1dHRvblwiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fYWRkLXRvLWxpc3QtYnRuXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uYWRkVG9MaXN0QnRuLFxyXG5cdFx0XHRcdFwiZGF0YS1tb3ZpZVwiOiBpZCxcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25BZGRUb0xpc3RJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJpbWdcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWljb25cIl0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvYWRkLXByb2ZpbGUuc3ZnXCIsXHJcblx0XHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uVG9vbHRpcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1zZWN0aW9uX190b29sdGlwXCJdKTtcclxuXHJcblx0XHRzZWN0aW9uVG9vbHRpcC50ZXh0Q29udGVudCA9IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uaW5mbztcclxuXHJcblx0XHRzZWN0aW9uQWRkVG9MaXN0QnRuLmFwcGVuZChzZWN0aW9uQWRkVG9MaXN0SWNvbik7XHJcblxyXG5cdFx0c2VjdGlvbkxpbmsuYXBwZW5kKHNlY3Rpb25GaWxtUG9zdGVyKTtcclxuXHJcblx0XHRzZWN0aW9uQm94LmFwcGVuZChzZWN0aW9uTGluaywgc2VjdGlvbkFkZFRvTGlzdEJ0biwgc2VjdGlvblRvb2x0aXApO1xyXG5cclxuXHRcdHBhcmVudC5hcHBlbmQoc2VjdGlvbkJveCk7XHJcblx0fSk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZU92ZXJsYXkgPSAoKSA9PiB7XHJcblx0Y29uc3Qgb3ZlcmxheSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wib3ZlcmxheVwiXSk7XHJcblxyXG5cdHJldHVybiBvdmVybGF5O1xyXG59O1xyXG5jb25zdCBzaG93VXNlclBhbmVsID0gKHVzZXJCb3gpID0+IHtcclxuXHRjb25zdCBwYW5lbCA9IHVzZXJCb3gubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cdHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJ2aXNpYmxlXCIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb3NlQWxsTm90Q2xpY2tlZCA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5icm93c2UtaGVhZGVyX191c2VyLXBhbmVsXCIpO1xyXG5cdGNvbnN0IHVzZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJyb3dzZS1oZWFkZXJfX3VzZXJcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdHVzZXJQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpICYmXHJcblx0XHRlLnRhcmdldCAhPT0gdXNlclBhbmVsICYmXHJcblx0XHRlLnRhcmdldCAhPT0gdXNlckJ0biAmJlxyXG5cdFx0IXVzZXJQYW5lbC5jb250YWlucyhlLnRhcmdldClcclxuXHQpXHJcblx0XHR1c2VyUGFuZWwuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRm91ckNhdGVnb3JpZXMgPSAoe1xyXG5cdGJyb3dzZVBhZ2U6IHtcclxuXHRcdGNhdGVnb3JpZXM6IHsgYW5pbWF0aW9ucywgaG9ycm9yLCBjb21lZHksIGZhbnRhc3kgfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgY2F0ZWdvcmllc1NlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXCJjYXRlZ29yaWVzXCJdKTtcclxuXHRjb25zdCBjYXRlZ29yaWVzQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJjYXRlZ29yaWVzX19ib3hcIl0pO1xyXG5cclxuXHRjb25zdCBjYXRlZ29yeUFuaW1hdGVkQ2FyZCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZFwiLFxyXG5cdFx0XCJjYXRlZ29yaWVzX19ib3gtY2FyZC0tYW5pbWF0aW9uc1wiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGNhdGVnb3J5RmFudGFzeUNhcmQgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmRcIixcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmQtLWZhbnRhc3lcIixcclxuXHRdKTtcclxuXHRjb25zdCBjYXRlZ29yeUhvcnJvckNhcmQgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmRcIixcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmQtLWhvcnJvcnNcIixcclxuXHRdKTtcclxuXHRjb25zdCBjYXRlZ29yeUNvbWVkeUNhcmQgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmRcIixcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmQtLWNvbWVkeVwiLFxyXG5cdF0pO1xyXG5cclxuXHRjb25zdCBjYXRlZ29yeUFuaW1hdGVkTGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImFcIixcclxuXHRcdFtcImNhdGVnb3JpZXNfX2JveC1saW5rXCIsIFwiY2F0ZWdvcmllc19fYm94LWxpbmstLWFuaW1hdGlvbnNcIl0sXHJcblx0XHR7IGhyZWY6IFwiY2F0ZWdvcmllcy5odG1sP2NhdGVnb3J5PWFuaW1hdGVkXCIgfVxyXG5cdCk7XHJcblx0Y29uc3QgY2F0ZWdvcnlGYW50YXN5TGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImFcIixcclxuXHRcdFtcImNhdGVnb3JpZXNfX2JveC1saW5rXCIsIFwiY2F0ZWdvcmllc19fYm94LWxpbmstLWZhbnRhc3lcIl0sXHJcblx0XHR7IGhyZWY6IFwiY2F0ZWdvcmllcy5odG1sP2NhdGVnb3J5PWZhbnRhc3lcIiB9XHJcblx0KTtcclxuXHRjb25zdCBjYXRlZ29yeUhvcnJvckxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXCJjYXRlZ29yaWVzX19ib3gtbGlua1wiLCBcImNhdGVnb3JpZXNfX2JveC1saW5rLS1ob3Jyb3JzXCJdLFxyXG5cdFx0eyBocmVmOiBcImNhdGVnb3JpZXMuaHRtbD9jYXRlZ29yeT1ob3Jyb3JcIiB9XHJcblx0KTtcclxuXHRjb25zdCBjYXRlZ29yeUNvbWVkeUxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXCJjYXRlZ29yaWVzX19ib3gtbGlua1wiLCBcImNhdGVnb3JpZXNfX2JveC1saW5rLS1jb21lZHlcIl0sXHJcblx0XHR7IGhyZWY6IFwiY2F0ZWdvcmllcy5odG1sP2NhdGVnb3J5PWNvbWVkeVwiIH1cclxuXHQpO1xyXG5cclxuXHRjYXRlZ29yeUFuaW1hdGVkTGluay50ZXh0Q29udGVudCA9IGFuaW1hdGlvbnM7XHJcblx0Y2F0ZWdvcnlGYW50YXN5TGluay50ZXh0Q29udGVudCA9IGZhbnRhc3k7XHJcblx0Y2F0ZWdvcnlIb3Jyb3JMaW5rLnRleHRDb250ZW50ID0gaG9ycm9yO1xyXG5cdGNhdGVnb3J5Q29tZWR5TGluay50ZXh0Q29udGVudCA9IGNvbWVkeTtcclxuXHJcblx0Y2F0ZWdvcnlBbmltYXRlZENhcmQuYXBwZW5kKGNhdGVnb3J5QW5pbWF0ZWRMaW5rKTtcclxuXHRjYXRlZ29yeUZhbnRhc3lDYXJkLmFwcGVuZChjYXRlZ29yeUZhbnRhc3lMaW5rKTtcclxuXHRjYXRlZ29yeUhvcnJvckNhcmQuYXBwZW5kKGNhdGVnb3J5SG9ycm9yTGluayk7XHJcblx0Y2F0ZWdvcnlDb21lZHlDYXJkLmFwcGVuZChjYXRlZ29yeUNvbWVkeUxpbmspO1xyXG5cclxuXHRjYXRlZ29yaWVzQm94LmFwcGVuZChcclxuXHRcdGNhdGVnb3J5QW5pbWF0ZWRDYXJkLFxyXG5cdFx0Y2F0ZWdvcnlGYW50YXN5Q2FyZCxcclxuXHRcdGNhdGVnb3J5SG9ycm9yQ2FyZCxcclxuXHRcdGNhdGVnb3J5Q29tZWR5Q2FyZFxyXG5cdCk7XHJcblxyXG5cdGNhdGVnb3JpZXNTZWN0aW9uLmFwcGVuZChjYXRlZ29yaWVzQm94KTtcclxuXHJcblx0cmV0dXJuIGNhdGVnb3JpZXNTZWN0aW9uO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNwZWNpZmllZFNlY3Rpb25Qb3N0ZXIgPSAoZmlsbXNBcnIsIHRyYW5zbGF0aW9ucykgPT4ge1xyXG5cdGNvbnN0IG1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJzcGVjaWZpZWQtY2F0ZWdvcnlfX21haW5cIl0pO1xyXG5cdGNvbnN0IHNlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXCJzcGVjaWZpZWQtY2F0ZWdvcnlcIl0pO1xyXG5cdGNvbnN0IHNlY3Rpb25Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwic3BlY2lmaWVkLWNhdGVnb3J5X19jb250YWluZXJcIixcclxuXHRdKTtcclxuXHJcblx0ZmlsbXNBcnIuZm9yRWFjaCgoYXJyLCBpbmRleCkgPT4ge1xyXG5cdFx0aWYgKCFhcnIpIHJldHVybjtcclxuXHJcblx0XHRhcnIuZm9yRWFjaCgoeyBpZCwgdGl0bGUsIG5hbWUsIHBvc3Rlcl9wYXRoIH0pID0+IHtcclxuXHRcdFx0Y29uc3QgdHlwZSA9IGluZGV4ID09PSAwID8gXCJtb3ZpZVwiIDogXCJ0dlwiO1xyXG5cdFx0XHRjb25zdCBpbWdTcmMgPSBwb3N0ZXJfcGF0aDtcclxuXHJcblx0XHRcdGNvbnN0IHNlY3Rpb25JdGVtID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJzcGVjaWZpZWQtY2F0ZWdvcnlfX2l0ZW1cIl0pO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VjdGlvbkxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJzcGVjaWZpZWQtY2F0ZWdvcnlfX2xpbmtcIl0sIHtcclxuXHRcdFx0XHRocmVmOiBgZXhwbG9yZS5odG1sP2lkPSR7aWR9JnR5cGU9JHt0eXBlfWAsXHJcblx0XHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd01vcmVJbmZvQWJvdXRGaWxtLFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IHNlY3Rpb25Qb3N0ZXIgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWdcIl0sXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YWx0OiBgJHtcclxuXHRcdFx0XHRcdFx0dHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy5jYXJvdXNlbGxJbWFnZXM/LmFyaWE/LmNhcm91c2VsbEltYWdlQWx0XHJcblx0XHRcdFx0XHR9ICR7dGl0bGUgfHwgbmFtZX1gLFxyXG5cdFx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdFx0XHRzcmM6IGltZ1NyY1xyXG5cdFx0XHRcdFx0XHQ/IGdldEltYWdlVXJsKGltZ1NyYywgXCJvcmlnaW5hbFwiKVxyXG5cdFx0XHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VjdGlvbkFkZFRvTGlzdEJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJidXR0b25cIixcclxuXHRcdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fYWRkLXRvLWxpc3QtYnRuXCJdLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LmFkZFRvTGlzdEJ0bixcclxuXHRcdFx0XHRcdFwiZGF0YS1tb3ZpZVwiOiBpZCxcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0SWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFx0XCJpbWdcIixcclxuXHRcdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fYWRkLXRvLWxpc3QtaWNvblwiXSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9hZGQtcHJvZmlsZS5zdmdcIixcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zdCBzZWN0aW9uVG9vbHRpcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1zZWN0aW9uX190b29sdGlwXCJdKTtcclxuXHRcdFx0c2VjdGlvblRvb2x0aXAudGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmluZm87XHJcblxyXG5cdFx0XHRzZWN0aW9uQWRkVG9MaXN0QnRuLmFwcGVuZChzZWN0aW9uQWRkVG9MaXN0SWNvbik7XHJcblx0XHRcdHNlY3Rpb25MaW5rLmFwcGVuZChzZWN0aW9uUG9zdGVyKTtcclxuXHRcdFx0c2VjdGlvbkl0ZW0uYXBwZW5kKHNlY3Rpb25MaW5rLCBzZWN0aW9uQWRkVG9MaXN0QnRuLCBzZWN0aW9uVG9vbHRpcCk7XHJcblx0XHRcdHNlY3Rpb25Db250YWluZXIuYXBwZW5kKHNlY3Rpb25JdGVtKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRzZWN0aW9uLmFwcGVuZChzZWN0aW9uQ29udGFpbmVyKTtcclxuXHRtYWluLmFwcGVuZChzZWN0aW9uKTtcclxuXHJcblx0cmV0dXJuIG1haW47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRXhwbG9yZUhlcm9TZWN0aW9uID0gKFxyXG5cdHsgdGl0bGUsIG5hbWUsIGlkLCBiYWNrZHJvcF9wYXRoLCBvdmVydmlldyB9LFxyXG5cdHRyYW5zbGF0aW9uc1xyXG4pID0+IHtcclxuXHRjb25zdCBtYWluQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJleHBsb3JlX19maWxtLXBvc3RlclwiXSk7XHJcblx0Y29uc3QgY29udGVudEJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiZXhwbG9yZV9fZmlsbS1jb250ZW50XCJdKTtcclxuXHRjb25zdCBtYWluVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIiwgW1wiZXhwbG9yZV9fZmlsbS10aXRsZVwiLCBcImFuaW1hdGVkXCJdKTtcclxuXHRjb25zdCBkZXNjcmlwdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImV4cGxvcmVfX2ZpbG0taW5mb1wiLCBcImFuaW1hdGVkXCJdKTtcclxuXHRjb25zdCB0cmFpbGVyQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXHJcblx0XHRcImV4cGxvcmVfX2ZpbG0tc2hvdy10cmFpbGVyLWJ0blwiLFxyXG5cdFx0XCJhbmltYXRlZFwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGltZ1NyYyA9IGJhY2tkcm9wX3BhdGg7XHJcblx0Y29uc3QgYWRkVG9MaXN0QnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJleHBsb3JlX19maWxtLWFkZC10by1saXN0LWJ0blwiLCBcImFuaW1hdGVkXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5hZGRUb0xpc3RCdG4sXHJcblx0XHRcdFwiZGF0YS1tb3ZpZVwiOiBpZCxcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IGJhY2tCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImV4cGxvcmVfX2JhY2stYnRuXCIsIFwiYW5pbWF0ZWRcIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnMuZXhwbG9yZS5iYWNrQnV0dG9uLFxyXG5cdH0pO1xyXG5cclxuXHRtYWluVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZSB8fCBuYW1lO1xyXG5cdGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gb3ZlcnZpZXc7XHJcblx0dHJhaWxlckJ0bi50ZXh0Q29udGVudCA9IHRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8uYWN0aW9uQnRucz8udHJhaWxlckJ0blRleHQ7XHJcblx0YWRkVG9MaXN0QnRuLmlubmVySFRNTCA9IGA8aW1nIGNsYXNzPVwiZXhwbG9yZV9fZmlsbS1hZGQtaWNvblwiIHNyYz1cIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGFsdD1cIlwiIGxvYWRpbmc9XCJsYXp5XCI+YDtcclxuXHRiYWNrQnRuLmlubmVySFRNTCA9IGA8aW1nIGNsYXNzPVwiZXhwbG9yZV9fYmFjay1idG4taWNvblwiIHNyYz1cIi4vc3JjL2ljb25zL2NoZXZyb24tbGVmdC5zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBhbHQ9XCJcIiBsb2FkaW5nPVwibGF6eVwiPmA7XHJcblxyXG5cdG1haW5Cb3guc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtcclxuXHRcdGltZ1NyYyA/IGdldEltYWdlVXJsKGltZ1NyYywgXCJvcmlnaW5hbFwiKSA6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCJcclxuXHR9JylgO1xyXG5cclxuXHRiYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRoaXN0b3J5LmJhY2soKTtcclxuXHR9KTtcclxuXHJcblx0Y29udGVudEJveC5hcHBlbmQobWFpblRpdGxlLCBkZXNjcmlwdGlvbiwgdHJhaWxlckJ0biwgYWRkVG9MaXN0QnRuLCBiYWNrQnRuKTtcclxuXHRtYWluQm94LmFwcGVuZChjb250ZW50Qm94KTtcclxuXHRyZXR1cm4gbWFpbkJveDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTZWFyY2hFbmdpbmUgPSAodHJhbnNsYXRpb25zKSA9PiB7XHJcblx0Y29uc3Qgc2VhcmNoRW5naW5lQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJzZWFyY2gtZW5naW5lX19ib3hcIl0pO1xyXG5cdGNvbnN0IHNlYXJjaEVuZ2luZSA9IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBbXCJzZWFyY2gtZW5naW5lX19pbnB1dFwiXSwge1xyXG5cdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRwbGFjZWhvbGRlcjogdHJhbnNsYXRpb25zPy5zZWFyY2hFbmdpbmU/LnBsYWNlaG9sZGVyLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHNlYXJjaEVuZ2luZUljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcInNlYXJjaC1lbmdpbmVfX2ljb25cIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9zZWFyY2gtaWNvbi5zdmdcIixcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdH0pO1xyXG5cclxuXHRzZWFyY2hFbmdpbmVCb3guYXBwZW5kKHNlYXJjaEVuZ2luZSwgc2VhcmNoRW5naW5lSWNvbik7XHJcblxyXG5cdHJldHVybiBzZWFyY2hFbmdpbmVCb3g7XHJcbn07XHJcblxyXG4iXX0=
