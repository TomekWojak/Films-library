import{verifyCredentials}from"./firebase-auth.min.js";import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_POPUP_TIME=2500;export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("Invalid user data. Resetting storage.","#dc4a34"),new Error("Invalid data structure");return t}catch{return localStorage.removeItem("userData"),showErrorPopup("Error accessing user data. Please try again.","#dc4a34"),{}}};const getCurrentDate=()=>(new Date).getFullYear();export const createFooter=({header:{alt:{logo:e}}})=>{const t=getCurrentDate(),r=createElement("footer",["browse-footer"]),n=createElement("span",["browse-footer__logo"]),a=createElement("img",["browse-footer__img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),o=createElement("p",["browse-footer__info"]);return n.textContent="Stream",n.prepend(a),o.textContent=`Â©${t} Stream corporation | All rights reserved.`,r.append(n,o),r};export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},n,a,o,s)=>{const i=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),i.append(l);const m=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),p=createElement("span",["login-header__lang-platform-lang"]),g=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),_=createElement("ul",["login-header__lang-list"]);for(let e=0;e<n;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(a)[e],n=Object.values(a)[e];t.dataset.lang=r,t.textContent=n,t.style.animationDelay=100*e+"ms",_.append(t)}return p.textContent=a[o],m.addEventListener("click",e=>{s.call(m,e,p)}),m.append(p,g,_),i.append(m),i};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:n},placeholder:{username:a,password:o}}})=>{const s=createElement("main",["main"]),i=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),m=createElement("p",["main__text"]),p=createElement("form",["main__form"]),g=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:a}),_=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o}),u=createElement("button",["main__form-button"],{type:"submit"}),h=createElement("span",["main__form-button-text"]),f=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,m.textContent=r,h.textContent=n,l.append(c,d),u.append(h),p.append(g,_,u,f),i.append(l,m,p),s.append(i),u.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t),handleLoginValidation(e,g,_,translations.main.text.errorRequired,translations.main.text.errorInvalid,f).then(e=>{e||(setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html")})}),s};const handleLoginValidation=async(e,t,r,n,a,o)=>{if(e.preventDefault(),""===t.value.trim()||""===r.value.trim())return o.classList.add("visible"),o.textContent=n,n;const s=t.value.trim(),i=r.value.trim();e.target.disabled=!0,e.target.append(showSmallLoader()),o.classList.remove("visible");const l=await verifyCredentials(s,i);return hideSmallLoader(),e.target.disabled=!1,l.success?null:(o.classList.add("visible"),o.textContent=a,a)};export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:n,userBtnCustomize:a,removeUserInfo:o}},errorPopup:{text:{maxProfiles:s,emptyField:i}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),m=createElement("div",["wrapper"]),p=createElement("h1",["main__title","main-profiles__title"]),g=createElement("div",["main-profiles__box"]);if(p.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)g.append(createProfile(n,a,a,i,o,e,c[e]));g.append(createProfileAddBtn(r,t,n,g,a,a,s,i,o)),m.append(p,g),l.append(m),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,n,a,o=null,s=null)=>{const i=getData(),l=i?.userProfiles||{};if(null===i)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,m;const p=["#dc4a34","#062E63","#FAC044"];if(o){d=o,m=s.name;c=p[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,m=`Handsome User ${e}`,c=p[e-1]}const g=createElement("div",["main-profiles__profile"]),_=createElement("div",["main-profiles__avatar"]),u=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),h=createElement("div",["main-profiles__user-info"]),f=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:m}),b=createElement("span",["name-border"]),w=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),E=createElement("button",["main-profiles__remove-user"],{"aria-label":a}),v=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(u.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',u.style.backgroundColor=c,_.append(u),w.append(x),E.append(v),h.append(f,b,w,E),g.append(_,h),!o){const e={...l,[d]:{name:m}};setUserPreference("userProfiles",e,i)}return w.addEventListener("click",e=>{editUsername(e,h,r,n)}),E.addEventListener("click",e=>{removeUser(e)}),f.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,n)}),u.addEventListener("click",e=>setCurrentProfile(e)),g.classList.add("visible"),g},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,n,a,o,s,i,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),m=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),p=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),g=createElement("span",["main-profiles__name"]);return g.textContent=t,m.append(p),d.append(m),c.append(d,g),m.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(s,"#dc4a34");const d=createProfile(r,a,o,i,l);d&&n.insertBefore(d,c)}),c},editUsername=(e,t,r,n)=>{resetStateOfEditing(e);const a=e.target,o=a.closest(".main-profiles__profile").querySelector(".main-profiles__name"),s=createSaveBtn(r);a.classList.add("hidden"),s.classList.remove("hidden"),t.append(s),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),s.addEventListener("click",e=>{saveUsername(e,n)})},saveUsername=(e,t)=>{const r=getData(),n=r?.userProfiles||[],a=e.target.closest(".main-profiles__profile"),o=a.querySelector(".main-profiles__btn").dataset.id,s=a.querySelector(".main-profiles__name"),i=document.querySelectorAll(".main-profiles__edit-name");if(i.forEach(e=>e.removeAttribute("disabled")),""===s.value.trim())return i.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...n,[o]:{...n[o],name:s.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),n=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),n.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,n=document.querySelector(".container"),a=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),a.append(o),n.append(a),setTimeout(()=>{a.classList.add("hidden")},2e3),setTimeout(()=>{a.remove(),popupVisible=!1},2500)};export const createUserPanel=()=>{const e=getData();e||showErrorPopup("An unexpected error occurred","#dc4a34");const t=e?.currentProfile,r=e?.userProfiles[t]?.name,n=createElement("div",["browse-header__user-panel"]),a=createElement("p",["browse-header__user-info"]),o=createElement("span",["browse-header__username"]),s=createElement("hr",["browse-header__hr"]),i=createElement("ul",["browse-header__user-panel-list"]),l=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/settings-icon.svg",loading:"lazy"}),c=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/logout-icon.svg",loading:"lazy"}),d=createElement("li",["browse-header__user-panel-option"]),m=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--settings"],{href:""}),p=createElement("li",["browse-header__user-panel-option"]),g=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--logout"],{href:""});return o.textContent=r,a.textContent=e?.translations?.browsePage?.userPanel?.greeting,a.append(o),m.textContent=e?.translations?.browsePage?.userPanel?.settings,g.textContent=e?.translations?.browsePage?.userPanel?.login,m.append(l),g.append(c),d.append(m),p.append(g),i.append(d,p),n.append(a,s,i),n.addEventListener("click",e=>{e.target.matches(".browse-header__user-panel-link--logout")&&handleLogOut(e)}),n};const handleLogOut=e=>{e.preventDefault();const t=getData(),r=document.querySelector(".container");t&&(r.append(showBigLoader()),r.append(createOverlay()),setTimeout(()=>{hideBigLoader(),setUserPreference("loggedIn",!1),setUserPreference("currentProfile",null),window.location.href="index.html"},2500))},removeUser=e=>{const t=getData(),r=t?.userProfiles,n=document.querySelectorAll(".main-profiles__edit-name"),a=e.target.closest(".main-profiles__profile"),o=a.querySelector(".main-profiles__btn");n.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),a.classList.add("hidden"),setTimeout(()=>{a.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:n,myListLink:a,searchLink:o},aria:{userButton:s}}})=>{const i=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:""}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),i.append(l,createBrowserNav(r,n,a,o),createUserBtn(s),createUserPanel()),i};const createBrowserNav=(e,t,r,n)=>{const a=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:n,src:"./src/icons/search-icon.svg"}].forEach(e=>{const t=createElement("li",["browse-header__item"]),r=createElement("a",["browse-header__link"],{href:""}),n=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),a=createElement("span",["browse-header__link-text"]);a.textContent=e.name,r.append(n,a),t.append(r),o.append(t)}),a.append(o),a},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),n=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(n),t.append(r),r.addEventListener("click",()=>{showUserPanel(t)}),t};export const createMainHeroSection=(e,t,r)=>{const n=createElement("main",["browse-main"]),a=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),s=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:r,overview:i="",backdrop_path:l})=>{const c=l,d=createElement("div",["browse-main__img-box"]),m=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${r}`,src:c?getImageUrl(c,"original"):"./dist/img/img-placeholder.svg"}),p=createElement("div",["browse-main__text-box"]),g=createElement("h2",["browse-main__carousell-title"]),_=createElement("p",["browse-main__carousell-overview"],{tabindex:-1});g.textContent=r,_.textContent=i,p.append(g,_,createActionButtons(e,t)),d.append(m,p),s.append(d),o.append(s),a.append(o),n.append(a)}),r.append(n),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const n=createElement("div",["browse-main__action-btns"]),a=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e}),o=createElement("span",["browse-main__see-trailer"]),s=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:""});return o.textContent=t,s.textContent=r,a.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',a.append(o),n.append(a,s),n},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,n)=>{const a=createElement("button",["browse-main__btn"],{"data-img":n,"aria-label":`${t} ${n}`}),o=createElement("span",["browse-main__progress-bar"]);a.append(o),r.append(a)}),r};export const createFilmSlider=(e,t,r,n)=>{const a=e[r]?.results||[];if(!a.length)return console.error(`No films found for index ${r}`),void showErrorPopup(`No films found for index ${r}`,"#dc4a34");const o=createElement("section",["browse-section"]),s=createElement("h3",["browse-section__title"]),i=createElement("div",["browse-section__slider"],{"data-index":0}),l=createElement("div",["browse-section__slider-images"]),c=createElement("button",["browse-section__slider-btn","browse-section__slider-prev-btn"],{"aria-label":t?.browseSection?.aria?.showPrevSlideBtn}),d=createElement("button",["browse-section__slider-btn","browse-section__slider-next-btn"],{"aria-label":t?.browseSection?.aria?.showNextSlideBtn}),m=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-left.svg",width:"24",height:"24",loading:"lazy",alt:""}),p=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-right.svg",width:"24",height:"24",loading:"lazy",alt:""});return s.textContent=n,d.append(p),c.append(m),createFilmPosters(a,t,l),i.append(l,c,d),o.append(s,i),o};const createFilmPosters=(e,t,r)=>{e.forEach(({id:e,title:n,poster_path:a})=>{const o=a,s=createElement("div",["browse-section__slider-box"]),i=createElement("a",["browse-section__slider-img-link"],{href:"browse.html","aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),l=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${n}`,loading:"lazy",width:"",height:"",src:o?getImageUrl(o,"original"):"./dist/img/img-placeholder.svg"}),c=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),d=createElement("img",["browse-section__add-to-list-icon"],{src:"./src/icons/add-profile.svg",width:"24",height:"24",loading:"lazy",alt:""}),m=createElement("span",["browse-section__tooltip"]);m.textContent=t.browseSection.info,c.append(d),i.append(l),s.append(i,c,m),r.append(s)})},createOverlay=()=>createElement("div",["overlay"]),showUserPanel=e=>{e.nextElementSibling.classList.toggle("visible")};export const closeAllNotClicked=e=>{const t=document.querySelector(".browse-header__user-panel"),r=document.querySelector(".browse-header__user");t.classList.contains("visible")&&e.target!==t&&e.target!==r&&!t.contains(e.target)&&t.classList.remove("visible")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJ2ZXJpZnlDcmVkZW50aWFscyIsImNyZWF0ZUVsZW1lbnQiLCJnZXRJbWFnZVVybCIsInNldFVzZXJQcmVmZXJlbmNlIiwiSElERV9QT1BVUF9USU1FIiwiZ2V0RGF0YSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsInNob3dFcnJvclBvcHVwIiwiRXJyb3IiLCJyZW1vdmVJdGVtIiwiZ2V0Q3VycmVudERhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjcmVhdGVGb290ZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiY3VyckRhdGUiLCJmb290ZXIiLCJmb290ZXJMb2dvIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwiaW5mbyIsInRleHRDb250ZW50IiwicHJlcGVuZCIsImFwcGVuZCIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb1RleHQiLCJsYW5nU2VsZWN0IiwibGFuZ1BsYXRmb3JtTGFuZyIsImxhbmdBcnJvdyIsImxhbmdMaXN0IiwiaSIsImxhbmdDaG9pY2UiLCJ0YWJpbmRleCIsIk9iamVjdCIsImtleXMiLCJ0ZXh0IiwidmFsdWVzIiwiZGF0YXNldCIsImxhbmciLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjYWxsIiwiY3JlYXRlTG9naW5QYWdlIiwibWFpbiIsInRpdGxlIiwic3VidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbiIsInBsYWNlaG9sZGVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm1haW5Db250ZW50Iiwid3JhcHBlciIsImxvZ2luVGl0bGUiLCJsb2dpblRpdGxlVG9wIiwibG9naW5UaXRsZUJvdHRvbSIsImxvZ2luVGV4dCIsImZvcm0iLCJ1c2VybmFtZUlucHV0IiwidHlwZSIsInBhc3N3b3JkSW5wdXQiLCJzdWJtaXRCdG4iLCJidXR0b25UZXh0IiwiZXJyb3JUeHQiLCJ1c2VyRGF0YSIsImNob29zZW5MYW5nIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJoYW5kbGVMb2dpblZhbGlkYXRpb24iLCJ0cmFuc2xhdGlvbnMiLCJlcnJvclJlcXVpcmVkIiwiZXJyb3JJbnZhbGlkIiwidGhlbiIsInJlcyIsIndpbmRvdyIsImxvY2F0aW9uIiwiYXN5bmMiLCJyZXF1aXJlRXJyb3IiLCJpbnZhbGlkRXJyb3IiLCJwcmV2ZW50RGVmYXVsdCIsInZhbHVlIiwidHJpbSIsImNsYXNzTGlzdCIsImFkZCIsImVtYWlsVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJzaG93U21hbGxMb2FkZXIiLCJyZW1vdmUiLCJyZXN1bHQiLCJoaWRlU21hbGxMb2FkZXIiLCJzdWNjZXNzIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInNldFRpbWVvdXQiLCJwcm9maWxlc1BhZ2VNYWluIiwicHJvZmlsZXNUaXRsZSIsInByb2ZpbGVzQm94IiwibGVuZ3RoIiwia2V5IiwiY3JlYXRlUHJvZmlsZSIsImNyZWF0ZVByb2ZpbGVBZGRCdG4iLCJhcmlhSW5mbyIsInVzZXJCdG5JbmZvIiwic2F2ZUJ0bkFyaWEiLCJlbXB0eUZpZWxkRXJyb3IiLCJyZW1vdmVBcmlhIiwiZXhpc3RpbmdQcm9maWxlSWQiLCJleGlzdGluZ1Byb2ZpbGVOYW1lIiwiZXhpc3RpbmdQcm9maWxlcyIsInJlbG9hZCIsImNvbG9yIiwicHJvZmlsZUlkIiwicHJvZmlsZU5hbWUiLCJjb2xvcnMiLCJuYW1lIiwicGFyc2VJbnQiLCJzcGxpdCIsInBvcCIsIm5leHROdW1iZXIiLCJ1c2VyUHJvZmlsZSIsInVzZXJBdmF0YXJCb3giLCJ1c2VyUHJvZmlsZUluZm9Cb3giLCJ1c2VyUHJvZmlsZUluZm8iLCJyZWFkb25seSIsIm5hbWVCb3JkZXIiLCJlZGl0VXNlckluZm9CdG4iLCJyZW1vdmVVc2VyQnRuIiwicmVtb3ZlVXNlckljb24iLCJsb2FkaW5nIiwiZWRpdFVzZXJJbmZvSWNvbiIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZWRQcm9maWxlcyIsImVkaXRVc2VybmFtZSIsInJlbW92ZVVzZXIiLCJzYXZlVXNlcm5hbWUiLCJzZXRDdXJyZW50UHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiaWQiLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjcmVhdGVVc2VyUGFuZWwiLCJjdXJyZW50UHJvZmlsZSIsImN1cnJlbnRQcm9maWxlTmFtZSIsInVzZXJQYW5lbCIsInVzZXJJbmZvIiwiZGl2aWRlciIsInVzZXJQYW5lbExpc3QiLCJzZXR0aW5nc0ljb24iLCJsb2dvdXRJY29uIiwidXNlclBhbmVsU2V0dGluZ3MiLCJ1c2VyUGFuZWxTZXR0aW5nc0xpbmsiLCJ1c2VyUGFuZWxMb2dvdXQiLCJ1c2VyUGFuZWxMb2dvdXRMaW5rIiwiYnJvd3NlUGFnZSIsImdyZWV0aW5nIiwic2V0dGluZ3MiLCJsb2dpbiIsIm1hdGNoZXMiLCJoYW5kbGVMb2dPdXQiLCJjcmVhdGVPdmVybGF5IiwiY2xvc2VzdFByb2ZpbGVCdG4iLCJjcmVhdGVCcm93c2VQYWdlIiwibmFtZXMiLCJmaWxtTGluayIsInNlcmllc0xpbmsiLCJteUxpc3RMaW5rIiwic2VhcmNoTGluayIsInVzZXJCdXR0b24iLCJsb2dvTWFpbkxpbmsiLCJsb2dvTWFpbkltZyIsIm1haW5UaXRsZSIsImNyZWF0ZUJyb3dzZXJOYXYiLCJjcmVhdGVVc2VyQnRuIiwibmF2IiwibmF2TGlua3MiLCJsaW5rIiwibGlzdEl0ZW0iLCJsaW5rRWwiLCJpY29uIiwidXNlckJveCIsInVzZXJCdG4iLCJ1c2VySWNvbiIsInNob3dVc2VyUGFuZWwiLCJjcmVhdGVNYWluSGVyb1NlY3Rpb24iLCJtb3ZpZXMiLCJicm93c2VNYWluIiwiYnJvd3NlTWFpblNlY3Rpb24iLCJpbWFnZXNDYXJvdXNlbGwiLCJpbWFnZXNJbnNpZGVTbGlkZXIiLCJvdmVydmlldyIsImJhY2tkcm9wX3BhdGgiLCJpbWdTcmMiLCJpbWFnZUJveCIsImltYWdlIiwiY2Fyb3VzZWxsSW1hZ2VzIiwiY2Fyb3VzZWxsSW1hZ2VBbHQiLCJ0ZXh0Qm94IiwiZmlsbVRpdGxlIiwiZmlsbUluZm8iLCJjcmVhdGVBY3Rpb25CdXR0b25zIiwiY3JlYXRlQ2Fyb3VzZWxsQ29udHJvbHMiLCJhY3Rpb25CdG5zIiwidHJhaWxlckJ0blRleHQiLCJtb3JlSW5mb0J0blRleHQiLCJhY3Rpb25CdG5zUGFuZWwiLCJzaG93VHJhaWxlckJ0biIsInNob3dUcmFpbGVyVGV4dCIsInNlZU1vcmVCdG4iLCJjYXJvdXNlbGxCdG5zIiwiY2Fyb3VzZWxsQ29udHJvbHMiLCJtb3ZpZSIsImluZGV4IiwiY2Fyb3VzZWxsQnRuIiwiY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIiLCJjcmVhdGVGaWxtU2xpZGVyIiwiZmlsbXMiLCJwcm9wZXJGaWxtcyIsInJlc3VsdHMiLCJjb25zb2xlIiwiZXJyb3IiLCJicm93c2VTZWN0aW9uIiwic2VjdGlvblRpdGxlIiwic2VjdGlvblNsaWRlciIsInNlY3Rpb25JbWFnZXMiLCJzaG93UHJldlNsaWRlQnRuIiwic2hvd05leHRTbGlkZUJ0biIsInNob3dQcmV2U2xpZGVJY29uIiwic2hvd05leHRTbGlkZUljb24iLCJjcmVhdGVGaWxtUG9zdGVycyIsInBvc3Rlcl9wYXRoIiwic2VjdGlvbkJveCIsInNlY3Rpb25MaW5rIiwic2hvd01vcmVJbmZvQWJvdXRGaWxtIiwic2VjdGlvbkZpbG1Qb3N0ZXIiLCJzZWN0aW9uQWRkVG9MaXN0QnRuIiwiYWRkVG9MaXN0QnRuIiwic2VjdGlvbkFkZFRvTGlzdEljb24iLCJzZWN0aW9uVG9vbHRpcCIsIm5leHRFbGVtZW50U2libGluZyIsInRvZ2dsZSIsImNsb3NlQWxsTm90Q2xpY2tlZCIsImNvbnRhaW5zIl0sInNvdXJjZXMiOlsiY29tcG9uZW50cy5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLHNCQUF5QixnQ0FDekJDLGNBQWVDLGdCQUFtQiwwQkFDbENDLHNCQUF5QixnQ0FDbEMsTUFBTUMsZ0JBQWtCLFlBRWpCLE1BQU1DLFFBQVUsS0FDdEIsSUFDQyxNQUFNQyxFQUFPQyxhQUFhQyxRQUFRLFlB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ZW50IjpbImltcG9ydCB7IHZlcmlmeUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vZmlyZWJhc2UtYXV0aC5taW4uanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZ2V0SW1hZ2VVcmwgfSBmcm9tIFwiLi9oZWxwZXJzLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBzZXRVc2VyUHJlZmVyZW5jZSB9IGZyb20gXCIuL3VwZGF0ZVN0YXRlRnVuY3Rpb25zLm1pbi5qc1wiO1xyXG5jb25zdCBISURFX1BPUFVQX1RJTUUgPSAyNTAwO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldERhdGEgPSAoKSA9PiB7XHJcblx0dHJ5IHtcclxuXHRcdGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJEYXRhXCIpO1xyXG5cdFx0aWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcclxuXHRcdGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG5cdFx0aWYgKHR5cGVvZiBwYXJzZWREYXRhICE9PSBcIm9iamVjdFwiIHx8IHBhcnNlZERhdGEgPT09IG51bGwpIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAoXCJJbnZhbGlkIHVzZXIgZGF0YS4gUmVzZXR0aW5nIHN0b3JhZ2UuXCIsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIHN0cnVjdHVyZVwiKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBwYXJzZWREYXRhO1xyXG5cdH0gY2F0Y2gge1xyXG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyRGF0YVwiKTtcclxuXHRcdHNob3dFcnJvclBvcHVwKFwiRXJyb3IgYWNjZXNzaW5nIHVzZXIgZGF0YS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0cmV0dXJuIHt9O1xyXG5cdH1cclxufTtcclxuY29uc3QgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiB7XHJcblx0Y29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcblxyXG5cdHJldHVybiBjdXJyZW50RGF0ZTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvb3RlciA9ICh7XHJcblx0aGVhZGVyOiB7XHJcblx0XHRhbHQ6IHsgbG9nbyB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBjdXJyRGF0ZSA9IGdldEN1cnJlbnREYXRlKCk7XHJcblxyXG5cdGNvbnN0IGZvb3RlciA9IGNyZWF0ZUVsZW1lbnQoXCJmb290ZXJcIiwgW1wiYnJvd3NlLWZvb3RlclwiXSk7XHJcblx0Y29uc3QgZm9vdGVyTG9nbyA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1mb290ZXJfX2xvZ29cIl0pO1xyXG5cdGNvbnN0IGxvZ29JbWcgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1mb290ZXJfX2ltZ1wiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ28uc3ZnXCIsXHJcblx0XHRhbHQ6IGAke2xvZ299YCxcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHR9KTtcclxuXHRjb25zdCBpbmZvID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiYnJvd3NlLWZvb3Rlcl9faW5mb1wiXSk7XHJcblxyXG5cdGZvb3RlckxvZ28udGV4dENvbnRlbnQgPSBcIlN0cmVhbVwiO1xyXG5cdGZvb3RlckxvZ28ucHJlcGVuZChsb2dvSW1nKTtcclxuXHRpbmZvLnRleHRDb250ZW50ID0gYMKpJHtjdXJyRGF0ZX0gU3RyZWFtIGNvcnBvcmF0aW9uIHwgQWxsIHJpZ2h0cyByZXNlcnZlZC5gO1xyXG5cclxuXHRmb290ZXIuYXBwZW5kKGZvb3RlckxvZ28sIGluZm8pO1xyXG5cclxuXHRyZXR1cm4gZm9vdGVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZ2luSGVhZGVyID0gKFxyXG5cdHtcclxuXHRcdGhlYWRlcjoge1xyXG5cdFx0XHRhbHQ6IHsgbG9nbyB9LFxyXG5cdFx0XHRhcmlhOiB7IGxvZ29MaW5rLCBjaGFuZ2VMYW5ndWFnZUJ1dHRvbiB9LFxyXG5cdFx0fSxcclxuXHR9LFxyXG5cdGxhbmdBbW91bnQsXHJcblx0bGFuZ05hbWVzLFxyXG5cdGxhbmd1YWdlLFxyXG5cdGhhbmRsZUxhbmdTZWxlY3RcclxuKSA9PiB7XHJcblx0Ly8gbG9nb1xyXG5cdGNvbnN0IGhlYWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJoZWFkZXJcIiwgW1wiaGVhZGVyXCJdKTtcclxuXHRjb25zdCBwYWdlTG9nbyA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImhlYWRlcl9fbG9nb1wiLCBcImxvZ2luLWhlYWRlcl9fbG9nb1wiXSwge1xyXG5cdFx0aHJlZjogXCIvXCIsXHJcblx0XHRcImFyaWEtbGFiZWxcIjogYCR7bG9nb0xpbmt9YCxcclxuXHR9KTtcclxuXHRjb25zdCBsb2dvSW1nID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJoZWFkZXJfX2xvZ28taW1nXCIsIFwibG9naW4taGVhZGVyX19sb2dvLWltZ1wiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ28uc3ZnXCIsXHJcblx0XHRcdGFsdDogYCR7bG9nb31gLFxyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IGxvZ29UZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1xyXG5cdFx0XCJoZWFkZXJfX2xvZ28tdGV4dFwiLFxyXG5cdFx0XCJsb2dpbi1oZWFkZXJfX2xvZ28tdGV4dFwiLFxyXG5cdF0pO1xyXG5cdGxvZ29UZXh0LnRleHRDb250ZW50ID0gXCJTdHJlYW1cIjtcclxuXHRwYWdlTG9nby5hcHBlbmQobG9nb0ltZywgbG9nb1RleHQpO1xyXG5cdGhlYWRlci5hcHBlbmQocGFnZUxvZ28pO1xyXG5cdC8vIGVuZCBvZiBsb2dvXHJcblxyXG5cdC8vIGxhbmd1YWdlIHNlbGVjdG9yXHJcblx0Y29uc3QgbGFuZ1NlbGVjdCA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wibG9naW4taGVhZGVyX19sYW5nLXNlbGVjdFwiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGAke2NoYW5nZUxhbmd1YWdlQnV0dG9ufWAsXHJcblx0fSk7XHJcblx0Y29uc3QgbGFuZ1BsYXRmb3JtTGFuZyA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFwibG9naW4taGVhZGVyX19sYW5nLXBsYXRmb3JtLWxhbmdcIixcclxuXHRdKTtcclxuXHRjb25zdCBsYW5nQXJyb3cgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1hcnJvd1wiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tZG93bi5zdmdcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHR9KTtcclxuXHRjb25zdCBsYW5nTGlzdCA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctbGlzdFwiXSk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGFuZ0Ftb3VudDsgaSsrKSB7XHJcblx0XHRjb25zdCBsYW5nQ2hvaWNlID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1jaG9pY2VcIl0sIHtcclxuXHRcdFx0dGFiaW5kZXg6IDAsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IGRhdGEgPSBPYmplY3Qua2V5cyhsYW5nTmFtZXMpW2ldO1xyXG5cdFx0Y29uc3QgdGV4dCA9IE9iamVjdC52YWx1ZXMobGFuZ05hbWVzKVtpXTtcclxuXHJcblx0XHRsYW5nQ2hvaWNlLmRhdGFzZXQubGFuZyA9IGRhdGE7XHJcblx0XHRsYW5nQ2hvaWNlLnRleHRDb250ZW50ID0gdGV4dDtcclxuXHRcdGxhbmdDaG9pY2Uuc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBpICogMTAwICsgXCJtc1wiO1xyXG5cdFx0bGFuZ0xpc3QuYXBwZW5kKGxhbmdDaG9pY2UpO1xyXG5cdH1cclxuXHJcblx0bGFuZ1BsYXRmb3JtTGFuZy50ZXh0Q29udGVudCA9IGxhbmdOYW1lc1tsYW5ndWFnZV07XHJcblxyXG5cdGxhbmdTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRoYW5kbGVMYW5nU2VsZWN0LmNhbGwobGFuZ1NlbGVjdCwgZSwgbGFuZ1BsYXRmb3JtTGFuZyk7XHJcblx0fSk7XHJcblxyXG5cdGxhbmdTZWxlY3QuYXBwZW5kKGxhbmdQbGF0Zm9ybUxhbmcsIGxhbmdBcnJvdywgbGFuZ0xpc3QpO1xyXG5cdGhlYWRlci5hcHBlbmQobGFuZ1NlbGVjdCk7XHJcblxyXG5cdHJldHVybiBoZWFkZXI7XHJcblx0Ly8gZW5kIG9mIGxhbmd1YWdlIHNlbGVjdG9yXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTG9naW5QYWdlID0gKHtcclxuXHRtYWluOiB7XHJcblx0XHR0ZXh0OiB7IHRpdGxlLCBzdWJ0aXRsZSwgZGVzY3JpcHRpb24sIGJ1dHRvbiB9LFxyXG5cdFx0cGxhY2Vob2xkZXI6IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IG1haW5Db250ZW50ID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wibWFpblwiXSk7XHJcblx0Y29uc3Qgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wid3JhcHBlclwiXSk7XHJcblx0Y29uc3QgbG9naW5UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcclxuXHRjb25zdCBsb2dpblRpdGxlVG9wID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fdGl0bGVcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGVCb3R0b20gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX19zdWJ0aXRsZVwiXSk7XHJcblx0Y29uc3QgbG9naW5UZXh0ID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wibWFpbl9fdGV4dFwiXSk7XHJcblx0Y29uc3QgZm9ybSA9IGNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIFtcIm1haW5fX2Zvcm1cIl0pO1xyXG5cdGNvbnN0IHVzZXJuYW1lSW5wdXQgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbnB1dFwiLFxyXG5cdFx0W1wibWFpbl9fZm9ybS1pbnB1dFwiLCBcIm1haW5fX2Zvcm0taW5wdXQtLXVzZXJuYW1lXCJdLFxyXG5cdFx0eyB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IHVzZXJuYW1lIH1cclxuXHQpO1xyXG5cdGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbnB1dFwiLFxyXG5cdFx0W1wibWFpbl9fZm9ybS1pbnB1dFwiLCBcIm1haW5fX2Zvcm0taW5wdXQtLXBhc3N3b3JkXCJdLFxyXG5cdFx0eyB0eXBlOiBcInBhc3N3b3JkXCIsIHBsYWNlaG9sZGVyOiBwYXNzd29yZCB9XHJcblx0KTtcclxuXHRjb25zdCBzdWJtaXRCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcIm1haW5fX2Zvcm0tYnV0dG9uXCJdLCB7XHJcblx0XHR0eXBlOiBcInN1Ym1pdFwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGJ1dHRvblRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX19mb3JtLWJ1dHRvbi10ZXh0XCJdKTtcclxuXHJcblx0Y29uc3QgZXJyb3JUeHQgPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJtYWluX19mb3JtLWVycm9yLXR4dFwiXSk7XHJcblx0bG9naW5UaXRsZVRvcC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cdGxvZ2luVGl0bGVCb3R0b20udGV4dENvbnRlbnQgPSBzdWJ0aXRsZTtcclxuXHRsb2dpblRleHQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuXHRidXR0b25UZXh0LnRleHRDb250ZW50ID0gYnV0dG9uO1xyXG5cclxuXHRsb2dpblRpdGxlLmFwcGVuZChsb2dpblRpdGxlVG9wLCBsb2dpblRpdGxlQm90dG9tKTtcclxuXHRzdWJtaXRCdG4uYXBwZW5kKGJ1dHRvblRleHQpO1xyXG5cdGZvcm0uYXBwZW5kKHVzZXJuYW1lSW5wdXQsIHBhc3N3b3JkSW5wdXQsIHN1Ym1pdEJ0biwgZXJyb3JUeHQpO1xyXG5cclxuXHR3cmFwcGVyLmFwcGVuZChsb2dpblRpdGxlLCBsb2dpblRleHQsIGZvcm0pO1xyXG5cdG1haW5Db250ZW50LmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0c3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCBjaG9vc2VuTGFuZyA9IHVzZXJEYXRhPy5wcmVmZXJyZWRMYW5ndWFnZTtcclxuXHJcblx0XHRpZiAoIWNob29zZW5MYW5nKSB7XHJcblx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwicHJlZmVycmVkTGFuZ3VhZ2VcIiwgXCJwbFwiLCB1c2VyRGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aGFuZGxlTG9naW5WYWxpZGF0aW9uKFxyXG5cdFx0XHRlLFxyXG5cdFx0XHR1c2VybmFtZUlucHV0LFxyXG5cdFx0XHRwYXNzd29yZElucHV0LFxyXG5cdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9yUmVxdWlyZWQsXHJcblx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnRleHQuZXJyb3JJbnZhbGlkLFxyXG5cdFx0XHRlcnJvclR4dFxyXG5cdFx0KS50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0aWYgKCFyZXMpIHtcclxuXHRcdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInRyYW5zbGF0aW9uc1wiLCB0cmFuc2xhdGlvbnMsIHVzZXJEYXRhKTtcclxuXHRcdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcImxvZ2dlZEluXCIsIHRydWUsIHVzZXJEYXRhKTtcclxuXHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcInByb2ZpbGVzLmh0bWxcIjsgLy8gcHJ6ZWrFm2NpZSBuYSBzdHJvbsSZIHogcHJvZmlsYW1pXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gbWFpbkNvbnRlbnQ7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMb2dpblZhbGlkYXRpb24gPSBhc3luYyAoXHJcblx0ZSxcclxuXHR1c2VybmFtZUlucHV0LFxyXG5cdHBhc3N3b3JkSW5wdXQsXHJcblx0cmVxdWlyZUVycm9yLFxyXG5cdGludmFsaWRFcnJvcixcclxuXHRlcnJvclR4dFxyXG4pID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGlmICh1c2VybmFtZUlucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIiB8fCBwYXNzd29yZElucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0ZXJyb3JUeHQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHRlcnJvclR4dC50ZXh0Q29udGVudCA9IHJlcXVpcmVFcnJvcjtcclxuXHRcdHJldHVybiByZXF1aXJlRXJyb3I7XHJcblx0fVxyXG5cclxuXHRjb25zdCBlbWFpbFZhbHVlID0gdXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XHJcblx0Y29uc3QgcGFzc3dvcmRWYWx1ZSA9IHBhc3N3b3JkSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cclxuXHRlLnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XHJcblx0ZS50YXJnZXQuYXBwZW5kKHNob3dTbWFsbExvYWRlcigpKTtcclxuXHRlcnJvclR4dC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuXHJcblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdmVyaWZ5Q3JlZGVudGlhbHMoZW1haWxWYWx1ZSwgcGFzc3dvcmRWYWx1ZSk7XHJcblxyXG5cdGhpZGVTbWFsbExvYWRlcigpO1xyXG5cdGUudGFyZ2V0LmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcclxuXHRcdGVycm9yVHh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0ZXJyb3JUeHQudGV4dENvbnRlbnQgPSBpbnZhbGlkRXJyb3I7XHJcblx0XHRyZXR1cm4gaW52YWxpZEVycm9yO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd0JpZ0xvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibG9hZGluZy1hcmVhXCJdKTtcclxuXHRsb2FkaW5nQXJlYS5pbm5lckhUTUwgPSBgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImxvYWRlci1iaWdcIiB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIiB3aWR0aD1cIjEyMFwiIGhlaWdodD1cIjEyMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibG9hZGVyLWFjY2VudFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMC44XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiNzAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwLjRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImxvYWRpbmctY2lyY2xlLWJpZ1wiIHI9XCIzNVwiIGN4PVwiNjBcIiBjeT1cIjYwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgIDwvc3ZnPmA7XHJcblx0cmV0dXJuIGxvYWRpbmdBcmVhO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZUJpZ0xvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy1hcmVhXCIpO1xyXG5cdGxvYWRpbmdBcmVhPy5yZW1vdmUoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaG93U21hbGxMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImxvYWRpbmctYXJlYS1zbWFsbFwiXSk7XHJcblx0bG9hZGluZ0FyZWEuaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJsb2FkZXItc21hbGxcIiB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIiB3aWR0aD1cIjEyMFwiIGhlaWdodD1cIjEyMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibG9hZGVyLWFjY2VudC1zbWFsbFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjAuOFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjcwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjAuM1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImxvYWRpbmctY2lyY2xlLXNtYWxsXCIgcj1cIjEyXCIgY3g9XCI2MFwiIGN5PVwiNjBcIj48L2NpcmNsZT5cclxuICAgICAgICAgICAgPC9zdmc+YDtcclxuXHJcblx0cmV0dXJuIGxvYWRpbmdBcmVhO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZVNtYWxsTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkaW5nLWFyZWEtc21hbGxcIik7XHJcblx0bG9hZGluZ0FyZWEucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZmlsZXNQYWdlID0gKHtcclxuXHRwcm9maWxlczoge1xyXG5cdFx0dGV4dDogeyB0aXRsZSwgYWRkUHJvZmlsZUluZm8gfSxcclxuXHRcdGFyaWE6IHsgYWRkUHJvZmlsZUJ0biwgdXNlclByb2ZpbGVCdG4sIHVzZXJCdG5DdXN0b21pemUsIHJlbW92ZVVzZXJJbmZvIH0sXHJcblx0fSxcclxuXHRlcnJvclBvcHVwOiB7XHJcblx0XHR0ZXh0OiB7IG1heFByb2ZpbGVzLCBlbXB0eUZpZWxkIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlc0xpc3QgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzO1xyXG5cclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvbnN0IHByb2ZpbGVzUGFnZU1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJtYWluLXByb2ZpbGVzXCJdKTtcclxuXHRcdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNUaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMVwiLCBbXHJcblx0XHRcdFwibWFpbl9fdGl0bGVcIixcclxuXHRcdFx0XCJtYWluLXByb2ZpbGVzX190aXRsZVwiLFxyXG5cdFx0XSk7XHJcblx0XHRjb25zdCBwcm9maWxlc0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYm94XCJdKTtcclxuXHJcblx0XHRwcm9maWxlc1RpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdFx0aWYgKHVzZXJQcm9maWxlc0xpc3QgJiYgT2JqZWN0LmtleXModXNlclByb2ZpbGVzTGlzdCkubGVuZ3RoICE9PSAwKSB7XHJcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHVzZXJQcm9maWxlc0xpc3QpIHtcclxuXHRcdFx0XHRwcm9maWxlc0JveC5hcHBlbmQoXHJcblx0XHRcdFx0XHRjcmVhdGVQcm9maWxlKFxyXG5cdFx0XHRcdFx0XHR1c2VyUHJvZmlsZUJ0bixcclxuXHRcdFx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRcdFx0ZW1wdHlGaWVsZCxcclxuXHRcdFx0XHRcdFx0cmVtb3ZlVXNlckluZm8sXHJcblx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0dXNlclByb2ZpbGVzTGlzdFtrZXldXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cHJvZmlsZXNCb3guYXBwZW5kKFxyXG5cdFx0XHRjcmVhdGVQcm9maWxlQWRkQnRuKFxyXG5cdFx0XHRcdGFkZFByb2ZpbGVCdG4sXHJcblx0XHRcdFx0YWRkUHJvZmlsZUluZm8sXHJcblx0XHRcdFx0dXNlclByb2ZpbGVCdG4sXHJcblx0XHRcdFx0cHJvZmlsZXNCb3gsXHJcblx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHR1c2VyQnRuQ3VzdG9taXplLFxyXG5cdFx0XHRcdG1heFByb2ZpbGVzLFxyXG5cdFx0XHRcdGVtcHR5RmllbGQsXHJcblx0XHRcdFx0cmVtb3ZlVXNlckluZm9cclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHRcdHdyYXBwZXIuYXBwZW5kKHByb2ZpbGVzVGl0bGUsIHByb2ZpbGVzQm94KTtcclxuXHRcdHByb2ZpbGVzUGFnZU1haW4uYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuXHRcdGNvbnRhaW5lci5hcHBlbmQocHJvZmlsZXNQYWdlTWFpbik7XHJcblx0XHRoaWRlQmlnTG9hZGVyKCk7XHJcblx0fSwgNTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGUgPSAoXHJcblx0YXJpYUluZm8sXHJcblx0dXNlckJ0bkluZm8sXHJcblx0c2F2ZUJ0bkFyaWEsXHJcblx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdHJlbW92ZUFyaWEsXHJcblx0ZXhpc3RpbmdQcm9maWxlSWQgPSBudWxsLFxyXG5cdGV4aXN0aW5nUHJvZmlsZU5hbWUgPSBudWxsXHJcbikgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IGV4aXN0aW5nUHJvZmlsZXMgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzIHx8IHt9O1xyXG5cclxuXHRpZiAodXNlckRhdGEgPT09IG51bGwpIHtcclxuXHRcdHNob3dFcnJvclBvcHVwKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0fSwgSElERV9QT1BVUF9USU1FKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGxldCBjb2xvcjtcclxuXHRsZXQgcHJvZmlsZUlkO1xyXG5cdGxldCBwcm9maWxlTmFtZTtcclxuXHJcblx0Y29uc3QgY29sb3JzID0gW1wiI2RjNGEzNFwiLCBcIiMwNjJFNjNcIiwgXCIjRkFDMDQ0XCJdO1xyXG5cclxuXHRpZiAoZXhpc3RpbmdQcm9maWxlSWQpIHtcclxuXHRcdHByb2ZpbGVJZCA9IGV4aXN0aW5nUHJvZmlsZUlkO1xyXG5cdFx0cHJvZmlsZU5hbWUgPSBleGlzdGluZ1Byb2ZpbGVOYW1lLm5hbWU7XHJcblx0XHRjb25zdCBwcm9maWxlTnVtYmVyID0gcGFyc2VJbnQocHJvZmlsZUlkLnNwbGl0KFwiLVwiKS5wb3AoKSk7XHJcblx0XHRjb2xvciA9IGNvbG9yc1twcm9maWxlTnVtYmVyIC0gMV07XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChPYmplY3Qua2V5cyhleGlzdGluZ1Byb2ZpbGVzKS5sZW5ndGggPj0gMykgcmV0dXJuO1xyXG5cclxuXHRcdGxldCBuZXh0TnVtYmVyID0gMTtcclxuXHRcdHdoaWxlIChleGlzdGluZ1Byb2ZpbGVzW2B1c2VyLXByb2ZpbGUtJHtuZXh0TnVtYmVyfWBdKSB7XHJcblx0XHRcdG5leHROdW1iZXIrKztcclxuXHRcdH1cclxuXHJcblx0XHRwcm9maWxlSWQgPSBgdXNlci1wcm9maWxlLSR7bmV4dE51bWJlcn1gO1xyXG5cdFx0cHJvZmlsZU5hbWUgPSBgSGFuZHNvbWUgVXNlciAke25leHROdW1iZXJ9YDtcclxuXHRcdGNvbG9yID0gY29sb3JzW25leHROdW1iZXIgLSAxXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVzZXJQcm9maWxlID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19wcm9maWxlXCJdKTtcclxuXHRjb25zdCB1c2VyQXZhdGFyQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hdmF0YXJcIl0pO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJtYWluLXByb2ZpbGVzX19idG5cIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBhcmlhSW5mbyxcclxuXHRcdFwiZGF0YS1pZFwiOiBwcm9maWxlSWQsXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IHVzZXJQcm9maWxlSW5mb0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fdXNlci1pbmZvXCJdKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZUluZm8gPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgW1wibWFpbi1wcm9maWxlc19fbmFtZVwiXSwge1xyXG5cdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRyZWFkb25seTogdHJ1ZSxcclxuXHRcdHZhbHVlOiBwcm9maWxlTmFtZSxcclxuXHR9KTtcclxuXHRjb25zdCBuYW1lQm9yZGVyID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibmFtZS1ib3JkZXJcIl0pO1xyXG5cdGNvbnN0IGVkaXRVc2VySW5mb0J0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogdXNlckJ0bkluZm8gfVxyXG5cdCk7XHJcblx0Y29uc3QgcmVtb3ZlVXNlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fcmVtb3ZlLXVzZXJcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiByZW1vdmVBcmlhIH1cclxuXHQpO1xyXG5cdGNvbnN0IHJlbW92ZVVzZXJJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19yZW1vdmUtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvcmVtb3ZlLXByb2ZpbGUtaWNvbi5zdmdcIixcclxuXHR9KTtcclxuXHRjb25zdCBlZGl0VXNlckluZm9JY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19lZGl0LWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2VkaXQuc3ZnXCIsXHJcblx0fSk7XHJcblxyXG5cdHVzZXJQcm9maWxlQnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwibWFpbi1wcm9maWxlc19faW1nXCIgd2lkdGg9XCIxNTBcIiBoZWlnaHQ9XCIxNTBcIiB2aWV3Qm94PVwiMCAwIDIwMCAyMDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICA8Y2lyY2xlIGN4PVwiNzBcIiBjeT1cIjcwXCIgcj1cIjhcIiBmaWxsPVwid2hpdGVcIiAvPlxyXG4gICAgPGNpcmNsZSBjeD1cIjEzMFwiIGN5PVwiNzBcIiByPVwiOFwiIGZpbGw9XCJ3aGl0ZVwiIC8+XHJcbiAgICA8cGF0aCBkPVwiTTYwIDExMCBRMTAwIDE1MCAxNDAgMTEwXCIgc3Ryb2tlPVwid2hpdGVcIiBzdHJva2Utd2lkdGg9XCI2XCJcclxuICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiAvPlxyXG4gICAgPC9zdmc+YDtcclxuXHR1c2VyUHJvZmlsZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuXHJcblx0dXNlckF2YXRhckJveC5hcHBlbmQodXNlclByb2ZpbGVCdG4pO1xyXG5cdGVkaXRVc2VySW5mb0J0bi5hcHBlbmQoZWRpdFVzZXJJbmZvSWNvbik7XHJcblx0cmVtb3ZlVXNlckJ0bi5hcHBlbmQocmVtb3ZlVXNlckljb24pO1xyXG5cdHVzZXJQcm9maWxlSW5mb0JveC5hcHBlbmQoXHJcblx0XHR1c2VyUHJvZmlsZUluZm8sXHJcblx0XHRuYW1lQm9yZGVyLFxyXG5cdFx0ZWRpdFVzZXJJbmZvQnRuLFxyXG5cdFx0cmVtb3ZlVXNlckJ0blxyXG5cdCk7XHJcblx0dXNlclByb2ZpbGUuYXBwZW5kKHVzZXJBdmF0YXJCb3gsIHVzZXJQcm9maWxlSW5mb0JveCk7XHJcblxyXG5cdGlmICghZXhpc3RpbmdQcm9maWxlSWQpIHtcclxuXHRcdGNvbnN0IHVwZGF0ZWRQcm9maWxlcyA9IHtcclxuXHRcdFx0Li4uZXhpc3RpbmdQcm9maWxlcyxcclxuXHRcdFx0W3Byb2ZpbGVJZF06IHtcclxuXHRcdFx0XHRuYW1lOiBwcm9maWxlTmFtZSxcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1cGRhdGVkUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHR9XHJcblxyXG5cdGVkaXRVc2VySW5mb0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGVkaXRVc2VybmFtZShlLCB1c2VyUHJvZmlsZUluZm9Cb3gsIHNhdmVCdG5BcmlhLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdH0pO1xyXG5cdHJlbW92ZVVzZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRyZW1vdmVVc2VyKGUpO1xyXG5cdH0pO1xyXG5cclxuXHR1c2VyUHJvZmlsZUluZm8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuXHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcblx0XHRcdHNhdmVVc2VybmFtZShlLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHVzZXJQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gc2V0Q3VycmVudFByb2ZpbGUoZSkpO1xyXG5cclxuXHR1c2VyUHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRyZXR1cm4gdXNlclByb2ZpbGU7XHJcbn07XHJcbi8vIHd5YsOzciBwcm9maWx1XHJcbmNvbnN0IHNldEN1cnJlbnRQcm9maWxlID0gKGUpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBwcm9maWxlRGF0YSA9IGUudGFyZ2V0LmRhdGFzZXQuaWQ7XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwiY3VycmVudFByb2ZpbGVcIiwgcHJvZmlsZURhdGEsIHVzZXJEYXRhKTtcclxuXHJcblx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImJyb3dzZS5odG1sXCI7XHJcbn07XHJcbi8vIGtvbmllYyB3eWJvcnUgcHJvZmlsdVxyXG5cclxuY29uc3QgY3JlYXRlUHJvZmlsZUFkZEJ0biA9IChcclxuXHRhcmlhSW5mbyxcclxuXHRpbmZvLFxyXG5cdHVzZXJCdG5BcmlhLFxyXG5cdHByb2ZpbGVzQm94LFxyXG5cdHVzZXJCdG5JbmZvLFxyXG5cdHNhdmVCdG5BcmlhLFxyXG5cdG1heFByb2ZpbGVzRXJyb3IsXHJcblx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdHJlbW92ZUFyaWFcclxuKSA9PiB7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYWRkLXByb2ZpbGVcIl0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVBdmF0YXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2F2YXRhclwiXSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fYnRuXCIsIFwibWFpbi1wcm9maWxlc19fYnRuLS1hZGQtcHJvZmlsZVwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IGFyaWFJbmZvIH1cclxuXHQpO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVQbHVzSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fYWRkLWltZ1wiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUluZm8gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluLXByb2ZpbGVzX19uYW1lXCJdKTtcclxuXHJcblx0YWRkUHJvZmlsZUluZm8udGV4dENvbnRlbnQgPSBpbmZvO1xyXG5cclxuXHRhZGRQcm9maWxlQnRuLmFwcGVuZChhZGRQcm9maWxlUGx1c0ljb24pO1xyXG5cdGFkZFByb2ZpbGVBdmF0YXIuYXBwZW5kKGFkZFByb2ZpbGVCdG4pO1xyXG5cdGFkZFByb2ZpbGVCb3guYXBwZW5kKGFkZFByb2ZpbGVBdmF0YXIsIGFkZFByb2ZpbGVJbmZvKTtcclxuXHJcblx0YWRkUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCB7fTtcclxuXHJcblx0XHRpZiAoT2JqZWN0LmtleXMoZXhpc3RpbmdQcm9maWxlcykubGVuZ3RoID49IDMpIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAobWF4UHJvZmlsZXNFcnJvciwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcHJvZmlsZSA9IGNyZWF0ZVByb2ZpbGUoXHJcblx0XHRcdHVzZXJCdG5BcmlhLFxyXG5cdFx0XHR1c2VyQnRuSW5mbyxcclxuXHRcdFx0c2F2ZUJ0bkFyaWEsXHJcblx0XHRcdGVtcHR5RmllbGRFcnJvcixcclxuXHRcdFx0cmVtb3ZlQXJpYVxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAocHJvZmlsZSkge1xyXG5cdFx0XHRwcm9maWxlc0JveC5pbnNlcnRCZWZvcmUocHJvZmlsZSwgYWRkUHJvZmlsZUJveCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiBhZGRQcm9maWxlQm94O1xyXG59O1xyXG5cclxuY29uc3QgZWRpdFVzZXJuYW1lID0gKGUsIHBhcmVudCwgc2F2ZUJ0bkFyaWEsIGVtcHR5RmllbGRFcnJvcikgPT4ge1xyXG5cdHJlc2V0U3RhdGVPZkVkaXRpbmcoZSk7XHJcblxyXG5cdGNvbnN0IGVkaXRCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBuYW1lVG9FZGl0ID0gZWRpdEJ0blxyXG5cdFx0LmNsb3Nlc3QoXCIubWFpbi1wcm9maWxlc19fcHJvZmlsZVwiKVxyXG5cdFx0LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fbmFtZVwiKTtcclxuXHJcblx0Y29uc3Qgc2F2ZUJ0biA9IGNyZWF0ZVNhdmVCdG4oc2F2ZUJ0bkFyaWEpO1xyXG5cclxuXHRlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c2F2ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRwYXJlbnQuYXBwZW5kKHNhdmVCdG4pO1xyXG5cclxuXHRuYW1lVG9FZGl0LmZvY3VzKCk7XHJcblx0bmFtZVRvRWRpdC5zZWxlY3QoKTtcclxuXHRuYW1lVG9FZGl0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xyXG5cdG5hbWVUb0VkaXQuY2xhc3NMaXN0LmFkZChcImZvY3VzZWRcIik7XHJcblxyXG5cdHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRzYXZlVXNlcm5hbWUoZSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHNhdmVVc2VybmFtZSA9IChlLCBlbXB0eUZpZWxkRXJyb3IpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCBbXTtcclxuXHJcblx0Y29uc3Qgc2F2ZUJ0biA9IGUudGFyZ2V0O1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlID0gc2F2ZUJ0bi5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIik7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVJZCA9IGNsb3Nlc3RQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fYnRuXCIpXHJcblx0XHQuZGF0YXNldC5pZDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZU5hbWUgPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIubWFpbi1wcm9maWxlc19fbmFtZVwiXHJcblx0KTtcclxuXHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG5cclxuXHRpZiAoY2xvc2VzdFByb2ZpbGVOYW1lLnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSkpO1xyXG5cdFx0cmV0dXJuIHNob3dFcnJvclBvcHVwKGVtcHR5RmllbGRFcnJvciwgXCIjRkFDMDQ0XCIpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgdXBkYXRlZFByb2ZpbGVzID0ge1xyXG5cdFx0Li4uZXhpc3RpbmdQcm9maWxlcyxcclxuXHRcdFtjbG9zZXN0UHJvZmlsZUlkXToge1xyXG5cdFx0XHQuLi5leGlzdGluZ1Byb2ZpbGVzW2Nsb3Nlc3RQcm9maWxlSWRdLFxyXG5cdFx0XHRuYW1lOiBjbG9zZXN0UHJvZmlsZU5hbWUudmFsdWUsXHJcblx0XHR9LFxyXG5cdH07XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVwZGF0ZWRQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cclxuXHRyZXNldFN0YXRlT2ZFZGl0aW5nKGUpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlU2F2ZUJ0biA9IChzYXZlQnRuQXJpYSkgPT4ge1xyXG5cdGNvbnN0IHNhdmVVc2VySW5mb0J0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fc2F2ZS1uYW1lXCIsIFwiaGlkZGVuXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogc2F2ZUJ0bkFyaWEgfVxyXG5cdCk7XHJcblx0Y29uc3Qgc2F2ZVVzZXJJbmZvSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fc2F2ZS1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9zYXZlLnN2Z1wiLFxyXG5cdH0pO1xyXG5cclxuXHRzYXZlVXNlckluZm9CdG4uYXBwZW5kKHNhdmVVc2VySW5mb0ljb24pO1xyXG5cclxuXHRyZXR1cm4gc2F2ZVVzZXJJbmZvQnRuO1xyXG59O1xyXG5cclxuY29uc3QgcmVzZXRTdGF0ZU9mRWRpdGluZyA9IChlKSA9PiB7XHJcblx0Y29uc3QgZm9jdXNlZE5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb2N1c2VkXCIpO1xyXG5cdGNvbnN0IGFsbFNhdmVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19zYXZlLW5hbWVcIik7XHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0Zm9jdXNlZE5hbWVzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLCB0cnVlKTtcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c2VkXCIpO1xyXG5cdFx0ZWwuYmx1cigpO1xyXG5cdH0pO1xyXG5cdGFsbFNhdmVCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIikpO1xyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIikpO1xyXG59O1xyXG5cclxubGV0IHBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG5leHBvcnQgY29uc3Qgc2hvd0Vycm9yUG9wdXAgPSAodGV4dCwgY29sb3IpID0+IHtcclxuXHRpZiAocG9wdXBWaXNpYmxlKSByZXR1cm47XHJcblx0cG9wdXBWaXNpYmxlID0gdHJ1ZTtcclxuXHJcblx0Y29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0Y29uc3QgcG9wdXAgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImVycm9yLXBvcHVwXCJdKTtcclxuXHRjb25zdCBwb3B1cEVycm9yID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiZXJyb3ItcG9wdXBfX3RleHRcIl0pO1xyXG5cclxuXHRwb3B1cEVycm9yLnRleHRDb250ZW50ID0gdGV4dDtcclxuXHRyb290LnN0eWxlLnNldFByb3BlcnR5KFwiLS1lcnJvclR4dENvbG9yXCIsIGNvbG9yKTtcclxuXHJcblx0cG9wdXAuYXBwZW5kKHBvcHVwRXJyb3IpO1xyXG5cdGNvbnRhaW5lci5hcHBlbmQocG9wdXApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0fSwgMjAwMCk7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwb3B1cC5yZW1vdmUoKTtcclxuXHRcdHBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG5cdH0sIEhJREVfUE9QVVBfVElNRSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlclBhbmVsID0gKCkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cclxuXHRpZiAoIXVzZXJEYXRhKSBzaG93RXJyb3JQb3B1cChcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiwgXCIjZGM0YTM0XCIpO1xyXG5cclxuXHRjb25zdCBjdXJyZW50UHJvZmlsZSA9IHVzZXJEYXRhPy5jdXJyZW50UHJvZmlsZTtcclxuXHRjb25zdCBjdXJyZW50UHJvZmlsZU5hbWUgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzW2N1cnJlbnRQcm9maWxlXT8ubmFtZTtcclxuXHJcblx0Y29uc3QgdXNlclBhbmVsID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsXCJdKTtcclxuXHRjb25zdCB1c2VySW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXItaW5mb1wiXSk7XHJcblx0Y29uc3QgdXNlcm5hbWUgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX191c2VybmFtZVwiXSk7XHJcblx0Y29uc3QgZGl2aWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJoclwiLCBbXCJicm93c2UtaGVhZGVyX19oclwiXSk7XHJcblx0Y29uc3QgdXNlclBhbmVsTGlzdCA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpc3RcIl0pO1xyXG5cclxuXHRjb25zdCBzZXR0aW5nc0ljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImJyb3dzZS1oZWFkZXJfX2ljb25cIiwgXCJicm93c2UtaGVhZGVyX19pY29uLXNldHRpbmdzXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvc2V0dGluZ3MtaWNvbi5zdmdcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBsb2dvdXRJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ291dC1pY29uLnN2Z1wiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHRjb25zdCB1c2VyUGFuZWxTZXR0aW5ncyA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsU2V0dGluZ3NMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1xyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGlua1wiLFxyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGluay0tc2V0dGluZ3NcIixcclxuXHRcdF0sXHJcblx0XHR7IGhyZWY6IFwiXCIgfVxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHVzZXJQYW5lbExvZ291dCA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsTG9nb3V0TGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImFcIixcclxuXHRcdFtcclxuXHRcdFx0XCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmtcIixcclxuXHRcdFx0XCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmstLWxvZ291dFwiLFxyXG5cdFx0XSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHJcblx0dXNlcm5hbWUudGV4dENvbnRlbnQgPSBjdXJyZW50UHJvZmlsZU5hbWU7XHJcblx0dXNlckluZm8udGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5ncmVldGluZztcclxuXHR1c2VySW5mby5hcHBlbmQodXNlcm5hbWUpO1xyXG5cclxuXHR1c2VyUGFuZWxTZXR0aW5nc0xpbmsudGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5zZXR0aW5ncztcclxuXHR1c2VyUGFuZWxMb2dvdXRMaW5rLnRleHRDb250ZW50ID1cclxuXHRcdHVzZXJEYXRhPy50cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LnVzZXJQYW5lbD8ubG9naW47XHJcblxyXG5cdHVzZXJQYW5lbFNldHRpbmdzTGluay5hcHBlbmQoc2V0dGluZ3NJY29uKTtcclxuXHR1c2VyUGFuZWxMb2dvdXRMaW5rLmFwcGVuZChsb2dvdXRJY29uKTtcclxuXHJcblx0dXNlclBhbmVsU2V0dGluZ3MuYXBwZW5kKHVzZXJQYW5lbFNldHRpbmdzTGluayk7XHJcblx0dXNlclBhbmVsTG9nb3V0LmFwcGVuZCh1c2VyUGFuZWxMb2dvdXRMaW5rKTtcclxuXHJcblx0dXNlclBhbmVsTGlzdC5hcHBlbmQodXNlclBhbmVsU2V0dGluZ3MsIHVzZXJQYW5lbExvZ291dCk7XHJcblxyXG5cdHVzZXJQYW5lbC5hcHBlbmQodXNlckluZm8sIGRpdmlkZXIsIHVzZXJQYW5lbExpc3QpO1xyXG5cclxuXHR1c2VyUGFuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQubWF0Y2hlcyhcIi5icm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmstLWxvZ291dFwiKSkge1xyXG5cdFx0XHRoYW5kbGVMb2dPdXQoZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiB1c2VyUGFuZWw7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMb2dPdXQgPSAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGlmICghdXNlckRhdGEpIHJldHVybjtcclxuXHJcblx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cdGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlT3ZlcmxheSgpKVxyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGhpZGVCaWdMb2FkZXIoKTtcclxuXHRcdHNldFVzZXJQcmVmZXJlbmNlKFwibG9nZ2VkSW5cIiwgZmFsc2UpO1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJjdXJyZW50UHJvZmlsZVwiLCBudWxsKTtcclxuXHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJpbmRleC5odG1sXCI7XHJcblx0fSwgSElERV9QT1BVUF9USU1FKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVVzZXIgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXM7XHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0Y29uc3QgZGVsZXRlQnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGUgPSBkZWxldGVCdG4uY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlQnRuID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2ZpbGVzX19idG5cIik7XHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG5cclxuXHRkZWxldGUgdXNlclByb2ZpbGVzW2Nsb3Nlc3RQcm9maWxlQnRuLmRhdGFzZXQuaWRdO1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1c2VyUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHJcblx0Y2xvc2VzdFByb2ZpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjbG9zZXN0UHJvZmlsZS5yZW1vdmUoKTtcclxuXHR9LCA0MDApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUJyb3dzZVBhZ2UgPSAoe1xyXG5cdGhlYWRlcjoge1xyXG5cdFx0YWx0OiB7IGxvZ28gfSxcclxuXHRcdGFyaWE6IHsgbG9nb0xpbmsgfSxcclxuXHR9LFxyXG5cdGJyb3dzZVBhZ2U6IHtcclxuXHRcdG5hbWVzOiB7IGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rIH0sXHJcblx0XHRhcmlhOiB7IHVzZXJCdXR0b24gfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgaGVhZGVyID0gY3JlYXRlRWxlbWVudChcImhlYWRlclwiLCBbXCJicm93c2UtaGVhZGVyXCJdKTtcclxuXHRjb25zdCBsb2dvTWFpbkxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogbG9nb0xpbmssXHJcblx0XHRocmVmOiBcIlwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxvZ29NYWluSW1nID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvLWltZ1wiXSwge1xyXG5cdFx0YWx0OiBsb2dvLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ28uc3ZnXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbWFpblRpdGxlID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fbG9nby10ZXh0XCJdKTtcclxuXHJcblx0bWFpblRpdGxlLnRleHRDb250ZW50ID0gXCJTdHJlYW1cIjtcclxuXHJcblx0bG9nb01haW5MaW5rLmFwcGVuZChsb2dvTWFpbkltZywgbWFpblRpdGxlKTtcclxuXHRoZWFkZXIuYXBwZW5kKFxyXG5cdFx0bG9nb01haW5MaW5rLFxyXG5cdFx0Y3JlYXRlQnJvd3Nlck5hdihmaWxtTGluaywgc2VyaWVzTGluaywgbXlMaXN0TGluaywgc2VhcmNoTGluayksXHJcblx0XHRjcmVhdGVVc2VyQnRuKHVzZXJCdXR0b24pLFxyXG5cdFx0Y3JlYXRlVXNlclBhbmVsKClcclxuXHQpO1xyXG5cclxuXHRyZXR1cm4gaGVhZGVyO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQnJvd3Nlck5hdiA9IChmaWxtTGluaywgc2VyaWVzTGluaywgbXlMaXN0TGluaywgc2VhcmNoTGluaykgPT4ge1xyXG5cdGNvbnN0IG5hdiA9IGNyZWF0ZUVsZW1lbnQoXCJuYXZcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbmF2XCJdKTtcclxuXHRjb25zdCBuYXZMaW5rcyA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBbXCJicm93c2UtaGVhZGVyX19saW5rc1wiXSk7XHJcblxyXG5cdGNvbnN0IGxpbmtOYW1lcyA9IFtcclxuXHRcdHtcclxuXHRcdFx0bmFtZTogZmlsbUxpbmssXHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9maWxtLWljb24uc3ZnXCIsXHJcblx0XHR9LFxyXG5cdFx0eyBuYW1lOiBzZXJpZXNMaW5rLCBzcmM6IFwiLi9zcmMvaWNvbnMvc2VyaWVzLWljb24uc3ZnXCIgfSxcclxuXHRcdHtcclxuXHRcdFx0bmFtZTogbXlMaXN0TGluayxcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xpc3QtaWNvbi5zdmdcIixcclxuXHRcdH0sXHJcblx0XHR7IG5hbWU6IHNlYXJjaExpbmssIHNyYzogXCIuL3NyYy9pY29ucy9zZWFyY2gtaWNvbi5zdmdcIiB9LFxyXG5cdF07XHJcblxyXG5cdGxpbmtOYW1lcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcblx0XHRjb25zdCBsaXN0SXRlbSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXCJicm93c2UtaGVhZGVyX19pdGVtXCJdKTtcclxuXHRcdGNvbnN0IGxpbmtFbCA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmtcIl0sIHsgaHJlZjogXCJcIiB9KTtcclxuXHRcdGNvbnN0IGljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmstaWNvblwiXSwge1xyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdHNyYzogbGluay5zcmMsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgdGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmstdGV4dFwiXSk7XHJcblxyXG5cdFx0dGV4dC50ZXh0Q29udGVudCA9IGxpbmsubmFtZTtcclxuXHJcblx0XHRsaW5rRWwuYXBwZW5kKGljb24sIHRleHQpO1xyXG5cdFx0bGlzdEl0ZW0uYXBwZW5kKGxpbmtFbCk7XHJcblxyXG5cdFx0bmF2TGlua3MuYXBwZW5kKGxpc3RJdGVtKTtcclxuXHR9KTtcclxuXHJcblx0bmF2LmFwcGVuZChuYXZMaW5rcyk7XHJcblxyXG5cdHJldHVybiBuYXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVc2VyQnRuID0gKHVzZXJCdG5BcmlhKSA9PiB7XHJcblx0Y29uc3QgdXNlckJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1ib3hcIl0pO1xyXG5cdGNvbnN0IHVzZXJCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXJcIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiB1c2VyQnRuQXJpYSxcclxuXHR9KTtcclxuXHRjb25zdCB1c2VySWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy91c2VyLWljb24uc3ZnXCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0fSk7XHJcblxyXG5cdHVzZXJCdG4uYXBwZW5kKHVzZXJJY29uKTtcclxuXHR1c2VyQm94LmFwcGVuZCh1c2VyQnRuKTtcclxuXHJcblx0dXNlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0c2hvd1VzZXJQYW5lbCh1c2VyQm94KTtcclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIHVzZXJCb3g7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTWFpbkhlcm9TZWN0aW9uID0gKG1vdmllcywgdHJhbnNsYXRpb25zLCBwYXJlbnQpID0+IHtcclxuXHRjb25zdCBicm93c2VNYWluID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wiYnJvd3NlLW1haW5cIl0pO1xyXG5cdGNvbnN0IGJyb3dzZU1haW5TZWN0aW9uID0gY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgW1xyXG5cdFx0XCJicm93c2UtbWFpbl9faGVyby1zZWN0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgaW1hZ2VzQ2Fyb3VzZWxsID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19pbWFnZS1jYXJvdXNlbGxcIixcclxuXHRdKTtcclxuXHRjb25zdCBpbWFnZXNJbnNpZGVTbGlkZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19pbWFnZXNcIl0pO1xyXG5cdG1vdmllcy5mb3JFYWNoKCh7IGlkLCB0aXRsZSwgb3ZlcnZpZXcgPSBcIlwiLCBiYWNrZHJvcF9wYXRoIH0pID0+IHtcclxuXHRcdGNvbnN0IGltZ1NyYyA9IGJhY2tkcm9wX3BhdGg7XHJcblx0XHRjb25zdCBpbWFnZUJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2ltZy1ib3hcIl0pO1xyXG5cdFx0Y29uc3QgaW1hZ2UgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1tYWluX19pbWdcIl0sIHtcclxuXHRcdFx0YWx0OiBgJHt0cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LmNhcm91c2VsbEltYWdlcz8uYXJpYS5jYXJvdXNlbGxJbWFnZUFsdH0gJHt0aXRsZX1gLFxyXG5cdFx0XHRzcmM6IGltZ1NyY1xyXG5cdFx0XHRcdD8gZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpXHJcblx0XHRcdFx0OiBcIi4vZGlzdC9pbWcvaW1nLXBsYWNlaG9sZGVyLnN2Z1wiLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCB0ZXh0Qm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9fdGV4dC1ib3hcIl0pO1xyXG5cdFx0Y29uc3QgZmlsbVRpdGxlID0gY3JlYXRlRWxlbWVudChcImgyXCIsIFtcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtdGl0bGVcIl0pO1xyXG5cdFx0Y29uc3QgZmlsbUluZm8gPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJicm93c2UtbWFpbl9fY2Fyb3VzZWxsLW92ZXJ2aWV3XCJdLCB7XHJcblx0XHRcdHRhYmluZGV4OiAtMSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZpbG1UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cdFx0ZmlsbUluZm8udGV4dENvbnRlbnQgPSBvdmVydmlldztcclxuXHJcblx0XHR0ZXh0Qm94LmFwcGVuZChmaWxtVGl0bGUsIGZpbG1JbmZvLCBjcmVhdGVBY3Rpb25CdXR0b25zKGlkLCB0cmFuc2xhdGlvbnMpKTtcclxuXHRcdGltYWdlQm94LmFwcGVuZChpbWFnZSwgdGV4dEJveCk7XHJcblx0XHRpbWFnZXNJbnNpZGVTbGlkZXIuYXBwZW5kKGltYWdlQm94KTtcclxuXHRcdGltYWdlc0Nhcm91c2VsbC5hcHBlbmQoaW1hZ2VzSW5zaWRlU2xpZGVyKTtcclxuXHJcblx0XHRicm93c2VNYWluU2VjdGlvbi5hcHBlbmQoaW1hZ2VzQ2Fyb3VzZWxsKTtcclxuXHRcdGJyb3dzZU1haW4uYXBwZW5kKGJyb3dzZU1haW5TZWN0aW9uKTtcclxuXHR9KTtcclxuXHRwYXJlbnQuYXBwZW5kKGJyb3dzZU1haW4pO1xyXG5cclxuXHRpbWFnZXNDYXJvdXNlbGwuYXBwZW5kKGNyZWF0ZUNhcm91c2VsbENvbnRyb2xzKG1vdmllcywgdHJhbnNsYXRpb25zKSk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUFjdGlvbkJ1dHRvbnMgPSAoXHJcblx0aWQsXHJcblx0e1xyXG5cdFx0YnJvd3NlUGFnZToge1xyXG5cdFx0XHRhY3Rpb25CdG5zOiB7IHRyYWlsZXJCdG5UZXh0LCBtb3JlSW5mb0J0blRleHQgfSxcclxuXHRcdH0sXHJcblx0fVxyXG4pID0+IHtcclxuXHRjb25zdCBhY3Rpb25CdG5zUGFuZWwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19hY3Rpb24tYnRuc1wiXSk7XHJcblx0Y29uc3Qgc2hvd1RyYWlsZXJCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1tYWluX190cmFpbGVyLWJ0blwiXSwge1xyXG5cdFx0XCJkYXRhLXRyYWlsZXJcIjogaWQsXHJcblx0fSk7XHJcblx0Y29uc3Qgc2hvd1RyYWlsZXJUZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLW1haW5fX3NlZS10cmFpbGVyXCJdKTtcclxuXHRjb25zdCBzZWVNb3JlQnRuID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLW1haW5fX3NlZS1tb3JlLWJ0blwiXSwge1xyXG5cdFx0XCJkYXRhLW1vdmllXCI6IGlkLFxyXG5cdFx0aHJlZjogXCJcIixcclxuXHR9KTtcclxuXHJcblx0c2hvd1RyYWlsZXJUZXh0LnRleHRDb250ZW50ID0gdHJhaWxlckJ0blRleHQ7XHJcblx0c2VlTW9yZUJ0bi50ZXh0Q29udGVudCA9IG1vcmVJbmZvQnRuVGV4dDtcclxuXHJcblx0c2hvd1RyYWlsZXJCdG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJicm93c2UtbWFpbl9fdHJhaWxlci1wbGF5LWljb25cIlxyXG5cdHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIlxyXG5cdHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiIzAwMFwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCJcclxuXHRzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxyXG5cdGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXBsYXlcIj5cclxuXHQ8cG9seWdvbiBwb2ludHM9XCI1IDMgMTkgMTIgNSAyMSA1IDNcIj48L3BvbHlnb24+XHJcblx0PC9zdmc+YDtcclxuXHJcblx0c2hvd1RyYWlsZXJCdG4uYXBwZW5kKHNob3dUcmFpbGVyVGV4dCk7XHJcblxyXG5cdGFjdGlvbkJ0bnNQYW5lbC5hcHBlbmQoc2hvd1RyYWlsZXJCdG4sIHNlZU1vcmVCdG4pO1xyXG5cclxuXHRyZXR1cm4gYWN0aW9uQnRuc1BhbmVsO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQ2Fyb3VzZWxsQ29udHJvbHMgPSAoXHJcblx0bW92aWVzLFxyXG5cdHtcclxuXHRcdGJyb3dzZVBhZ2U6IHtcclxuXHRcdFx0Y2Fyb3VzZWxsQnRuczogeyBhcmlhIH0sXHJcblx0XHR9LFxyXG5cdH1cclxuKSA9PiB7XHJcblx0Y29uc3QgY2Fyb3VzZWxsQ29udHJvbHMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC1jb250cm9sc1wiLFxyXG5cdF0pO1xyXG5cclxuXHRtb3ZpZXMuZm9yRWFjaCgobW92aWUsIGluZGV4KSA9PiB7XHJcblx0XHRjb25zdCBjYXJvdXNlbGxCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1tYWluX19idG5cIl0sIHtcclxuXHRcdFx0XCJkYXRhLWltZ1wiOiBpbmRleCxcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IGAke2FyaWF9ICR7aW5kZXh9YCxcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcdFwiYnJvd3NlLW1haW5fX3Byb2dyZXNzLWJhclwiLFxyXG5cdFx0XSk7XHJcblxyXG5cdFx0Y2Fyb3VzZWxsQnRuLmFwcGVuZChjYXJvdXNlbGxCdG5Qcm9ncmVzc0Jhcik7XHJcblxyXG5cdFx0Y2Fyb3VzZWxsQ29udHJvbHMuYXBwZW5kKGNhcm91c2VsbEJ0bik7XHJcblx0fSk7XHJcblx0cmV0dXJuIGNhcm91c2VsbENvbnRyb2xzO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZpbG1TbGlkZXIgPSAoZmlsbXMsIHRyYW5zbGF0aW9ucywgaW5kZXgsIHRpdGxlKSA9PiB7XHJcblx0Y29uc3QgcHJvcGVyRmlsbXMgPSBmaWxtc1tpbmRleF0/LnJlc3VsdHMgfHwgW107XHJcblx0aWYgKCFwcm9wZXJGaWxtcy5sZW5ndGgpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoYE5vIGZpbG1zIGZvdW5kIGZvciBpbmRleCAke2luZGV4fWApO1xyXG5cdFx0c2hvd0Vycm9yUG9wdXAoYE5vIGZpbG1zIGZvdW5kIGZvciBpbmRleCAke2luZGV4fWAsIFwiI2RjNGEzNFwiKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGJyb3dzZVNlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXCJicm93c2Utc2VjdGlvblwiXSk7XHJcblx0Y29uc3Qgc2VjdGlvblRpdGxlID0gY3JlYXRlRWxlbWVudChcImgzXCIsIFtcImJyb3dzZS1zZWN0aW9uX190aXRsZVwiXSk7XHJcblx0Y29uc3Qgc2VjdGlvblNsaWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlclwiXSwge1xyXG5cdFx0XCJkYXRhLWluZGV4XCI6IDAsXHJcblx0fSk7XHJcblx0Y29uc3Qgc2VjdGlvbkltYWdlcyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWFnZXNcIl0pO1xyXG5cclxuXHRjb25zdCBzaG93UHJldlNsaWRlQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0blwiLCBcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItcHJldi1idG5cIl0sXHJcblx0XHR7XHJcblx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dQcmV2U2xpZGVCdG4sXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBzaG93TmV4dFNsaWRlQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0blwiLCBcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItbmV4dC1idG5cIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dOZXh0U2xpZGVCdG4gfVxyXG5cdCk7XHJcblx0Y29uc3Qgc2hvd1ByZXZTbGlkZUljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuLWljb25cIl0sXHJcblx0XHR7XHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9jaGV2cm9uLWxlZnQuc3ZnXCIsXHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3Qgc2hvd05leHRTbGlkZUljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuLWljb25cIl0sXHJcblx0XHR7XHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9jaGV2cm9uLXJpZ2h0LnN2Z1wiLFxyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHRzZWN0aW9uVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHJcblx0c2hvd05leHRTbGlkZUJ0bi5hcHBlbmQoc2hvd05leHRTbGlkZUljb24pO1xyXG5cdHNob3dQcmV2U2xpZGVCdG4uYXBwZW5kKHNob3dQcmV2U2xpZGVJY29uKTtcclxuXHJcblx0Y3JlYXRlRmlsbVBvc3RlcnMocHJvcGVyRmlsbXMsIHRyYW5zbGF0aW9ucywgc2VjdGlvbkltYWdlcyk7XHJcblxyXG5cdHNlY3Rpb25TbGlkZXIuYXBwZW5kKHNlY3Rpb25JbWFnZXMsIHNob3dQcmV2U2xpZGVCdG4sIHNob3dOZXh0U2xpZGVCdG4pO1xyXG5cdGJyb3dzZVNlY3Rpb24uYXBwZW5kKHNlY3Rpb25UaXRsZSwgc2VjdGlvblNsaWRlcik7XHJcblxyXG5cdHJldHVybiBicm93c2VTZWN0aW9uO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRmlsbVBvc3RlcnMgPSAocHJvcGVyRmlsbXMsIHRyYW5zbGF0aW9ucywgcGFyZW50KSA9PiB7XHJcblx0cHJvcGVyRmlsbXMuZm9yRWFjaCgoeyBpZCwgdGl0bGUsIHBvc3Rlcl9wYXRoIH0pID0+IHtcclxuXHRcdGNvbnN0IGltZ1NyYyA9IHBvc3Rlcl9wYXRoO1xyXG5cdFx0Y29uc3Qgc2VjdGlvbkJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1ib3hcIl0pO1xyXG5cclxuXHRcdGNvbnN0IHNlY3Rpb25MaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJhXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItaW1nLWxpbmtcIl0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRocmVmOiBcImJyb3dzZS5odG1sXCIsXHJcblx0XHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd01vcmVJbmZvQWJvdXRGaWxtLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvbkZpbG1Qb3N0ZXIgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImltZ1wiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWltZ1wiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGFsdDogYCR7dHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy5jYXJvdXNlbGxJbWFnZXM/LmFyaWE/LmNhcm91c2VsbEltYWdlQWx0fSAke3RpdGxlfWAsXHJcblx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdFx0d2lkdGg6IFwiXCIsXHJcblx0XHRcdFx0aGVpZ2h0OiBcIlwiLFxyXG5cdFx0XHRcdHNyYzogaW1nU3JjXHJcblx0XHRcdFx0XHQ/IGdldEltYWdlVXJsKGltZ1NyYywgXCJvcmlnaW5hbFwiKVxyXG5cdFx0XHRcdFx0OiBcIi4vZGlzdC9pbWcvaW1nLXBsYWNlaG9sZGVyLnN2Z1wiLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvbkFkZFRvTGlzdEJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiYnV0dG9uXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19hZGQtdG8tbGlzdC1idG5cIl0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5hZGRUb0xpc3RCdG4sXHJcblx0XHRcdFx0XCJkYXRhLW1vdmllXCI6IGlkLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvbkFkZFRvTGlzdEljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImltZ1wiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fYWRkLXRvLWxpc3QtaWNvblwiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9hZGQtcHJvZmlsZS5zdmdcIixcclxuXHRcdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25Ub29sdGlwID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3Rvb2x0aXBcIl0pO1xyXG5cclxuXHRcdHNlY3Rpb25Ub29sdGlwLnRleHRDb250ZW50ID0gdHJhbnNsYXRpb25zLmJyb3dzZVNlY3Rpb24uaW5mbztcclxuXHJcblx0XHRzZWN0aW9uQWRkVG9MaXN0QnRuLmFwcGVuZChzZWN0aW9uQWRkVG9MaXN0SWNvbik7XHJcblxyXG5cdFx0c2VjdGlvbkxpbmsuYXBwZW5kKHNlY3Rpb25GaWxtUG9zdGVyKTtcclxuXHJcblx0XHRzZWN0aW9uQm94LmFwcGVuZChzZWN0aW9uTGluaywgc2VjdGlvbkFkZFRvTGlzdEJ0biwgc2VjdGlvblRvb2x0aXApO1xyXG5cclxuXHRcdHBhcmVudC5hcHBlbmQoc2VjdGlvbkJveCk7XHJcblx0fSk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZU92ZXJsYXkgPSAoKSA9PiB7XHJcblx0Y29uc3Qgb3ZlcmxheSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wib3ZlcmxheVwiXSk7XHJcblxyXG5cdHJldHVybiBvdmVybGF5O1xyXG59O1xyXG5jb25zdCBzaG93VXNlclBhbmVsID0gKHVzZXJCb3gpID0+IHtcclxuXHRjb25zdCBwYW5lbCA9IHVzZXJCb3gubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cdHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJ2aXNpYmxlXCIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb3NlQWxsTm90Q2xpY2tlZCA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5icm93c2UtaGVhZGVyX191c2VyLXBhbmVsXCIpO1xyXG5cdGNvbnN0IHVzZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJyb3dzZS1oZWFkZXJfX3VzZXJcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdHVzZXJQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2aXNpYmxlXCIpICYmXHJcblx0XHRlLnRhcmdldCAhPT0gdXNlclBhbmVsICYmXHJcblx0XHRlLnRhcmdldCAhPT0gdXNlckJ0biAmJlxyXG5cdFx0IXVzZXJQYW5lbC5jb250YWlucyhlLnRhcmdldClcclxuXHQpXHJcblx0XHR1c2VyUGFuZWwuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbn07XHJcbiJdfQ==
