import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_LOADER_TIME=3e3,HIDE_POPUP_TIME=2500;export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("An unexpected error occurred","#dc4a34"),new Error("NieprawidÅ‚owa struktura danych");return t}catch{return localStorage.removeItem("userData"),{}}};const USERNAME="handsomeUser404",PASSWORD="123456789";export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},a,n,o,i)=>{const s=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),s.append(l);const m=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),p=createElement("span",["login-header__lang-platform-lang"]),_=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),g=createElement("ul",["login-header__lang-list"]);for(let e=0;e<a;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(n)[e],a=Object.values(n)[e];t.dataset.lang=r,t.textContent=a,t.style.animationDelay=100*e+"ms",g.append(t)}return p.textContent=n[o],m.addEventListener("click",e=>{i.call(m,e,p)}),m.append(p,_,g),s.append(m),s};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:a},placeholder:{username:n,password:o}}})=>{const i=createElement("main",["main"]),s=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),m=createElement("p",["main__text"]),p=createElement("form",["main__form"]),_=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:n}),g=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o}),u=createElement("button",["main__form-button"],{type:"submit"}),h=createElement("span",["main__form-button-text"]),f=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,m.textContent=r,h.textContent=a,l.append(c,d),u.append(h),p.append(_,g,u,f),s.append(l,m,p),i.append(s),u.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t);handleLoginValidation(e,_,g,translations.main.text.errorRequired,translations.main.text.errorInvalid,USERNAME,PASSWORD,f)||(f.classList.remove("visible"),e.target.append(showSmallLoader()),e.target.disabled=!0,setTimeout(()=>{e.target.disabled=!1,hideSmallLoader(),setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html"},3e3))}),i};const handleLoginValidation=(e,t,r,a,n,o,i,s)=>(e.preventDefault(),""===t.value.trim()||""===r.value.trim()?(s.classList.add("visible"),s.textContent=a,a):t.value.trim()!==o||r.value.trim()!==i?(e.target.disabled=!0,e.target.append(showSmallLoader()),s.classList.remove("visible"),setTimeout(()=>{s.classList.add("visible"),s.textContent=n,e.target.disabled=!1,hideSmallLoader()},3e3),n):null);export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:a,userBtnCustomize:n,removeUserInfo:o}},errorPopup:{text:{maxProfiles:i,emptyField:s}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),m=createElement("div",["wrapper"]),p=createElement("h1",["main__title","main-profiles__title"]),_=createElement("div",["main-profiles__box"]);if(p.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)_.append(createProfile(a,n,n,s,o,e,c[e]));_.append(createProfileAddBtn(r,t,a,_,n,n,i,s,o)),m.append(p,_),l.append(m),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,a,n,o=null,i=null)=>{const s=getData(),l=s?.userProfiles||{};if(null===s)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,m;const p=["#dc4a34","#062E63","#FAC044"];if(o){d=o,m=i.name;c=p[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,m=`Handsome User ${e}`,c=p[e-1]}const _=createElement("div",["main-profiles__profile"]),g=createElement("div",["main-profiles__avatar"]),u=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),h=createElement("div",["main-profiles__user-info"]),f=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:m}),b=createElement("span",["name-border"]),w=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),E=createElement("button",["main-profiles__remove-user"],{"aria-label":n}),v=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(u.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',u.style.backgroundColor=c,g.append(u),w.append(x),E.append(v),h.append(f,b,w,E),_.append(g,h),!o){const e={...l,[d]:{name:m}};setUserPreference("userProfiles",e,s)}return w.addEventListener("click",e=>{editUsername(e,h,r,a)}),E.addEventListener("click",e=>{removeUser(e)}),f.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,a)}),u.addEventListener("click",e=>setCurrentProfile(e)),_.classList.add("visible"),_},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,a,n,o,i,s,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),m=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),p=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),_=createElement("span",["main-profiles__name"]);return _.textContent=t,m.append(p),d.append(m),c.append(d,_),m.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(i,"#dc4a34");const d=createProfile(r,n,o,s,l);d&&a.insertBefore(d,c)}),c},editUsername=(e,t,r,a)=>{resetStateOfEditing(e);const n=e.target,o=n.closest(".main-profiles__profile").querySelector(".main-profiles__name"),i=createSaveBtn(r);n.classList.add("hidden"),i.classList.remove("hidden"),t.append(i),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),i.addEventListener("click",e=>{saveUsername(e,a)})},saveUsername=(e,t)=>{const r=getData(),a=r?.userProfiles||[],n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn").dataset.id,i=n.querySelector(".main-profiles__name"),s=document.querySelectorAll(".main-profiles__edit-name");if(s.forEach(e=>e.removeAttribute("disabled")),""===i.value.trim())return s.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...a,[o]:{...a[o],name:i.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),a=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),a.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,a=document.querySelector(".container"),n=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),n.append(o),a.append(n),setTimeout(()=>{n.classList.add("hidden")},2e3),setTimeout(()=>{n.remove(),popupVisible=!1},2500)};const removeUser=e=>{const t=getData(),r=t?.userProfiles,a=document.querySelectorAll(".main-profiles__edit-name"),n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn");a.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),n.classList.add("hidden"),setTimeout(()=>{n.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:a,myListLink:n,searchLink:o},aria:{userButton:i}}})=>{const s=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:""}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),s.append(l,createBrowserNav(r,a,n,o),createUserBtn(i)),s};const createBrowserNav=(e,t,r,a)=>{const n=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:a,src:"./src/icons/search-icon.svg"}].forEach(e=>{const t=createElement("li",["browse-header__item"]),r=createElement("a",["browse-header__link"],{href:""}),a=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),n=createElement("span",["browse-header__link-text"]);n.textContent=e.name,r.append(a,n),t.append(r),o.append(t)}),n.append(o),n},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),a=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(a),t.append(r),t};export const createMainHeroSection=(e,t,r)=>{const a=createElement("main",["browse-main"]),n=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),i=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:s,overview:l="",backdrop_path:c})=>{const d=c,m=createElement("div",["browse-main__img-box"]),p=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${s}`,src:d?getImageUrl(d,"original"):"./dist/img/img-placeholder.svg"}),_=createElement("div",["browse-main__text-box"]),g=createElement("h2",["browse-main__carousell-title"]),u=createElement("p",["browse-main__carousell-overview"],{tabindex:-1});g.textContent=s,u.textContent=l,_.append(g,u,createActionButtons(e,t)),m.append(p,_),i.append(m),o.append(i),n.append(o),a.append(n),r.append(a)}),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const a=createElement("div",["browse-main__action-btns"]),n=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e}),o=createElement("span",["browse-main__see-trailer"]),i=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:""});return o.textContent=t,i.textContent=r,n.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',n.append(o),a.append(n,i),a},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,a)=>{const n=createElement("button",["browse-main__btn"],{"data-img":a,"aria-label":`${t} ${a}`}),o=createElement("span",["browse-main__progress-bar"]);n.append(o),r.append(n)}),r};export const createFilmSlider=(e,t,r,a)=>{const n=e[r].results,o=createElement("section",["browse-section","browse-section__upcoming-films"]),i=createElement("h3",["browse-section__title"]),s=createElement("div",["browse-section__slider"]),l=createElement("div",["browse-section__slider-images"],{"data-index":0}),c=createElement("button",["browse-section__slider-btn","browse-section__slider-prev-btn"],{"aria-label":t?.browseSection?.aria?.showPrevSlideBtn,disabled:!0}),d=createElement("button",["browse-section__slider-btn","browse-section__slider-next-btn"],{"aria-label":t?.browseSection?.aria?.showNextSlideBtn}),m=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-left.svg",width:"24",height:"24",loading:"lazy",alt:""}),p=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-right.svg",width:"24",height:"24",loading:"lazy",alt:""});return i.textContent=a,d.append(p),c.append(m),createFilmPosters(n,t,l),s.append(l,c,d),o.append(i,s),o};const createFilmPosters=(e,t,r)=>{e.forEach(({id:e,title:a,poster_path:n})=>{const o=n,i=createElement("div",["browse-section__slider-box"]),s=createElement("a",["browse-section__slider-img-link"],{href:"browse.html","aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),l=createElement("img",["browse-section__slider-img"],{alt:`${t?.carousellImages?.aria?.carousellImageAlt} ${a}`,loading:"lazy",width:"",height:"",src:o?getImageUrl(o,"original"):"./dist/img/img-placeholder.svg"}),c=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),d=createElement("img",["browse-section__add-to-list-icon"],{src:"./src/icons/add-profile.svg",width:"24",height:"24",loading:"lazy",alt:""}),m=createElement("span",["browse-section__tooltip"]);m.textContent=t.browseSection.info,c.append(d),s.append(l),i.append(s,c,m),r.append(i)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVFbGVtZW50IiwiZ2V0SW1hZ2VVcmwiLCJzZXRVc2VyUHJlZmVyZW5jZSIsIkhJREVfTE9BREVSX1RJTUUiLCJISURFX1BPUFVQX1RJTUUiLCJnZXREYXRhIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwic2hvd0Vycm9yUG9wdXAiLCJFcnJvciIsInJlbW92ZUl0ZW0iLCJVU0VSTkFNRSIsIlBBU1NXT1JEIiwiY3JlYXRlTG9naW5IZWFkZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwibG9nb1RleHQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImxhbmdTZWxlY3QiLCJsYW5nUGxhdGZvcm1MYW5nIiwibGFuZ0Fycm93IiwibGFuZ0xpc3QiLCJpIiwibGFuZ0Nob2ljZSIsInRhYmluZGV4IiwiT2JqZWN0Iiwia2V5cyIsInRleHQiLCJ2YWx1ZXMiLCJkYXRhc2V0IiwibGFuZyIsInN0eWxlIiwiYW5pbWF0aW9uRGVsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNhbGwiLCJjcmVhdGVMb2dpblBhZ2UiLCJtYWluIiwidGl0bGUiLCJzdWJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYnV0dG9uIiwicGxhY2Vob2xkZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibWFpbkNvbnRlbnQiLCJ3cmFwcGVyIiwibG9naW5UaXRsZSIsImxvZ2luVGl0bGVUb3AiLCJsb2dpblRpdGxlQm90dG9tIiwibG9naW5UZXh0IiwiZm9ybSIsInVzZXJuYW1lSW5wdXQiLCJ0eXBlIiwicGFzc3dvcmRJbnB1dCIsInN1Ym1pdEJ0biIsImJ1dHRvblRleHQiLCJlcnJvclR4dCIsInVzZXJEYXRhIiwiY2hvb3NlbkxhbmciLCJwcmVmZXJyZWRMYW5ndWFnZSIsImhhbmRsZUxvZ2luVmFsaWRhdGlvbiIsInRyYW5zbGF0aW9ucyIsImVycm9yUmVxdWlyZWQiLCJlcnJvckludmFsaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0YXJnZXQiLCJzaG93U21hbGxMb2FkZXIiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJoaWRlU21hbGxMb2FkZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcXVpcmVFcnJvciIsImludmFsaWRFcnJvciIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJ0cmltIiwiYWRkIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInByb2ZpbGVzUGFnZU1haW4iLCJwcm9maWxlc1RpdGxlIiwicHJvZmlsZXNCb3giLCJsZW5ndGgiLCJrZXkiLCJjcmVhdGVQcm9maWxlIiwiY3JlYXRlUHJvZmlsZUFkZEJ0biIsImFyaWFJbmZvIiwidXNlckJ0bkluZm8iLCJzYXZlQnRuQXJpYSIsImVtcHR5RmllbGRFcnJvciIsInJlbW92ZUFyaWEiLCJleGlzdGluZ1Byb2ZpbGVJZCIsImV4aXN0aW5nUHJvZmlsZU5hbWUiLCJleGlzdGluZ1Byb2ZpbGVzIiwicmVsb2FkIiwiY29sb3IiLCJwcm9maWxlSWQiLCJwcm9maWxlTmFtZSIsImNvbG9ycyIsIm5hbWUiLCJwYXJzZUludCIsInNwbGl0IiwicG9wIiwibmV4dE51bWJlciIsInVzZXJQcm9maWxlIiwidXNlckF2YXRhckJveCIsInVzZXJQcm9maWxlSW5mb0JveCIsInVzZXJQcm9maWxlSW5mbyIsInJlYWRvbmx5IiwibmFtZUJvcmRlciIsImVkaXRVc2VySW5mb0J0biIsInJlbW92ZVVzZXJCdG4iLCJyZW1vdmVVc2VySWNvbiIsImxvYWRpbmciLCJlZGl0VXNlckluZm9JY29uIiwiYmFja2dyb3VuZENvbG9yIiwidXBkYXRlZFByb2ZpbGVzIiwiZWRpdFVzZXJuYW1lIiwicmVtb3ZlVXNlciIsInNhdmVVc2VybmFtZSIsInNldEN1cnJlbnRQcm9maWxlIiwicHJvZmlsZURhdGEiLCJpZCIsImluZm8iLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjbG9zZXN0UHJvZmlsZUJ0biIsImNyZWF0ZUJyb3dzZVBhZ2UiLCJicm93c2VQYWdlIiwibmFtZXMiLCJmaWxtTGluayIsInNlcmllc0xpbmsiLCJteUxpc3RMaW5rIiwic2VhcmNoTGluayIsInVzZXJCdXR0b24iLCJsb2dvTWFpbkxpbmsiLCJsb2dvTWFpbkltZyIsIm1haW5UaXRsZSIsImNyZWF0ZUJyb3dzZXJOYXYiLCJjcmVhdGVVc2VyQnRuIiwibmF2IiwibmF2TGlua3MiLCJsaW5rIiwibGlzdEl0ZW0iLCJsaW5rRWwiLCJpY29uIiwidXNlckJveCIsInVzZXJCdG4iLCJ1c2VySWNvbiIsImNyZWF0ZU1haW5IZXJvU2VjdGlvbiIsIm1vdmllcyIsImJyb3dzZU1haW4iLCJicm93c2VNYWluU2VjdGlvbiIsImltYWdlc0Nhcm91c2VsbCIsImltYWdlc0luc2lkZVNsaWRlciIsIm92ZXJ2aWV3IiwiYmFja2Ryb3BfcGF0aCIsImltZ1NyYyIsImltYWdlQm94IiwiaW1hZ2UiLCJjYXJvdXNlbGxJbWFnZXMiLCJjYXJvdXNlbGxJbWFnZUFsdCIsInRleHRCb3giLCJmaWxtVGl0bGUiLCJmaWxtSW5mbyIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJjcmVhdGVDYXJvdXNlbGxDb250cm9scyIsImFjdGlvbkJ0bnMiLCJ0cmFpbGVyQnRuVGV4dCIsIm1vcmVJbmZvQnRuVGV4dCIsImFjdGlvbkJ0bnNQYW5lbCIsInNob3dUcmFpbGVyQnRuIiwic2hvd1RyYWlsZXJUZXh0Iiwic2VlTW9yZUJ0biIsImNhcm91c2VsbEJ0bnMiLCJjYXJvdXNlbGxDb250cm9scyIsIm1vdmllIiwiaW5kZXgiLCJjYXJvdXNlbGxCdG4iLCJjYXJvdXNlbGxCdG5Qcm9ncmVzc0JhciIsImNyZWF0ZUZpbG1TbGlkZXIiLCJmaWxtcyIsInByb3BlckZpbG1zIiwicmVzdWx0cyIsImJyb3dzZVNlY3Rpb24iLCJzZWN0aW9uVGl0bGUiLCJzZWN0aW9uU2xpZGVyIiwic2VjdGlvbkltYWdlcyIsInNob3dQcmV2U2xpZGVCdG4iLCJzaG93TmV4dFNsaWRlQnRuIiwic2hvd1ByZXZTbGlkZUljb24iLCJzaG93TmV4dFNsaWRlSWNvbiIsImNyZWF0ZUZpbG1Qb3N0ZXJzIiwicG9zdGVyX3BhdGgiLCJzZWN0aW9uQm94Iiwic2VjdGlvbkxpbmsiLCJzaG93TW9yZUluZm9BYm91dEZpbG0iLCJzZWN0aW9uRmlsbVBvc3RlciIsInNlY3Rpb25BZGRUb0xpc3RCdG4iLCJhZGRUb0xpc3RCdG4iLCJzZWN0aW9uQWRkVG9MaXN0SWNvbiIsInNlY3Rpb25Ub29sdGlwIl0sInNvdXJjZXMiOlsiY29tcG9uZW50cy5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLGNBQWVDLGdCQUFtQiwwQkFDbENDLHNCQUF5QixnQ0FDbEMsTUFBTUMsaUJBQW1CLElBQ25CQyxnQkFBa0IsWUFDakIsTUFBTUMsUUFBVSxLQUN0QixJQUNDLE1BQU1DLEVBQU9DLGFBQWFDLFFBQVEsWUFFbEMsSUFBS0YsRUFBTSxPQUFPLEtBRWxCLE1BQU1HLEVBQWFDLEtBQUtDLE1BQU1MLEdBRTlCLEdBQTBCLGlCQUFmRyxHQUEwQyxPQUFmQSxFQUVyQyxNQURBRyxlQUFlLCtCQUFnQyxXQUN6QyxJQUFJQyxNQUFNLGtDQUVqQixPQUFPSixDQUNSLENBQUUsTUFFRCxPQURBRixhQUFhTyxXQUFXLFlBQ2pCLENBQUMsQ0FDVCxHQUlELE1BQU1DLFNBQVcsa0JBQ1hDLFNBQVcsbUJBRVYsTUFBTUMsa0JBQW9CLEVBRS9CQyxRQUNDQyxLQUFPQyxRQUNQQyxNQUFRQyxXQUFVQywwQkFHcEJDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEtBR0EsTUFBTVQsRUFBU2xCLGNBQWMsU0FBVSxDQUFDLFdBQ2xDNEIsRUFBVzVCLGNBQWMsSUFBSyxDQUFDLGVBQWdCLHNCQUF1QixDQUMzRTZCLEtBQU0sSUFDTixhQUFjLEdBQUdQLE1BRVpRLEVBQVU5QixjQUNmLE1BQ0EsQ0FBQyxtQkFBb0IsMEJBQ3JCLENBQ0MrQixJQUFLLHVCQUNMWixJQUFLLEdBQUdDLElBQ1JZLE1BQU8sS0FDUEMsT0FBUSxPQUdKQyxFQUFXbEMsY0FBYyxPQUFRLENBQ3RDLG9CQUNBLDRC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aUJuUixjQUFjLE9BQVEsQ0FBQyw0QkFFOUNtUixFQUFlaFAsWUFBYzhDLEVBQWFpTCxjQUFjaEcsS0FFeEQ4RyxFQUFvQjVPLE9BQU84TyxHQUUzQkwsRUFBWXpPLE9BQU8yTyxHQUVuQkgsRUFBV3hPLE9BQU95TyxFQUFhRyxFQUFxQkcsR0FFcER6RyxFQUFPdEksT0FBT3dPIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGdldEltYWdlVXJsIH0gZnJvbSBcIi4vaGVscGVycy5taW4uanNcIjtcclxuaW1wb3J0IHsgc2V0VXNlclByZWZlcmVuY2UgfSBmcm9tIFwiLi91cGRhdGVTdGF0ZUZ1bmN0aW9ucy5taW4uanNcIjtcclxuY29uc3QgSElERV9MT0FERVJfVElNRSA9IDMwMDA7XHJcbmNvbnN0IEhJREVfUE9QVVBfVElNRSA9IDI1MDA7XHJcbmV4cG9ydCBjb25zdCBnZXREYXRhID0gKCkgPT4ge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyRGF0YVwiKTtcclxuXHJcblx0XHRpZiAoIWRhdGEpIHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG5cclxuXHRcdGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gXCJvYmplY3RcIiB8fCBwYXJzZWREYXRhID09PSBudWxsKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5pZXByYXdpZMWCb3dhIHN0cnVrdHVyYSBkYW55Y2hcIik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFyc2VkRGF0YTtcclxuXHR9IGNhdGNoIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlckRhdGFcIik7XHJcblx0XHRyZXR1cm4ge307XHJcblx0fVxyXG59O1xyXG5cclxuLy8gREVNTyBPTkxZIC0gTmV2ZXIgaGFyZGNvZGUgY3JlZGVudGlhbHMgaW4gcHJvZHVjdGlvbiFcclxuY29uc3QgVVNFUk5BTUUgPSBcImhhbmRzb21lVXNlcjQwNFwiO1xyXG5jb25zdCBQQVNTV09SRCA9IFwiMTIzNDU2Nzg5XCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTG9naW5IZWFkZXIgPSAoXHJcblx0e1xyXG5cdFx0aGVhZGVyOiB7XHJcblx0XHRcdGFsdDogeyBsb2dvIH0sXHJcblx0XHRcdGFyaWE6IHsgbG9nb0xpbmssIGNoYW5nZUxhbmd1YWdlQnV0dG9uIH0sXHJcblx0XHR9LFxyXG5cdH0sXHJcblx0bGFuZ0Ftb3VudCxcclxuXHRsYW5nTmFtZXMsXHJcblx0bGFuZ3VhZ2UsXHJcblx0aGFuZGxlTGFuZ1NlbGVjdFxyXG4pID0+IHtcclxuXHQvLyBsb2dvXHJcblx0Y29uc3QgaGVhZGVyID0gY3JlYXRlRWxlbWVudChcImhlYWRlclwiLCBbXCJoZWFkZXJcIl0pO1xyXG5cdGNvbnN0IHBhZ2VMb2dvID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiaGVhZGVyX19sb2dvXCIsIFwibG9naW4taGVhZGVyX19sb2dvXCJdLCB7XHJcblx0XHRocmVmOiBcIi9cIixcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBgJHtsb2dvTGlua31gLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxvZ29JbWcgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImhlYWRlcl9fbG9nby1pbWdcIiwgXCJsb2dpbi1oZWFkZXJfX2xvZ28taW1nXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nby5zdmdcIixcclxuXHRcdFx0YWx0OiBgJHtsb2dvfWAsXHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3QgbG9nb1RleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcImhlYWRlcl9fbG9nby10ZXh0XCIsXHJcblx0XHRcImxvZ2luLWhlYWRlcl9fbG9nby10ZXh0XCIsXHJcblx0XSk7XHJcblx0bG9nb1RleHQudGV4dENvbnRlbnQgPSBcIlN0cmVhbVwiO1xyXG5cdHBhZ2VMb2dvLmFwcGVuZChsb2dvSW1nLCBsb2dvVGV4dCk7XHJcblx0aGVhZGVyLmFwcGVuZChwYWdlTG9nbyk7XHJcblx0Ly8gZW5kIG9mIGxvZ29cclxuXHJcblx0Ly8gbGFuZ3VhZ2Ugc2VsZWN0b3JcclxuXHRjb25zdCBsYW5nU2VsZWN0ID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctc2VsZWN0XCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogYCR7Y2hhbmdlTGFuZ3VhZ2VCdXR0b259YCxcclxuXHR9KTtcclxuXHRjb25zdCBsYW5nUGxhdGZvcm1MYW5nID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1xyXG5cdFx0XCJsb2dpbi1oZWFkZXJfX2xhbmctcGxhdGZvcm0tbGFuZ1wiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGxhbmdBcnJvdyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWFycm93XCJdLCB7XHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2hldnJvbi1kb3duLnN2Z1wiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxhbmdMaXN0ID0gY3JlYXRlRWxlbWVudChcInVsXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1saXN0XCJdKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsYW5nQW1vdW50OyBpKyspIHtcclxuXHRcdGNvbnN0IGxhbmdDaG9pY2UgPSBjcmVhdGVFbGVtZW50KFwibGlcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWNob2ljZVwiXSwge1xyXG5cdFx0XHR0YWJpbmRleDogMCxcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgZGF0YSA9IE9iamVjdC5rZXlzKGxhbmdOYW1lcylbaV07XHJcblx0XHRjb25zdCB0ZXh0ID0gT2JqZWN0LnZhbHVlcyhsYW5nTmFtZXMpW2ldO1xyXG5cclxuXHRcdGxhbmdDaG9pY2UuZGF0YXNldC5sYW5nID0gZGF0YTtcclxuXHRcdGxhbmdDaG9pY2UudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG5cdFx0bGFuZ0Nob2ljZS5zdHlsZS5hbmltYXRpb25EZWxheSA9IGkgKiAxMDAgKyBcIm1zXCI7XHJcblx0XHRsYW5nTGlzdC5hcHBlbmQobGFuZ0Nob2ljZSk7XHJcblx0fVxyXG5cclxuXHRsYW5nUGxhdGZvcm1MYW5nLnRleHRDb250ZW50ID0gbGFuZ05hbWVzW2xhbmd1YWdlXTtcclxuXHJcblx0bGFuZ1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGhhbmRsZUxhbmdTZWxlY3QuY2FsbChsYW5nU2VsZWN0LCBlLCBsYW5nUGxhdGZvcm1MYW5nKTtcclxuXHR9KTtcclxuXHJcblx0bGFuZ1NlbGVjdC5hcHBlbmQobGFuZ1BsYXRmb3JtTGFuZywgbGFuZ0Fycm93LCBsYW5nTGlzdCk7XHJcblx0aGVhZGVyLmFwcGVuZChsYW5nU2VsZWN0KTtcclxuXHJcblx0cmV0dXJuIGhlYWRlcjtcclxuXHQvLyBlbmQgb2YgbGFuZ3VhZ2Ugc2VsZWN0b3JcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVMb2dpblBhZ2UgPSAoe1xyXG5cdG1haW46IHtcclxuXHRcdHRleHQ6IHsgdGl0bGUsIHN1YnRpdGxlLCBkZXNjcmlwdGlvbiwgYnV0dG9uIH0sXHJcblx0XHRwbGFjZWhvbGRlcjogeyB1c2VybmFtZSwgcGFzc3dvcmQgfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgbWFpbkNvbnRlbnQgPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJtYWluXCJdKTtcclxuXHRjb25zdCB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJ3cmFwcGVyXCJdKTtcclxuXHRjb25zdCBsb2dpblRpdGxlID0gY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGVUb3AgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX190aXRsZVwiXSk7XHJcblx0Y29uc3QgbG9naW5UaXRsZUJvdHRvbSA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW5fX3N1YnRpdGxlXCJdKTtcclxuXHRjb25zdCBsb2dpblRleHQgPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJtYWluX190ZXh0XCJdKTtcclxuXHRjb25zdCBmb3JtID0gY3JlYXRlRWxlbWVudChcImZvcm1cIiwgW1wibWFpbl9fZm9ybVwiXSk7XHJcblx0Y29uc3QgdXNlcm5hbWVJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImlucHV0XCIsXHJcblx0XHRbXCJtYWluX19mb3JtLWlucHV0XCIsIFwibWFpbl9fZm9ybS1pbnB1dC0tdXNlcm5hbWVcIl0sXHJcblx0XHR7IHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogdXNlcm5hbWUgfVxyXG5cdCk7XHJcblx0Y29uc3QgcGFzc3dvcmRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImlucHV0XCIsXHJcblx0XHRbXCJtYWluX19mb3JtLWlucHV0XCIsIFwibWFpbl9fZm9ybS1pbnB1dC0tcGFzc3dvcmRcIl0sXHJcblx0XHR7IHR5cGU6IFwicGFzc3dvcmRcIiwgcGxhY2Vob2xkZXI6IHBhc3N3b3JkIH1cclxuXHQpO1xyXG5cdGNvbnN0IHN1Ym1pdEJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wibWFpbl9fZm9ybS1idXR0b25cIl0sIHtcclxuXHRcdHR5cGU6IFwic3VibWl0XCIsXHJcblx0fSk7XHJcblx0Y29uc3QgYnV0dG9uVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW5fX2Zvcm0tYnV0dG9uLXRleHRcIl0pO1xyXG5cclxuXHRjb25zdCBlcnJvclR4dCA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcIm1haW5fX2Zvcm0tZXJyb3ItdHh0XCJdKTtcclxuXHRsb2dpblRpdGxlVG9wLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblx0bG9naW5UaXRsZUJvdHRvbS50ZXh0Q29udGVudCA9IHN1YnRpdGxlO1xyXG5cdGxvZ2luVGV4dC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG5cdGJ1dHRvblRleHQudGV4dENvbnRlbnQgPSBidXR0b247XHJcblxyXG5cdGxvZ2luVGl0bGUuYXBwZW5kKGxvZ2luVGl0bGVUb3AsIGxvZ2luVGl0bGVCb3R0b20pO1xyXG5cdHN1Ym1pdEJ0bi5hcHBlbmQoYnV0dG9uVGV4dCk7XHJcblx0Zm9ybS5hcHBlbmQodXNlcm5hbWVJbnB1dCwgcGFzc3dvcmRJbnB1dCwgc3VibWl0QnRuLCBlcnJvclR4dCk7XHJcblxyXG5cdHdyYXBwZXIuYXBwZW5kKGxvZ2luVGl0bGUsIGxvZ2luVGV4dCwgZm9ybSk7XHJcblx0bWFpbkNvbnRlbnQuYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuXHRzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRcdGNvbnN0IGNob29zZW5MYW5nID0gdXNlckRhdGE/LnByZWZlcnJlZExhbmd1YWdlO1xyXG5cclxuXHRcdGlmICghY2hvb3NlbkxhbmcpIHtcclxuXHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJwcmVmZXJyZWRMYW5ndWFnZVwiLCBcInBsXCIsIHVzZXJEYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXN1bHRzID0gaGFuZGxlTG9naW5WYWxpZGF0aW9uKFxyXG5cdFx0XHRlLFxyXG5cdFx0XHR1c2VybmFtZUlucHV0LFxyXG5cdFx0XHRwYXNzd29yZElucHV0LFxyXG5cdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9yUmVxdWlyZWQsXHJcblx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnRleHQuZXJyb3JJbnZhbGlkLFxyXG5cdFx0XHRVU0VSTkFNRSxcclxuXHRcdFx0UEFTU1dPUkQsXHJcblx0XHRcdGVycm9yVHh0XHJcblx0XHQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0cykge1xyXG5cdFx0XHRlcnJvclR4dC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuXHRcdFx0ZS50YXJnZXQuYXBwZW5kKHNob3dTbWFsbExvYWRlcigpKTtcclxuXHRcdFx0ZS50YXJnZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0ZS50YXJnZXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRoaWRlU21hbGxMb2FkZXIoKTtcclxuXHJcblx0XHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJ0cmFuc2xhdGlvbnNcIiwgdHJhbnNsYXRpb25zLCB1c2VyRGF0YSk7XHJcblx0XHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJsb2dnZWRJblwiLCB0cnVlLCB1c2VyRGF0YSk7XHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcInByb2ZpbGVzLmh0bWxcIjsgLy8gcHJ6ZWrFm2NpZSBuYSBzdHJvbsSZIHogcHJvZmlsYW1pXHJcblx0XHRcdH0sIEhJREVfTE9BREVSX1RJTUUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gbWFpbkNvbnRlbnQ7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVMb2dpblZhbGlkYXRpb24gPSAoXHJcblx0ZSxcclxuXHR1c2VybmFtZUlucHV0LFxyXG5cdHBhc3N3b3JkSW5wdXQsXHJcblx0cmVxdWlyZUVycm9yLFxyXG5cdGludmFsaWRFcnJvcixcclxuXHR1c2VybmFtZSxcclxuXHRwYXNzd29yZCxcclxuXHRlcnJvclR4dFxyXG4pID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGlmICh1c2VybmFtZUlucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIiB8fCBwYXNzd29yZElucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0ZXJyb3JUeHQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHRlcnJvclR4dC50ZXh0Q29udGVudCA9IHJlcXVpcmVFcnJvcjtcclxuXHRcdHJldHVybiByZXF1aXJlRXJyb3I7XHJcblx0fSBlbHNlIGlmIChcclxuXHRcdHVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpICE9PSB1c2VybmFtZSB8fFxyXG5cdFx0cGFzc3dvcmRJbnB1dC52YWx1ZS50cmltKCkgIT09IHBhc3N3b3JkXHJcblx0KSB7XHJcblx0XHRlLnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHRlLnRhcmdldC5hcHBlbmQoc2hvd1NtYWxsTG9hZGVyKCkpO1xyXG5cdFx0ZXJyb3JUeHQuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGVycm9yVHh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0XHRlcnJvclR4dC50ZXh0Q29udGVudCA9IGludmFsaWRFcnJvcjtcclxuXHJcblx0XHRcdGUudGFyZ2V0LmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHRoaWRlU21hbGxMb2FkZXIoKTtcclxuXHRcdH0sIEhJREVfTE9BREVSX1RJTUUpO1xyXG5cdFx0cmV0dXJuIGludmFsaWRFcnJvcjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dCaWdMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImxvYWRpbmctYXJlYVwiXSk7XHJcblx0bG9hZGluZ0FyZWEuaW5uZXJIVE1MID0gYCAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJsb2FkZXItYmlnXCIgdmlld0JveD1cIjAgMCAxMjAgMTIwXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCIxMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImxvYWRlci1hY2NlbnRcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwiIzRkYThkYVwiIHN0b3Atb3BhY2l0eT1cIjAuOFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjcwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMC40XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJsb2FkaW5nLWNpcmNsZS1iaWdcIiByPVwiMzVcIiBjeD1cIjYwXCIgY3k9XCI2MFwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICA8L3N2Zz5gO1xyXG5cdHJldHVybiBsb2FkaW5nQXJlYTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVCaWdMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctYXJlYVwiKTtcclxuXHRsb2FkaW5nQXJlYT8ucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd1NtYWxsTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJsb2FkaW5nLWFyZWEtc21hbGxcIl0pO1xyXG5cdGxvYWRpbmdBcmVhLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwibG9hZGVyLXNtYWxsXCIgdmlld0JveD1cIjAgMCAxMjAgMTIwXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCIxMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImxvYWRlci1hY2NlbnQtc21hbGxcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwLjhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI3MCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwLjNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJsb2FkaW5nLWNpcmNsZS1zbWFsbFwiIHI9XCIxMlwiIGN4PVwiNjBcIiBjeT1cIjYwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgIDwvc3ZnPmA7XHJcblxyXG5cdHJldHVybiBsb2FkaW5nQXJlYTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVTbWFsbExvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy1hcmVhLXNtYWxsXCIpO1xyXG5cdGxvYWRpbmdBcmVhLnJlbW92ZSgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2ZpbGVzUGFnZSA9ICh7XHJcblx0cHJvZmlsZXM6IHtcclxuXHRcdHRleHQ6IHsgdGl0bGUsIGFkZFByb2ZpbGVJbmZvIH0sXHJcblx0XHRhcmlhOiB7IGFkZFByb2ZpbGVCdG4sIHVzZXJQcm9maWxlQnRuLCB1c2VyQnRuQ3VzdG9taXplLCByZW1vdmVVc2VySW5mbyB9LFxyXG5cdH0sXHJcblx0ZXJyb3JQb3B1cDoge1xyXG5cdFx0dGV4dDogeyBtYXhQcm9maWxlcywgZW1wdHlGaWVsZCB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZXNMaXN0ID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcztcclxuXHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjb25zdCBwcm9maWxlc1BhZ2VNYWluID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wibWFpbi1wcm9maWxlc1wiXSk7XHJcblx0XHRjb25zdCB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJ3cmFwcGVyXCJdKTtcclxuXHRcdGNvbnN0IHByb2ZpbGVzVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIiwgW1xyXG5cdFx0XHRcIm1haW5fX3RpdGxlXCIsXHJcblx0XHRcdFwibWFpbi1wcm9maWxlc19fdGl0bGVcIixcclxuXHRcdF0pO1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2JveFwiXSk7XHJcblxyXG5cdFx0cHJvZmlsZXNUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRcdGlmICh1c2VyUHJvZmlsZXNMaXN0ICYmIE9iamVjdC5rZXlzKHVzZXJQcm9maWxlc0xpc3QpLmxlbmd0aCAhPT0gMCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB1c2VyUHJvZmlsZXNMaXN0KSB7XHJcblx0XHRcdFx0cHJvZmlsZXNCb3guYXBwZW5kKFxyXG5cdFx0XHRcdFx0Y3JlYXRlUHJvZmlsZShcclxuXHRcdFx0XHRcdFx0dXNlclByb2ZpbGVCdG4sXHJcblx0XHRcdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0XHRcdGVtcHR5RmllbGQsXHJcblx0XHRcdFx0XHRcdHJlbW92ZVVzZXJJbmZvLFxyXG5cdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdHVzZXJQcm9maWxlc0xpc3Rba2V5XVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHByb2ZpbGVzQm94LmFwcGVuZChcclxuXHRcdFx0Y3JlYXRlUHJvZmlsZUFkZEJ0bihcclxuXHRcdFx0XHRhZGRQcm9maWxlQnRuLFxyXG5cdFx0XHRcdGFkZFByb2ZpbGVJbmZvLFxyXG5cdFx0XHRcdHVzZXJQcm9maWxlQnRuLFxyXG5cdFx0XHRcdHByb2ZpbGVzQm94LFxyXG5cdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRtYXhQcm9maWxlcyxcclxuXHRcdFx0XHRlbXB0eUZpZWxkLFxyXG5cdFx0XHRcdHJlbW92ZVVzZXJJbmZvXHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0XHR3cmFwcGVyLmFwcGVuZChwcm9maWxlc1RpdGxlLCBwcm9maWxlc0JveCk7XHJcblx0XHRwcm9maWxlc1BhZ2VNYWluLmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kKHByb2ZpbGVzUGFnZU1haW4pO1xyXG5cdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdH0sIDUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVQcm9maWxlID0gKFxyXG5cdGFyaWFJbmZvLFxyXG5cdHVzZXJCdG5JbmZvLFxyXG5cdHNhdmVCdG5BcmlhLFxyXG5cdGVtcHR5RmllbGRFcnJvcixcclxuXHRyZW1vdmVBcmlhLFxyXG5cdGV4aXN0aW5nUHJvZmlsZUlkID0gbnVsbCxcclxuXHRleGlzdGluZ1Byb2ZpbGVOYW1lID0gbnVsbFxyXG4pID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCB7fTtcclxuXHJcblx0aWYgKHVzZXJEYXRhID09PSBudWxsKSB7XHJcblx0XHRzaG93RXJyb3JQb3B1cChcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdH0sIEhJREVfUE9QVVBfVElNRSk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRsZXQgY29sb3I7XHJcblx0bGV0IHByb2ZpbGVJZDtcclxuXHRsZXQgcHJvZmlsZU5hbWU7XHJcblxyXG5cdGNvbnN0IGNvbG9ycyA9IFtcIiNkYzRhMzRcIiwgXCIjMDYyRTYzXCIsIFwiI0ZBQzA0NFwiXTtcclxuXHJcblx0aWYgKGV4aXN0aW5nUHJvZmlsZUlkKSB7XHJcblx0XHRwcm9maWxlSWQgPSBleGlzdGluZ1Byb2ZpbGVJZDtcclxuXHRcdHByb2ZpbGVOYW1lID0gZXhpc3RpbmdQcm9maWxlTmFtZS5uYW1lO1xyXG5cdFx0Y29uc3QgcHJvZmlsZU51bWJlciA9IHBhcnNlSW50KHByb2ZpbGVJZC5zcGxpdChcIi1cIikucG9wKCkpO1xyXG5cdFx0Y29sb3IgPSBjb2xvcnNbcHJvZmlsZU51bWJlciAtIDFdO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoT2JqZWN0LmtleXMoZXhpc3RpbmdQcm9maWxlcykubGVuZ3RoID49IDMpIHJldHVybjtcclxuXHJcblx0XHRsZXQgbmV4dE51bWJlciA9IDE7XHJcblx0XHR3aGlsZSAoZXhpc3RpbmdQcm9maWxlc1tgdXNlci1wcm9maWxlLSR7bmV4dE51bWJlcn1gXSkge1xyXG5cdFx0XHRuZXh0TnVtYmVyKys7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJvZmlsZUlkID0gYHVzZXItcHJvZmlsZS0ke25leHROdW1iZXJ9YDtcclxuXHRcdHByb2ZpbGVOYW1lID0gYEhhbmRzb21lIFVzZXIgJHtuZXh0TnVtYmVyfWA7XHJcblx0XHRjb2xvciA9IGNvbG9yc1tuZXh0TnVtYmVyIC0gMV07XHJcblx0fVxyXG5cclxuXHRjb25zdCB1c2VyUHJvZmlsZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fcHJvZmlsZVwiXSk7XHJcblx0Y29uc3QgdXNlckF2YXRhckJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYXZhdGFyXCJdKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wibWFpbi1wcm9maWxlc19fYnRuXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogYXJpYUluZm8sXHJcblx0XHRcImRhdGEtaWRcIjogcHJvZmlsZUlkLFxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCB1c2VyUHJvZmlsZUluZm9Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX3VzZXItaW5mb1wiXSk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVJbmZvID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFtcIm1haW4tcHJvZmlsZXNfX25hbWVcIl0sIHtcclxuXHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0cmVhZG9ubHk6IHRydWUsXHJcblx0XHR2YWx1ZTogcHJvZmlsZU5hbWUsXHJcblx0fSk7XHJcblx0Y29uc3QgbmFtZUJvcmRlciA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm5hbWUtYm9yZGVyXCJdKTtcclxuXHRjb25zdCBlZGl0VXNlckluZm9CdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHVzZXJCdG5JbmZvIH1cclxuXHQpO1xyXG5cdGNvbnN0IHJlbW92ZVVzZXJCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX3JlbW92ZS11c2VyXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogcmVtb3ZlQXJpYSB9XHJcblx0KTtcclxuXHRjb25zdCByZW1vdmVVc2VySWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fcmVtb3ZlLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3JlbW92ZS1wcm9maWxlLWljb24uc3ZnXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgZWRpdFVzZXJJbmZvSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fZWRpdC1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9lZGl0LnN2Z1wiLFxyXG5cdH0pO1xyXG5cclxuXHR1c2VyUHJvZmlsZUJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cIm1haW4tcHJvZmlsZXNfX2ltZ1wiIHdpZHRoPVwiMTUwXCIgaGVpZ2h0PVwiMTUwXCIgdmlld0JveD1cIjAgMCAyMDAgMjAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgPGNpcmNsZSBjeD1cIjcwXCIgY3k9XCI3MFwiIHI9XCI4XCIgZmlsbD1cIndoaXRlXCIgLz5cclxuICAgIDxjaXJjbGUgY3g9XCIxMzBcIiBjeT1cIjcwXCIgcj1cIjhcIiBmaWxsPVwid2hpdGVcIiAvPlxyXG4gICAgPHBhdGggZD1cIk02MCAxMTAgUTEwMCAxNTAgMTQwIDExMFwiIHN0cm9rZT1cIndoaXRlXCIgc3Ryb2tlLXdpZHRoPVwiNlwiXHJcbiAgICBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgLz5cclxuICAgIDwvc3ZnPmA7XHJcblx0dXNlclByb2ZpbGVCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcblxyXG5cdHVzZXJBdmF0YXJCb3guYXBwZW5kKHVzZXJQcm9maWxlQnRuKTtcclxuXHRlZGl0VXNlckluZm9CdG4uYXBwZW5kKGVkaXRVc2VySW5mb0ljb24pO1xyXG5cdHJlbW92ZVVzZXJCdG4uYXBwZW5kKHJlbW92ZVVzZXJJY29uKTtcclxuXHR1c2VyUHJvZmlsZUluZm9Cb3guYXBwZW5kKFxyXG5cdFx0dXNlclByb2ZpbGVJbmZvLFxyXG5cdFx0bmFtZUJvcmRlcixcclxuXHRcdGVkaXRVc2VySW5mb0J0bixcclxuXHRcdHJlbW92ZVVzZXJCdG5cclxuXHQpO1xyXG5cdHVzZXJQcm9maWxlLmFwcGVuZCh1c2VyQXZhdGFyQm94LCB1c2VyUHJvZmlsZUluZm9Cb3gpO1xyXG5cclxuXHRpZiAoIWV4aXN0aW5nUHJvZmlsZUlkKSB7XHJcblx0XHRjb25zdCB1cGRhdGVkUHJvZmlsZXMgPSB7XHJcblx0XHRcdC4uLmV4aXN0aW5nUHJvZmlsZXMsXHJcblx0XHRcdFtwcm9maWxlSWRdOiB7XHJcblx0XHRcdFx0bmFtZTogcHJvZmlsZU5hbWUsXHJcblx0XHRcdH0sXHJcblx0XHR9O1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJ1c2VyUHJvZmlsZXNcIiwgdXBkYXRlZFByb2ZpbGVzLCB1c2VyRGF0YSk7XHJcblx0fVxyXG5cclxuXHRlZGl0VXNlckluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRlZGl0VXNlcm5hbWUoZSwgdXNlclByb2ZpbGVJbmZvQm94LCBzYXZlQnRuQXJpYSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHR9KTtcclxuXHRyZW1vdmVVc2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0cmVtb3ZlVXNlcihlKTtcclxuXHR9KTtcclxuXHJcblx0dXNlclByb2ZpbGVJbmZvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xyXG5cdFx0XHRzYXZlVXNlcm5hbWUoZSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHR1c2VyUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHNldEN1cnJlbnRQcm9maWxlKGUpKTtcclxuXHJcblx0dXNlclByb2ZpbGUuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0cmV0dXJuIHVzZXJQcm9maWxlO1xyXG59O1xyXG4vLyB3eWLDs3IgcHJvZmlsdVxyXG5jb25zdCBzZXRDdXJyZW50UHJvZmlsZSA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgcHJvZmlsZURhdGEgPSBlLnRhcmdldC5kYXRhc2V0LmlkO1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcImN1cnJlbnRQcm9maWxlXCIsIHByb2ZpbGVEYXRhLCB1c2VyRGF0YSk7XHJcblxyXG5cdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJicm93c2UuaHRtbFwiO1xyXG59O1xyXG4vLyBrb25pZWMgd3lib3J1IHByb2ZpbHVcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGVBZGRCdG4gPSAoXHJcblx0YXJpYUluZm8sXHJcblx0aW5mbyxcclxuXHR1c2VyQnRuQXJpYSxcclxuXHRwcm9maWxlc0JveCxcclxuXHR1c2VyQnRuSW5mbyxcclxuXHRzYXZlQnRuQXJpYSxcclxuXHRtYXhQcm9maWxlc0Vycm9yLFxyXG5cdGVtcHR5RmllbGRFcnJvcixcclxuXHRyZW1vdmVBcmlhXHJcbikgPT4ge1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2FkZC1wcm9maWxlXCJdKTtcclxuXHRjb25zdCBhZGRQcm9maWxlQXZhdGFyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hdmF0YXJcIl0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX2J0blwiLCBcIm1haW4tcHJvZmlsZXNfX2J0bi0tYWRkLXByb2ZpbGVcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiBhcmlhSW5mbyB9XHJcblx0KTtcclxuXHRjb25zdCBhZGRQcm9maWxlUGx1c0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX2FkZC1pbWdcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9hZGQtcHJvZmlsZS5zdmdcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVJbmZvID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbi1wcm9maWxlc19fbmFtZVwiXSk7XHJcblxyXG5cdGFkZFByb2ZpbGVJbmZvLnRleHRDb250ZW50ID0gaW5mbztcclxuXHJcblx0YWRkUHJvZmlsZUJ0bi5hcHBlbmQoYWRkUHJvZmlsZVBsdXNJY29uKTtcclxuXHRhZGRQcm9maWxlQXZhdGFyLmFwcGVuZChhZGRQcm9maWxlQnRuKTtcclxuXHRhZGRQcm9maWxlQm94LmFwcGVuZChhZGRQcm9maWxlQXZhdGFyLCBhZGRQcm9maWxlSW5mbyk7XHJcblxyXG5cdGFkZFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwge307XHJcblxyXG5cdFx0aWYgKE9iamVjdC5rZXlzKGV4aXN0aW5nUHJvZmlsZXMpLmxlbmd0aCA+PSAzKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKG1heFByb2ZpbGVzRXJyb3IsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHByb2ZpbGUgPSBjcmVhdGVQcm9maWxlKFxyXG5cdFx0XHR1c2VyQnRuQXJpYSxcclxuXHRcdFx0dXNlckJ0bkluZm8sXHJcblx0XHRcdHNhdmVCdG5BcmlhLFxyXG5cdFx0XHRlbXB0eUZpZWxkRXJyb3IsXHJcblx0XHRcdHJlbW92ZUFyaWFcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKHByb2ZpbGUpIHtcclxuXHRcdFx0cHJvZmlsZXNCb3guaW5zZXJ0QmVmb3JlKHByb2ZpbGUsIGFkZFByb2ZpbGVCb3gpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gYWRkUHJvZmlsZUJveDtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRVc2VybmFtZSA9IChlLCBwYXJlbnQsIHNhdmVCdG5BcmlhLCBlbXB0eUZpZWxkRXJyb3IpID0+IHtcclxuXHRyZXNldFN0YXRlT2ZFZGl0aW5nKGUpO1xyXG5cclxuXHRjb25zdCBlZGl0QnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgbmFtZVRvRWRpdCA9IGVkaXRCdG5cclxuXHRcdC5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIilcclxuXHRcdC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX25hbWVcIik7XHJcblxyXG5cdGNvbnN0IHNhdmVCdG4gPSBjcmVhdGVTYXZlQnRuKHNhdmVCdG5BcmlhKTtcclxuXHJcblx0ZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHNhdmVCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0cGFyZW50LmFwcGVuZChzYXZlQnRuKTtcclxuXHJcblx0bmFtZVRvRWRpdC5mb2N1cygpO1xyXG5cdG5hbWVUb0VkaXQuc2VsZWN0KCk7XHJcblx0bmFtZVRvRWRpdC5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTtcclxuXHRuYW1lVG9FZGl0LmNsYXNzTGlzdC5hZGQoXCJmb2N1c2VkXCIpO1xyXG5cclxuXHRzYXZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0c2F2ZVVzZXJuYW1lKGUsIGVtcHR5RmllbGRFcnJvcik7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBzYXZlVXNlcm5hbWUgPSAoZSwgZW1wdHlGaWVsZEVycm9yKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwgW107XHJcblxyXG5cdGNvbnN0IHNhdmVCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZSA9IHNhdmVCdG4uY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlSWQgPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX2J0blwiKVxyXG5cdFx0LmRhdGFzZXQuaWQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVOYW1lID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLm1haW4tcHJvZmlsZXNfX25hbWVcIlxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcclxuXHJcblx0aWYgKGNsb3Nlc3RQcm9maWxlTmFtZS52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuXHRcdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpKTtcclxuXHRcdHJldHVybiBzaG93RXJyb3JQb3B1cChlbXB0eUZpZWxkRXJyb3IsIFwiI0ZBQzA0NFwiKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVwZGF0ZWRQcm9maWxlcyA9IHtcclxuXHRcdC4uLmV4aXN0aW5nUHJvZmlsZXMsXHJcblx0XHRbY2xvc2VzdFByb2ZpbGVJZF06IHtcclxuXHRcdFx0Li4uZXhpc3RpbmdQcm9maWxlc1tjbG9zZXN0UHJvZmlsZUlkXSxcclxuXHRcdFx0bmFtZTogY2xvc2VzdFByb2ZpbGVOYW1lLnZhbHVlLFxyXG5cdFx0fSxcclxuXHR9O1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1cGRhdGVkUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHJcblx0cmVzZXRTdGF0ZU9mRWRpdGluZyhlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNhdmVCdG4gPSAoc2F2ZUJ0bkFyaWEpID0+IHtcclxuXHRjb25zdCBzYXZlVXNlckluZm9CdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX3NhdmUtbmFtZVwiLCBcImhpZGRlblwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHNhdmVCdG5BcmlhIH1cclxuXHQpO1xyXG5cdGNvbnN0IHNhdmVVc2VySW5mb0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX3NhdmUtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvc2F2ZS5zdmdcIixcclxuXHR9KTtcclxuXHJcblx0c2F2ZVVzZXJJbmZvQnRuLmFwcGVuZChzYXZlVXNlckluZm9JY29uKTtcclxuXHJcblx0cmV0dXJuIHNhdmVVc2VySW5mb0J0bjtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0U3RhdGVPZkVkaXRpbmcgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IGZvY3VzZWROYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9jdXNlZFwiKTtcclxuXHRjb25zdCBhbGxTYXZlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fc2F2ZS1uYW1lXCIpO1xyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGZvY3VzZWROYW1lcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0ZWwuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgdHJ1ZSk7XHJcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9jdXNlZFwiKTtcclxuXHRcdGVsLmJsdXIoKTtcclxuXHR9KTtcclxuXHRhbGxTYXZlQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpKTtcclxufTtcclxuXHJcbmxldCBwb3B1cFZpc2libGUgPSBmYWxzZTtcclxuZXhwb3J0IGNvbnN0IHNob3dFcnJvclBvcHVwID0gKHRleHQsIGNvbG9yKSA9PiB7XHJcblx0aWYgKHBvcHVwVmlzaWJsZSkgcmV0dXJuO1xyXG5cdHBvcHVwVmlzaWJsZSA9IHRydWU7XHJcblxyXG5cdGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGNvbnN0IHBvcHVwID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJlcnJvci1wb3B1cFwiXSk7XHJcblx0Y29uc3QgcG9wdXBFcnJvciA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImVycm9yLXBvcHVwX190ZXh0XCJdKTtcclxuXHJcblx0cG9wdXBFcnJvci50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0cm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZXJyb3JUeHRDb2xvclwiLCBjb2xvcik7XHJcblxyXG5cdHBvcHVwLmFwcGVuZChwb3B1cEVycm9yKTtcclxuXHRjb250YWluZXIuYXBwZW5kKHBvcHVwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0sIDIwMDApO1xyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0cG9wdXAucmVtb3ZlKCk7XHJcblx0XHRwb3B1cFZpc2libGUgPSBmYWxzZTtcclxuXHR9LCBISURFX1BPUFVQX1RJTUUpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlVXNlciA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcztcclxuXHRjb25zdCBhbGxFZGl0QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCIpO1xyXG5cclxuXHRjb25zdCBkZWxldGVCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZSA9IGRlbGV0ZUJ0bi5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIik7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVCdG4gPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX2J0blwiKTtcclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7XHJcblxyXG5cdGRlbGV0ZSB1c2VyUHJvZmlsZXNbY2xvc2VzdFByb2ZpbGVCdG4uZGF0YXNldC5pZF07XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVzZXJQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cclxuXHRjbG9zZXN0UHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNsb3Nlc3RQcm9maWxlLnJlbW92ZSgpO1xyXG5cdH0sIDQwMCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQnJvd3NlUGFnZSA9ICh7XHJcblx0aGVhZGVyOiB7XHJcblx0XHRhbHQ6IHsgbG9nbyB9LFxyXG5cdFx0YXJpYTogeyBsb2dvTGluayB9LFxyXG5cdH0sXHJcblx0YnJvd3NlUGFnZToge1xyXG5cdFx0bmFtZXM6IHsgZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmsgfSxcclxuXHRcdGFyaWE6IHsgdXNlckJ1dHRvbiB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIFtcImJyb3dzZS1oZWFkZXJcIl0pO1xyXG5cdGNvbnN0IGxvZ29NYWluTGluayA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ29cIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBsb2dvTGluayxcclxuXHRcdGhyZWY6IFwiXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbG9nb01haW5JbWcgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ28taW1nXCJdLCB7XHJcblx0XHRhbHQ6IGxvZ28sXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nby5zdmdcIixcclxuXHR9KTtcclxuXHRjb25zdCBtYWluVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvLXRleHRcIl0pO1xyXG5cclxuXHRtYWluVGl0bGUudGV4dENvbnRlbnQgPSBcIlN0cmVhbVwiO1xyXG5cclxuXHRsb2dvTWFpbkxpbmsuYXBwZW5kKGxvZ29NYWluSW1nLCBtYWluVGl0bGUpO1xyXG5cdGhlYWRlci5hcHBlbmQoXHJcblx0XHRsb2dvTWFpbkxpbmssXHJcblx0XHRjcmVhdGVCcm93c2VyTmF2KGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rKSxcclxuXHRcdGNyZWF0ZVVzZXJCdG4odXNlckJ1dHRvbilcclxuXHQpO1xyXG5cclxuXHRyZXR1cm4gaGVhZGVyO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQnJvd3Nlck5hdiA9IChmaWxtTGluaywgc2VyaWVzTGluaywgbXlMaXN0TGluaywgc2VhcmNoTGluaykgPT4ge1xyXG5cdGNvbnN0IG5hdiA9IGNyZWF0ZUVsZW1lbnQoXCJuYXZcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbmF2XCJdKTtcclxuXHRjb25zdCBuYXZMaW5rcyA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBbXCJicm93c2UtaGVhZGVyX19saW5rc1wiXSk7XHJcblxyXG5cdGNvbnN0IGxpbmtOYW1lcyA9IFtcclxuXHRcdHtcclxuXHRcdFx0bmFtZTogZmlsbUxpbmssXHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9maWxtLWljb24uc3ZnXCIsXHJcblx0XHR9LFxyXG5cdFx0eyBuYW1lOiBzZXJpZXNMaW5rLCBzcmM6IFwiLi9zcmMvaWNvbnMvc2VyaWVzLWljb24uc3ZnXCIgfSxcclxuXHRcdHtcclxuXHRcdFx0bmFtZTogbXlMaXN0TGluayxcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xpc3QtaWNvbi5zdmdcIixcclxuXHRcdH0sXHJcblx0XHR7IG5hbWU6IHNlYXJjaExpbmssIHNyYzogXCIuL3NyYy9pY29ucy9zZWFyY2gtaWNvbi5zdmdcIiB9LFxyXG5cdF07XHJcblxyXG5cdGxpbmtOYW1lcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcblx0XHRjb25zdCBsaXN0SXRlbSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXCJicm93c2UtaGVhZGVyX19pdGVtXCJdKTtcclxuXHRcdGNvbnN0IGxpbmtFbCA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmtcIl0sIHsgaHJlZjogXCJcIiB9KTtcclxuXHRcdGNvbnN0IGljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmstaWNvblwiXSwge1xyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdHNyYzogbGluay5zcmMsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgdGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmstdGV4dFwiXSk7XHJcblxyXG5cdFx0dGV4dC50ZXh0Q29udGVudCA9IGxpbmsubmFtZTtcclxuXHJcblx0XHRsaW5rRWwuYXBwZW5kKGljb24sIHRleHQpO1xyXG5cdFx0bGlzdEl0ZW0uYXBwZW5kKGxpbmtFbCk7XHJcblxyXG5cdFx0bmF2TGlua3MuYXBwZW5kKGxpc3RJdGVtKTtcclxuXHR9KTtcclxuXHJcblx0bmF2LmFwcGVuZChuYXZMaW5rcyk7XHJcblxyXG5cdHJldHVybiBuYXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVc2VyQnRuID0gKHVzZXJCdG5BcmlhKSA9PiB7XHJcblx0Y29uc3QgdXNlckJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1ib3hcIl0pO1xyXG5cdGNvbnN0IHVzZXJCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXJcIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiB1c2VyQnRuQXJpYSxcclxuXHR9KTtcclxuXHRjb25zdCB1c2VySWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy91c2VyLWljb24uc3ZnXCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0fSk7XHJcblxyXG5cdHVzZXJCdG4uYXBwZW5kKHVzZXJJY29uKTtcclxuXHR1c2VyQm94LmFwcGVuZCh1c2VyQnRuKTtcclxuXHJcblx0cmV0dXJuIHVzZXJCb3g7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTWFpbkhlcm9TZWN0aW9uID0gKG1vdmllcywgdHJhbnNsYXRpb25zLCBwYXJlbnQpID0+IHtcclxuXHRjb25zdCBicm93c2VNYWluID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wiYnJvd3NlLW1haW5cIl0pO1xyXG5cdGNvbnN0IGJyb3dzZU1haW5TZWN0aW9uID0gY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgW1xyXG5cdFx0XCJicm93c2UtbWFpbl9faGVyby1zZWN0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgaW1hZ2VzQ2Fyb3VzZWxsID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19pbWFnZS1jYXJvdXNlbGxcIixcclxuXHRdKTtcclxuXHRjb25zdCBpbWFnZXNJbnNpZGVTbGlkZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19pbWFnZXNcIl0pO1xyXG5cdG1vdmllcy5mb3JFYWNoKCh7IGlkLCB0aXRsZSwgb3ZlcnZpZXcgPSBcIlwiLCBiYWNrZHJvcF9wYXRoIH0pID0+IHtcclxuXHRcdGNvbnN0IGltZ1NyYyA9IGJhY2tkcm9wX3BhdGg7XHJcblx0XHRjb25zdCBpbWFnZUJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2ltZy1ib3hcIl0pO1xyXG5cdFx0Y29uc3QgaW1hZ2UgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1tYWluX19pbWdcIl0sIHtcclxuXHRcdFx0YWx0OiBgJHt0cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LmNhcm91c2VsbEltYWdlcz8uYXJpYS5jYXJvdXNlbGxJbWFnZUFsdH0gJHt0aXRsZX1gLFxyXG5cdFx0XHRzcmM6IGltZ1NyY1xyXG5cdFx0XHRcdD8gZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpXHJcblx0XHRcdFx0OiBcIi4vZGlzdC9pbWcvaW1nLXBsYWNlaG9sZGVyLnN2Z1wiLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCB0ZXh0Qm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9fdGV4dC1ib3hcIl0pO1xyXG5cdFx0Y29uc3QgZmlsbVRpdGxlID0gY3JlYXRlRWxlbWVudChcImgyXCIsIFtcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtdGl0bGVcIl0pO1xyXG5cdFx0Y29uc3QgZmlsbUluZm8gPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJicm93c2UtbWFpbl9fY2Fyb3VzZWxsLW92ZXJ2aWV3XCJdLCB7XHJcblx0XHRcdHRhYmluZGV4OiAtMSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZpbG1UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cdFx0ZmlsbUluZm8udGV4dENvbnRlbnQgPSBvdmVydmlldztcclxuXHJcblx0XHR0ZXh0Qm94LmFwcGVuZChmaWxtVGl0bGUsIGZpbG1JbmZvLCBjcmVhdGVBY3Rpb25CdXR0b25zKGlkLCB0cmFuc2xhdGlvbnMpKTtcclxuXHRcdGltYWdlQm94LmFwcGVuZChpbWFnZSwgdGV4dEJveCk7XHJcblx0XHRpbWFnZXNJbnNpZGVTbGlkZXIuYXBwZW5kKGltYWdlQm94KTtcclxuXHRcdGltYWdlc0Nhcm91c2VsbC5hcHBlbmQoaW1hZ2VzSW5zaWRlU2xpZGVyKTtcclxuXHJcblx0XHRicm93c2VNYWluU2VjdGlvbi5hcHBlbmQoaW1hZ2VzQ2Fyb3VzZWxsKTtcclxuXHRcdGJyb3dzZU1haW4uYXBwZW5kKGJyb3dzZU1haW5TZWN0aW9uKTtcclxuXHJcblx0XHRwYXJlbnQuYXBwZW5kKGJyb3dzZU1haW4pO1xyXG5cdH0pO1xyXG5cclxuXHRpbWFnZXNDYXJvdXNlbGwuYXBwZW5kKGNyZWF0ZUNhcm91c2VsbENvbnRyb2xzKG1vdmllcywgdHJhbnNsYXRpb25zKSk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUFjdGlvbkJ1dHRvbnMgPSAoXHJcblx0aWQsXHJcblx0e1xyXG5cdFx0YnJvd3NlUGFnZToge1xyXG5cdFx0XHRhY3Rpb25CdG5zOiB7IHRyYWlsZXJCdG5UZXh0LCBtb3JlSW5mb0J0blRleHQgfSxcclxuXHRcdH0sXHJcblx0fVxyXG4pID0+IHtcclxuXHRjb25zdCBhY3Rpb25CdG5zUGFuZWwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19hY3Rpb24tYnRuc1wiXSk7XHJcblx0Y29uc3Qgc2hvd1RyYWlsZXJCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1tYWluX190cmFpbGVyLWJ0blwiXSwge1xyXG5cdFx0XCJkYXRhLXRyYWlsZXJcIjogaWQsXHJcblx0fSk7XHJcblx0Y29uc3Qgc2hvd1RyYWlsZXJUZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLW1haW5fX3NlZS10cmFpbGVyXCJdKTtcclxuXHRjb25zdCBzZWVNb3JlQnRuID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLW1haW5fX3NlZS1tb3JlLWJ0blwiXSwge1xyXG5cdFx0XCJkYXRhLW1vdmllXCI6IGlkLFxyXG5cdFx0aHJlZjogXCJcIixcclxuXHR9KTtcclxuXHJcblx0c2hvd1RyYWlsZXJUZXh0LnRleHRDb250ZW50ID0gdHJhaWxlckJ0blRleHQ7XHJcblx0c2VlTW9yZUJ0bi50ZXh0Q29udGVudCA9IG1vcmVJbmZvQnRuVGV4dDtcclxuXHJcblx0c2hvd1RyYWlsZXJCdG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJicm93c2UtbWFpbl9fdHJhaWxlci1wbGF5LWljb25cIlxyXG5cdHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIlxyXG5cdHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiIzAwMFwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCJcclxuXHRzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxyXG5cdGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXBsYXlcIj5cclxuXHQ8cG9seWdvbiBwb2ludHM9XCI1IDMgMTkgMTIgNSAyMSA1IDNcIj48L3BvbHlnb24+XHJcblx0PC9zdmc+YDtcclxuXHJcblx0c2hvd1RyYWlsZXJCdG4uYXBwZW5kKHNob3dUcmFpbGVyVGV4dCk7XHJcblxyXG5cdGFjdGlvbkJ0bnNQYW5lbC5hcHBlbmQoc2hvd1RyYWlsZXJCdG4sIHNlZU1vcmVCdG4pO1xyXG5cclxuXHRyZXR1cm4gYWN0aW9uQnRuc1BhbmVsO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQ2Fyb3VzZWxsQ29udHJvbHMgPSAoXHJcblx0bW92aWVzLFxyXG5cdHtcclxuXHRcdGJyb3dzZVBhZ2U6IHtcclxuXHRcdFx0Y2Fyb3VzZWxsQnRuczogeyBhcmlhIH0sXHJcblx0XHR9LFxyXG5cdH1cclxuKSA9PiB7XHJcblx0Y29uc3QgY2Fyb3VzZWxsQ29udHJvbHMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC1jb250cm9sc1wiLFxyXG5cdF0pO1xyXG5cclxuXHRtb3ZpZXMuZm9yRWFjaCgobW92aWUsIGluZGV4KSA9PiB7XHJcblx0XHRjb25zdCBjYXJvdXNlbGxCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1tYWluX19idG5cIl0sIHtcclxuXHRcdFx0XCJkYXRhLWltZ1wiOiBpbmRleCxcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IGAke2FyaWF9ICR7aW5kZXh9YCxcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcdFwiYnJvd3NlLW1haW5fX3Byb2dyZXNzLWJhclwiLFxyXG5cdFx0XSk7XHJcblxyXG5cdFx0Y2Fyb3VzZWxsQnRuLmFwcGVuZChjYXJvdXNlbGxCdG5Qcm9ncmVzc0Jhcik7XHJcblxyXG5cdFx0Y2Fyb3VzZWxsQ29udHJvbHMuYXBwZW5kKGNhcm91c2VsbEJ0bik7XHJcblx0fSk7XHJcblx0cmV0dXJuIGNhcm91c2VsbENvbnRyb2xzO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZpbG1TbGlkZXIgPSAoZmlsbXMsIHRyYW5zbGF0aW9ucywgaW5kZXgsIHRpdGxlKSA9PiB7XHJcblx0Y29uc3QgcHJvcGVyRmlsbXMgPSBmaWxtc1tpbmRleF0ucmVzdWx0cztcclxuXHJcblx0Y29uc3QgYnJvd3NlU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIFtcclxuXHRcdFwiYnJvd3NlLXNlY3Rpb25cIixcclxuXHRcdFwiYnJvd3NlLXNlY3Rpb25fX3VwY29taW5nLWZpbG1zXCIsXHJcblx0XSk7XHJcblx0Y29uc3Qgc2VjdGlvblRpdGxlID0gY3JlYXRlRWxlbWVudChcImgzXCIsIFtcImJyb3dzZS1zZWN0aW9uX190aXRsZVwiXSk7XHJcblx0Y29uc3Qgc2VjdGlvblNsaWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlclwiXSk7XHJcblx0Y29uc3Qgc2VjdGlvbkltYWdlcyA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImRpdlwiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWFnZXNcIl0sXHJcblx0XHR7IFwiZGF0YS1pbmRleFwiOiAwIH1cclxuXHQpO1xyXG5cclxuXHRjb25zdCBzaG93UHJldlNsaWRlQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0blwiLCBcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItcHJldi1idG5cIl0sXHJcblx0XHR7XHJcblx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dQcmV2U2xpZGVCdG4sXHJcblx0XHRcdGRpc2FibGVkOiB0cnVlLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3Qgc2hvd05leHRTbGlkZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG5cIiwgXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLW5leHQtYnRuXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5zaG93TmV4dFNsaWRlQnRuIH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dQcmV2U2xpZGVJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0bi1pY29uXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2hldnJvbi1sZWZ0LnN2Z1wiLFxyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dOZXh0U2xpZGVJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0bi1pY29uXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2hldnJvbi1yaWdodC5zdmdcIixcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHJcblx0c2VjdGlvblRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdHNob3dOZXh0U2xpZGVCdG4uYXBwZW5kKHNob3dOZXh0U2xpZGVJY29uKTtcclxuXHRzaG93UHJldlNsaWRlQnRuLmFwcGVuZChzaG93UHJldlNsaWRlSWNvbik7XHJcblxyXG5cdGNyZWF0ZUZpbG1Qb3N0ZXJzKHByb3BlckZpbG1zLCB0cmFuc2xhdGlvbnMsIHNlY3Rpb25JbWFnZXMpO1xyXG5cclxuXHRzZWN0aW9uU2xpZGVyLmFwcGVuZChzZWN0aW9uSW1hZ2VzLCBzaG93UHJldlNsaWRlQnRuLCBzaG93TmV4dFNsaWRlQnRuKTtcclxuXHRicm93c2VTZWN0aW9uLmFwcGVuZChzZWN0aW9uVGl0bGUsIHNlY3Rpb25TbGlkZXIpO1xyXG5cclxuXHRyZXR1cm4gYnJvd3NlU2VjdGlvbjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUZpbG1Qb3N0ZXJzID0gKHByb3BlckZpbG1zLCB0cmFuc2xhdGlvbnMsIHBhcmVudCkgPT4ge1xyXG5cdHByb3BlckZpbG1zLmZvckVhY2goKHsgaWQsIHRpdGxlLCBwb3N0ZXJfcGF0aCB9KSA9PiB7XHJcblx0XHRjb25zdCBpbWdTcmMgPSBwb3N0ZXJfcGF0aDtcclxuXHRcdGNvbnN0IHNlY3Rpb25Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYm94XCJdKTtcclxuXHJcblx0XHRjb25zdCBzZWN0aW9uTGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiYVwiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWltZy1saW5rXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aHJlZjogXCJicm93c2UuaHRtbFwiLFxyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dNb3JlSW5mb0Fib3V0RmlsbSxcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25GaWxtUG9zdGVyID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJpbWdcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWdcIl0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhbHQ6IGAke3RyYW5zbGF0aW9ucz8uY2Fyb3VzZWxsSW1hZ2VzPy5hcmlhPy5jYXJvdXNlbGxJbWFnZUFsdH0gJHt0aXRsZX1gLFxyXG5cdFx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRcdHdpZHRoOiBcIlwiLFxyXG5cdFx0XHRcdGhlaWdodDogXCJcIixcclxuXHRcdFx0XHRzcmM6IGltZ1NyY1xyXG5cdFx0XHRcdFx0PyBnZXRJbWFnZVVybChpbWdTcmMsIFwib3JpZ2luYWxcIilcclxuXHRcdFx0XHRcdDogXCIuL2Rpc3QvaW1nL2ltZy1wbGFjZWhvbGRlci5zdmdcIixcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25BZGRUb0xpc3RCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImJ1dHRvblwiLFxyXG5cdFx0XHRbXCJicm93c2Utc2VjdGlvbl9fYWRkLXRvLWxpc3QtYnRuXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uYWRkVG9MaXN0QnRuLFxyXG5cdFx0XHRcdFwiZGF0YS1tb3ZpZVwiOiBpZCxcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25BZGRUb0xpc3RJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJpbWdcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWljb25cIl0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvYWRkLXByb2ZpbGUuc3ZnXCIsXHJcblx0XHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uVG9vbHRpcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1zZWN0aW9uX190b29sdGlwXCJdKTtcclxuXHJcblx0XHRzZWN0aW9uVG9vbHRpcC50ZXh0Q29udGVudCA9IHRyYW5zbGF0aW9ucy5icm93c2VTZWN0aW9uLmluZm87XHJcblxyXG5cdFx0c2VjdGlvbkFkZFRvTGlzdEJ0bi5hcHBlbmQoc2VjdGlvbkFkZFRvTGlzdEljb24pO1xyXG5cclxuXHRcdHNlY3Rpb25MaW5rLmFwcGVuZChzZWN0aW9uRmlsbVBvc3Rlcik7XHJcblxyXG5cdFx0c2VjdGlvbkJveC5hcHBlbmQoc2VjdGlvbkxpbmssIHNlY3Rpb25BZGRUb0xpc3RCdG4sIHNlY3Rpb25Ub29sdGlwKTtcclxuXHJcblx0XHRwYXJlbnQuYXBwZW5kKHNlY3Rpb25Cb3gpO1xyXG5cdH0pO1xyXG59O1xyXG4iXX0=
