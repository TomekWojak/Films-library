import{verifyCredentials}from"./firebase-auth.min.js";import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_POPUP_TIME=2500,options={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNTYwZjM4MjU3NDQ1ZGE1ZGZkYTYxYzE0YWM4YmM4MyIsIm5iZiI6MTc1OTc2NTAzOC45NCwic3ViIjoiNjhlM2UyMmUyNjY5NzY4MzhlYzI3NzI5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.nuGfEjclJLepmzzHi2omNhp29THgrJf9Nv6D4_gTdxA"}};export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("Invalid user data. Resetting storage.","#dc4a34"),new Error("Invalid data structure");return t}catch{return localStorage.removeItem("userData"),showErrorPopup("Error accessing user data. Please try again.","#dc4a34"),{}}};const getCurrentDate=()=>(new Date).getFullYear();export const createFooter=({header:{alt:{logo:e}}})=>{const t=getCurrentDate(),r=createElement("footer",["browse-footer"]),a=createElement("span",["browse-footer__logo"]),n=createElement("img",["browse-footer__img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),o=createElement("p",["browse-footer__info"]);return a.textContent="Stream",a.prepend(n),o.textContent=`Â©${t} Stream corporation | All rights reserved.`,r.append(a,o),r};export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},a,n,o,i)=>{const s=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),s.append(l);const m=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),p=createElement("span",["login-header__lang-platform-lang"]),g=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),_=createElement("ul",["login-header__lang-list"]);for(let e=0;e<a;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(n)[e],a=Object.values(n)[e];t.dataset.lang=r,t.textContent=a,t.style.animationDelay=100*e+"ms",_.append(t)}return p.textContent=n[o],m.addEventListener("click",e=>{i.call(m,e,p)}),m.append(p,g,_),s.append(m),s};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:a},placeholder:{username:n,password:o}}})=>{const i=createElement("main",["main"]),s=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),m=createElement("p",["main__text"]),p=createElement("form",["main__form"]),g=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:n,value:"handsomeUser404@test.com"}),_=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o,value:"123456789"}),h=createElement("button",["main__form-button"],{type:"submit"}),u=createElement("span",["main__form-button-text"]),b=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,m.textContent=r,u.textContent=a,l.append(c,d),h.append(u),p.append(g,_,h,b),s.append(l,m,p),i.append(s),h.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t),handleLoginValidation(e,g,_,translations.main.text.errorRequired,translations.main.text.errorInvalid,b).then(e=>{e||(setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html")})}),i};const handleLoginValidation=async(e,t,r,a,n,o)=>{if(e.preventDefault(),""===t.value.trim()||""===r.value.trim())return o.classList.add("visible"),o.textContent=a,a;const i=t.value.trim(),s=r.value.trim();e.target.disabled=!0,e.target.append(showSmallLoader()),o.classList.remove("visible");const l=await verifyCredentials(i,s);return hideSmallLoader(),e.target.disabled=!1,l.success?null:(o.classList.add("visible"),o.textContent=n,n)};export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:a,userBtnCustomize:n,removeUserInfo:o}},errorPopup:{text:{maxProfiles:i,emptyField:s}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),m=createElement("div",["wrapper"]),p=createElement("h1",["main__title","main-profiles__title"]),g=createElement("div",["main-profiles__box"]);if(p.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)g.append(createProfile(a,n,n,s,o,e,c[e]));g.append(createProfileAddBtn(r,t,a,g,n,n,i,s,o)),m.append(p,g),l.append(m),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,a,n,o=null,i=null)=>{const s=getData(),l=s?.userProfiles||{};if(null===s)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,m;const p=["#dc4a34","#062E63","#FAC044"];if(o){d=o,m=i.name;c=p[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,m=`Handsome User ${e}`,c=p[e-1]}const g=createElement("div",["main-profiles__profile"]),_=createElement("div",["main-profiles__avatar"]),h=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),u=createElement("div",["main-profiles__user-info"]),b=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:m}),f=createElement("span",["name-border"]),w=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),E=createElement("button",["main-profiles__remove-user"],{"aria-label":n}),v=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(h.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',h.style.backgroundColor=c,_.append(h),w.append(x),E.append(v),u.append(b,f,w,E),g.append(_,u),!o){const e={...l,[d]:{name:m}};setUserPreference("userProfiles",e,s)}return w.addEventListener("click",e=>{editUsername(e,u,r,a)}),E.addEventListener("click",e=>{removeUser(e)}),b.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,a)}),h.addEventListener("click",e=>setCurrentProfile(e)),g.classList.add("visible"),g},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,a,n,o,i,s,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),m=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),p=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),g=createElement("span",["main-profiles__name"]);return g.textContent=t,m.append(p),d.append(m),c.append(d,g),m.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(i,"#dc4a34");const d=createProfile(r,n,o,s,l);d&&a.insertBefore(d,c)}),c},editUsername=(e,t,r,a)=>{resetStateOfEditing(e);const n=e.target,o=n.closest(".main-profiles__profile").querySelector(".main-profiles__name"),i=createSaveBtn(r);n.classList.add("hidden"),i.classList.remove("hidden"),t.append(i),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),i.addEventListener("click",e=>{saveUsername(e,a)})},saveUsername=(e,t)=>{const r=getData(),a=r?.userProfiles||[],n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn").dataset.id,i=n.querySelector(".main-profiles__name"),s=document.querySelectorAll(".main-profiles__edit-name");if(s.forEach(e=>e.removeAttribute("disabled")),""===i.value.trim())return s.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...a,[o]:{...a[o],name:i.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),a=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),a.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,a=document.querySelector(".container"),n=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),n.append(o),a.append(n),setTimeout(()=>{n.classList.add("hidden")},2e3),setTimeout(()=>{n.remove(),popupVisible=!1},2500)};export const createUserPanel=()=>{const e=getData();e||showErrorPopup("An unexpected error occurred","#dc4a34");const t=e?.currentProfile,r=e?.userProfiles[t]?.name,a=createElement("div",["browse-header__user-panel"]),n=createElement("p",["browse-header__user-info"]),o=createElement("span",["browse-header__username"]),i=createElement("hr",["browse-header__hr"]),s=createElement("ul",["browse-header__user-panel-list"]),l=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/settings-icon.svg",loading:"lazy"}),c=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/swap-icon.svg",loading:"lazy"}),d=createElement("img",["browse-header__icon","browse-header__icon-settings"],{width:"24",height:"24",alt:"",src:"./src/icons/logout-icon.svg",loading:"lazy"}),m=createElement("li",["browse-header__user-panel-option"]),p=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--settings"],{href:""}),g=createElement("li",["browse-header__user-panel-option"]),_=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--logout"],{href:""}),h=createElement("li",["browse-header__user-panel-option"]),u=createElement("a",["browse-header__user-panel-link","browse-header__user-panel-link--swap-profile"],{href:"profiles.html"});return o.textContent=r,n.textContent=e?.translations?.browsePage?.userPanel?.greeting,n.append(o),u.textContent=e?.translations?.browsePage?.userPanel?.profiles,p.textContent=e?.translations?.browsePage?.userPanel?.settings,_.textContent=e?.translations?.browsePage?.userPanel?.login,u.append(c),p.append(l),_.append(d),h.append(u),m.append(p),g.append(_),s.append(h,m,g),a.append(n,i,s),a.addEventListener("click",e=>{e.target.matches(".browse-header__user-panel-link--logout")&&handleLogOut(e)}),a};const handleLogOut=e=>{e.preventDefault();const t=getData(),r=document.querySelector(".container");t&&(r.append(showBigLoader()),r.append(createOverlay()),document.body.style.overflowY="hidden",setTimeout(()=>{hideBigLoader(),setUserPreference("loggedIn",!1),setUserPreference("currentProfile",null),window.location.href="index.html"},2500))},removeUser=e=>{const t=getData(),r=t?.userProfiles,a=document.querySelectorAll(".main-profiles__edit-name"),n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn");a.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),n.classList.add("hidden"),setTimeout(()=>{n.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:a,myListLink:n,searchLink:o},aria:{userButton:i}}})=>{const s=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:"browse.html"}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),s.append(l,createBrowserNav(r,a,n,o),createUserBtn(i),createUserPanel()),s};const createBrowserNav=(e,t,r,a)=>{const n=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:a,src:"./src/icons/search-icon.svg"}].forEach((e,t)=>{const r=createElement("li",["browse-header__item"]),a=createElement("a",["browse-header__link"],{href:["movies.html","series.html","my-list.html","search.html"][t]}),n=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),i=createElement("span",["browse-header__link-text"]);i.textContent=e.name,a.append(n,i),r.append(a),o.append(r)}),n.append(o),n},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),a=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(a),t.append(r),r.addEventListener("click",()=>{showUserPanel(t)}),t};export const createMainHeroSection=(e,t,r)=>{const a=createElement("main",["browse-main"]),n=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),i=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:r,name:s,overview:l="",backdrop_path:c})=>{const d=c,m=createElement("div",["browse-main__img-box"]),p=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${r||s}`,src:d?getImageUrl(d,"original"):"./dist/img/img-placeholder.svg"}),g=createElement("div",["browse-main__text-box"]),_=createElement("h2",["browse-main__carousell-title"]),h=createElement("p",["browse-main__carousell-overview"],{tabindex:-1});_.textContent=r,h.textContent=l,g.append(_,h,createActionButtons(e,t)),m.append(p,g),i.append(m),o.append(i),n.append(o),a.append(n)}),r.append(a),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const a=createElement("div",["browse-main__action-btns"]),n=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e,"data-type":"movie"}),o=createElement("span",["browse-main__see-trailer"]),i=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:`explore.html?id=${e}&type=movie`});return o.textContent=t,i.textContent=r,n.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',n.append(o),a.append(n,i),a},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,a)=>{const n=createElement("button",["browse-main__btn"],{"data-img":a,"aria-label":`${t} ${a}`}),o=createElement("span",["browse-main__progress-bar"]);n.append(o),r.append(n)}),r};export const createFilmSlider=(e,t,r,a,n)=>{const o=e[r]?.results||[];if(!o.length)return console.error(`No films found for index ${r}`),void showErrorPopup(`No films found for index ${r}`,"#dc4a34");const i=createElement("section",["browse-section"]),s=createElement("h3",["browse-section__title"]),l=createElement("div",["browse-section__slider"],{"data-index":0}),c=createElement("div",["browse-section__slider-images"]),d=createElement("button",["browse-section__slider-btn","browse-section__slider-prev-btn"],{"aria-label":t?.browseSection?.aria?.showPrevSlideBtn}),m=createElement("button",["browse-section__slider-btn","browse-section__slider-next-btn"],{"aria-label":t?.browseSection?.aria?.showNextSlideBtn}),p=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-left.svg",width:"24",height:"24",loading:"lazy",alt:""}),g=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-right.svg",width:"24",height:"24",loading:"lazy",alt:""});return s.textContent=a,m.append(g),d.append(p),createFilmPosters(o,t,c,n),l.append(c,d,m),i.append(s,l),i};const createFilmPosters=(e,t,r,a)=>{e.forEach(({id:e,title:n,name:o,poster_path:i,media_type:s})=>{const l=i,c=createElement("div",["browse-section__slider-box"]),d=createElement("a",["browse-section__slider-img-link"],{href:`explore.html?id=${e}&type=${s||a}`,"aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),m=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${n||o}`,loading:"lazy",width:"",height:"",src:l?getImageUrl(l,"original"):"./dist/img/img-placeholder.svg"}),p=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),g=createElement("img",["browse-section__add-to-list-icon"],{src:"./src/icons/add-profile.svg",width:"24",height:"24",loading:"lazy",alt:""}),_=createElement("span",["browse-section__tooltip"]);_.textContent=t?.browseSection?.info,p.append(g),d.append(m),c.append(d,p,_),r.append(c)})},createOverlay=()=>createElement("div",["overlay"]),showUserPanel=e=>{e.nextElementSibling.classList.toggle("visible")};export const closeAllNotClicked=e=>{const t=document.querySelector(".browse-header__user-panel"),r=document.querySelector(".browse-header__user");t.classList.contains("visible")&&e.target!==t&&e.target!==r&&!t.contains(e.target)&&t.classList.remove("visible")};export const createFourCategories=({browsePage:{categories:{animations:e,horror:t,comedy:r,fantasy:a}}})=>{const n=createElement("section",["categories"]),o=createElement("div",["categories__box"]),i=createElement("div",["categories__box-card","categories__box-card--animations"]),s=createElement("div",["categories__box-card","categories__box-card--fantasy"]),l=createElement("div",["categories__box-card","categories__box-card--horrors"]),c=createElement("div",["categories__box-card","categories__box-card--comedy"]),d=createElement("a",["categories__box-link","categories__box-link--animations"],{href:"categories.html?category=animated"}),m=createElement("a",["categories__box-link","categories__box-link--fantasy"],{href:"categories.html?category=fantasy"}),p=createElement("a",["categories__box-link","categories__box-link--horrors"],{href:"categories.html?category=horror"}),g=createElement("a",["categories__box-link","categories__box-link--comedy"],{href:"categories.html?category=comedy"});return d.textContent=e,m.textContent=a,p.textContent=t,g.textContent=r,i.append(d),s.append(m),l.append(p),c.append(g),o.append(i,s,l,c),n.append(o),n};export const createSpecifiedSectionPoster=(e,t)=>{const r=createElement("main",["specified-category__main"]),a=createElement("section",["specified-category"]),n=createElement("div",["specified-category__container"]);return e.forEach((e,r)=>{e&&e.forEach(({id:e,title:a,name:o,poster_path:i})=>{const s=0===r?"movie":"tv",l=i,c=createElement("div",["specified-category__item"]),d=createElement("a",["specified-category__link"],{href:`explore.html?id=${e}&type=${s}`,"aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),m=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${a||o}`,loading:"lazy",src:l?getImageUrl(l,"original"):"./dist/img/img-placeholder.svg"}),p=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),g=createElement("img",["browse-section__add-to-list-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/add-profile.svg"}),_=createElement("span",["browse-section__tooltip"]);_.textContent=t?.browseSection?.info,p.append(g),d.append(m),c.append(d,p,_),n.append(c)})}),a.append(n),r.append(a),r};export const createExploreHeroSection=({title:e,name:t,id:r,backdrop_path:a,overview:n},o)=>{const i=new URLSearchParams(window.location.search).get("type"),s=createElement("div",["explore__film-poster"]),l=createElement("div",["explore__film-content"]),c=createElement("h1",["explore__film-title","animated"]),d=createElement("p",["explore__film-info","animated"]),m=createElement("button",["explore__film-show-trailer-btn","animated"],{"data-trailer":r,"data-type":i}),p=a,g=createElement("button",["explore__film-add-to-list-btn","animated"],{"aria-label":o?.browseSection?.aria?.addToListBtn,"data-movie":r}),_=createElement("button",["explore__back-btn","animated"],{"aria-label":o.explore.backButton});c.textContent=e||t,d.textContent=n,m.innerHTML='<svg class="explore__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>';const h=createElement("span",["explore__see-trailer"]);return h.textContent=o?.browsePage?.actionBtns?.trailerBtnText,m.append(h),g.innerHTML='<img class="explore__film-add-icon" src="./src/icons/add-profile.svg" width="24" height="24" alt="" loading="lazy">',_.innerHTML='<img class="explore__back-btn-icon" src="./src/icons/chevron-left.svg" width="24" height="24" alt="" loading="lazy">',s.style.backgroundImage=`url('${p?getImageUrl(p,"original"):"./dist/img/img-placeholder.svg"}')`,_.addEventListener("click",()=>{history.back()}),l.append(c,d,m,g,_),s.append(l),s};export const createSearchEngine=e=>{const t=createElement("div",["search-engine__box"]),r=createElement("input",["search-engine__input"],{type:"text",placeholder:e?.searchEngine?.placeholder}),a=createElement("img",["search-engine__icon"],{src:"./src/icons/search-icon.svg",width:"24",height:"24",loading:"lazy",alt:""});return t.append(r,a),t};export const createFilteredFilmsSection=(e,t)=>{const r=document.querySelector(".specified-category__container");if(r.innerHTML="",0===e.length){const e=createElement("p",["lack-of-content__text"]);return e.textContent=t?.searchEngine?.lackOfContent,void r.append(e)}const a=document.querySelector(".lack-of-content__text");a?.remove(),e.forEach(({media_type:e,id:a,title:n,name:o,poster_path:i})=>{const s=i,l=createElement("div",["specified-category__item"]),c=createElement("a",["specified-category__link"],{href:`explore.html?id=${a}&type=${e||"movie"}`,"aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),d=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${n||o}`,loading:"lazy",src:getImageUrl(s,"original")}),m=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":a}),p=createElement("img",["browse-section__add-to-list-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/add-profile.svg"}),g=createElement("span",["browse-section__tooltip"]);g.textContent=t?.browseSection?.info,c.append(d),m.append(p),l.append(c,m,g),r.append(l)})};export const createTrailerWindow=async e=>{if(document.querySelector(".trailer-window"))return;const t=document.querySelector(".root"),r=e.target.dataset.trailer,a=e.target.dataset.type,n=await getVideoTrailerId(r,a);if(!n)return;const o=createElement("div",["trailer-window"]),i=createElement("iframe",["trailer-frame"],{src:`https://www.youtube.com/embed/${n}`,allowfullscreen:!0}),s=createElement("button",["close-trailer-window"]),l=createElement("img",["close-trailer-window-icon"],{alt:"",src:"./src/icons/close-icon.svg",width:"24",height:"24"});s.append(l),o.append(i,s),t.append(o,createOverlay())};const getVideoTrailerId=async(e,t)=>{const r=`https://api.themoviedb.org/3/${t}/${e}/videos\n`,a=await fetch(r,options),n=(await a.json()).results.find(e=>"Official Trailer"===e.name||e.name.includes("Official Trailer"));if(!n)return void showErrorPopup("There was a problem loading the trailer for this video.","#dc4a34");return n.key};export const hideTrailerWindow=()=>{const e=document.querySelector(".trailer-window"),t=document.querySelector(".overlay");e.remove(),t.remove()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJ2ZXJpZnlDcmVkZW50aWFscyIsImNyZWF0ZUVsZW1lbnQiLCJnZXRJbWFnZVVybCIsInNldFVzZXJQcmVmZXJlbmNlIiwiSElERV9QT1BVUF9USU1FIiwib3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJhY2NlcHQiLCJBdXRob3JpemF0aW9uIiwiZ2V0RGF0YSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsInNob3dFcnJvclBvcHVwIiwiRXJyb3IiLCJyZW1vdmVJdGVtIiwiZ2V0Q3VycmVudERhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjcmVhdGVGb290ZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiY3VyckRhdGUiLCJmb290ZXIiLCJmb290ZXJMb2dvIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwiaW5mbyIsInRleHRDb250ZW50IiwicHJlcGVuZCIsImFwcGVuZCIsImNyZWF0ZUxvZ2luSGVhZGVyIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb1RleHQiLCJsYW5nU2VsZWN0IiwibGFuZ1BsYXRmb3JtTGFuZyIsImxhbmdBcnJvdyIsImxhbmdMaXN0IiwiaSIsImxhbmdDaG9pY2UiLCJ0YWJpbmRleCIsIk9iamVjdCIsImtleXMiLCJ0ZXh0IiwidmFsdWVzIiwiZGF0YXNldCIsImxhbmciLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjYWxsIiwiY3JlYXRlTG9naW5QYWdlIiwibWFpbiIsInRpdGxlIiwic3VidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbiIsInBsYWNlaG9sZGVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm1haW5Db250ZW50Iiwid3JhcHBlciIsImxvZ2luVGl0bGUiLCJsb2dpblRpdGxlVG9wIiwibG9naW5UaXRsZUJvdHRvbSIsImxvZ2luVGV4dCIsImZvcm0iLCJ1c2VybmFtZUlucHV0IiwidHlwZSIsInZhbHVlIiwicGFzc3dvcmRJbnB1dCIsInN1Ym1pdEJ0biIsImJ1dHRvblRleHQiLCJlcnJvclR4dCIsInVzZXJEYXRhIiwiY2hvb3NlbkxhbmciLCJwcmVmZXJyZWRMYW5ndWFnZSIsImhhbmRsZUxvZ2luVmFsaWRhdGlvbiIsInRyYW5zbGF0aW9ucyIsImVycm9yUmVxdWlyZWQiLCJlcnJvckludmFsaWQiLCJ0aGVuIiwicmVzIiwid2luZG93IiwibG9jYXRpb24iLCJhc3luYyIsInJlcXVpcmVFcnJvciIsImludmFsaWRFcnJvciIsInByZXZlbnREZWZhdWx0IiwidHJpbSIsImNsYXNzTGlzdCIsImFkZCIsImVtYWlsVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJzaG93U21hbGxMb2FkZXIiLCJyZW1vdmUiLCJyZXN1bHQiLCJoaWRlU21hbGxMb2FkZXIiLCJzdWNjZXNzIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInNldFRpbWVvdXQiLCJwcm9maWxlc1BhZ2VNYWluIiwicHJvZmlsZXNUaXRsZSIsInByb2ZpbGVzQm94IiwibGVuZ3RoIiwia2V5IiwiY3JlYXRlUHJvZmlsZSIsImNyZWF0ZVByb2ZpbGVBZGRCdG4iLCJhcmlhSW5mbyIsInVzZXJCdG5JbmZvIiwic2F2ZUJ0bkFyaWEiLCJlbXB0eUZpZWxkRXJyb3IiLCJyZW1vdmVBcmlhIiwiZXhpc3RpbmdQcm9maWxlSWQiLCJleGlzdGluZ1Byb2ZpbGVOYW1lIiwiZXhpc3RpbmdQcm9maWxlcyIsInJlbG9hZCIsImNvbG9yIiwicHJvZmlsZUlkIiwicHJvZmlsZU5hbWUiLCJjb2xvcnMiLCJuYW1lIiwicGFyc2VJbnQiLCJzcGxpdCIsInBvcCIsIm5leHROdW1iZXIiLCJ1c2VyUHJvZmlsZSIsInVzZXJBdmF0YXJCb3giLCJ1c2VyUHJvZmlsZUluZm9Cb3giLCJ1c2VyUHJvZmlsZUluZm8iLCJyZWFkb25seSIsIm5hbWVCb3JkZXIiLCJlZGl0VXNlckluZm9CdG4iLCJyZW1vdmVVc2VyQnRuIiwicmVtb3ZlVXNlckljb24iLCJsb2FkaW5nIiwiZWRpdFVzZXJJbmZvSWNvbiIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZWRQcm9maWxlcyIsImVkaXRVc2VybmFtZSIsInJlbW92ZVVzZXIiLCJzYXZlVXNlcm5hbWUiLCJzZXRDdXJyZW50UHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiaWQiLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjcmVhdGVVc2VyUGFuZWwiLCJjdXJyZW50UHJvZmlsZSIsImN1cnJlbnRQcm9maWxlTmFtZSIsInVzZXJQYW5lbCIsInVzZXJJbmZvIiwiZGl2aWRlciIsInVzZXJQYW5lbExpc3QiLCJzZXR0aW5nc0ljb24iLCJzd2FwUHJvZmlsZUljb24iLCJsb2dvdXRJY29uIiwidXNlclBhbmVsU2V0dGluZ3MiLCJ1c2VyUGFuZWxTZXR0aW5nc0xpbmsiLCJ1c2VyUGFuZWxMb2dvdXQiLCJ1c2VyUGFuZWxMb2dvdXRMaW5rIiwidXNlclBhbmVsU3dhcFByb2ZpbGUiLCJ1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsiLCJicm93c2VQYWdlIiwiZ3JlZXRpbmciLCJzZXR0aW5ncyIsImxvZ2luIiwibWF0Y2hlcyIsImhhbmRsZUxvZ091dCIsImNyZWF0ZU92ZXJsYXkiLCJib2R5Iiwib3ZlcmZsb3dZIiwiY2xvc2VzdFByb2ZpbGVCdG4iLCJjcmVhdGVCcm93c2VQYWdlIiwibmFtZXMiLCJmaWxtTGluayIsInNlcmllc0xpbmsiLCJteUxpc3RMaW5rIiwic2VhcmNoTGluayIsInVzZXJCdXR0b24iLCJsb2dvTWFpbkxpbmsiLCJsb2dvTWFpbkltZyIsIm1haW5UaXRsZSIsImNyZWF0ZUJyb3dzZXJOYXYiLCJjcmVhdGVVc2VyQnRuIiwibmF2IiwibmF2TGlua3MiLCJsaW5rIiwiaW5kZXgiLCJsaXN0SXRlbSIsImxpbmtFbCIsImljb24iLCJ1c2VyQm94IiwidXNlckJ0biIsInVzZXJJY29uIiwic2hvd1VzZXJQYW5lbCIsImNyZWF0ZU1haW5IZXJvU2VjdGlvbiIsIm1vdmllcyIsImJyb3dzZU1haW4iLCJicm93c2VNYWluU2VjdGlvbiIsImltYWdlc0Nhcm91c2VsbCIsImltYWdlc0luc2lkZVNsaWRlciIsIm92ZXJ2aWV3IiwiYmFja2Ryb3BfcGF0aCIsImltZ1NyYyIsImltYWdlQm94IiwiaW1hZ2UiLCJjYXJvdXNlbGxJbWFnZXMiLCJjYXJvdXNlbGxJbWFnZUFsdCIsInRleHRCb3giLCJmaWxtVGl0bGUiLCJmaWxtSW5mbyIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJjcmVhdGVDYXJvdXNlbGxDb250cm9scyIsImFjdGlvbkJ0bnMiLCJ0cmFpbGVyQnRuVGV4dCIsIm1vcmVJbmZvQnRuVGV4dCIsImFjdGlvbkJ0bnNQYW5lbCIsInNob3dUcmFpbGVyQnRuIiwic2hvd1RyYWlsZXJUZXh0Iiwic2VlTW9yZUJ0biIsImNhcm91c2VsbEJ0bnMiLCJjYXJvdXNlbGxDb250cm9scyIsIm1vdmllIiwiY2Fyb3VzZWxsQnRuIiwiY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIiLCJjcmVhdGVGaWxtU2xpZGVyIiwiZmlsbXMiLCJwcm9wZXJGaWxtcyIsInJlc3VsdHMiLCJjb25zb2xlIiwiZXJyb3IiLCJicm93c2VTZWN0aW9uIiwic2VjdGlvblRpdGxlIiwic2VjdGlvblNsaWRlciIsInNlY3Rpb25JbWFnZXMiLCJzaG93UHJldlNsaWRlQnRuIiwic2hvd05leHRTbGlkZUJ0biIsInNob3dQcmV2U2xpZGVJY29uIiwic2hvd05leHRTbGlkZUljb24iLCJjcmVhdGVGaWxtUG9zdGVycyIsInBvc3Rlcl9wYXRoIiwibWVkaWFfdHlwZSIsInNlY3Rpb25Cb3giLCJzZWN0aW9uTGluayIsInNob3dNb3JlSW5mb0Fib3V0RmlsbSIsInNlY3Rpb25GaWxtUG9zdGVyIiwic2VjdGlvbkFkZFRvTGlzdEJ0biIsImFkZFRvTGlzdEJ0biIsInNlY3Rpb25BZGRUb0xpc3RJY29uIiwic2VjdGlvblRvb2x0aXAiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0b2dnbGUiLCJjbG9zZUFsbE5vdENsaWNrZWQiLCJjb250YWlucyIsImNyZWF0ZUZvdXJDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImFuaW1hdGlvbnMiLCJob3Jyb3IiLCJjb21lZHkiLCJmYW50YXN5IiwiY2F0ZWdvcmllc1NlY3Rpb24iLCJjYXRlZ29yaWVzQm94IiwiY2F0ZWdvcnlBbmltYXRlZENhcmQiLCJjYXRlZ29yeUZhbnRhc3lDYXJkIiwiY2F0ZWdvcnlIb3Jyb3JDYXJkIiwiY2F0ZWdvcnlDb21lZHlDYXJkIiwiY2F0ZWdvcnlBbmltYXRlZExpbmsiLCJjYXRlZ29yeUZhbnRhc3lMaW5rIiwiY2F0ZWdvcnlIb3Jyb3JMaW5rIiwiY2F0ZWdvcnlDb21lZHlMaW5rIiwiY3JlYXRlU3BlY2lmaWVkU2VjdGlvblBvc3RlciIsImZpbG1zQXJyIiwic2VjdGlvbiIsInNlY3Rpb25Db250YWluZXIiLCJhcnIiLCJzZWN0aW9uSXRlbSIsInNlY3Rpb25Qb3N0ZXIiLCJjcmVhdGVFeHBsb3JlSGVyb1NlY3Rpb24iLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJnZXQiLCJtYWluQm94IiwiY29udGVudEJveCIsInRyYWlsZXJCdG4iLCJiYWNrQnRuIiwiZXhwbG9yZSIsImJhY2tCdXR0b24iLCJ0cmFpbGVyVGV4dCIsImJhY2tncm91bmRJbWFnZSIsImhpc3RvcnkiLCJiYWNrIiwiY3JlYXRlU2VhcmNoRW5naW5lIiwic2VhcmNoRW5naW5lQm94Iiwic2VhcmNoRW5naW5lIiwic2VhcmNoRW5naW5lSWNvbiIsImNyZWF0ZUZpbHRlcmVkRmlsbXNTZWN0aW9uIiwiZmlsdGVyZWRGaWxtcyIsImxhY2tPZkNvbnRlbnQiLCJsYWNrT2ZDb250ZW50VHh0IiwicG9zdGVyIiwicG9zdGVyTGluayIsInNlY3Rpb25JbWciLCJhZGRUb0xpc3RJY29uIiwidG9vbHRpcCIsImNyZWF0ZVRyYWlsZXJXaW5kb3ciLCJ0cmFpbGVyIiwidHJhaWxlcklEIiwiZ2V0VmlkZW9UcmFpbGVySWQiLCJtYWluV2luZG93IiwidmlkZW9GcmFtZSIsImFsbG93ZnVsbHNjcmVlbiIsImNsb3NlV2luZG93QnRuIiwiY2xvc2VXaW5kb3dJY29uIiwiVVJMIiwicmVzcG9uc2UiLCJmZXRjaCIsImpzb24iLCJmaW5kIiwiaW5jbHVkZXMiLCJoaWRlVHJhaWxlcldpbmRvdyIsInRyYWlsZXJXaW5kb3ciLCJvdmVybGF5Il0sInNvdXJjZXMiOlsiY29tcG9uZW50cy5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLHNCQUF5QixnQ0FDekJDLGNBQWVDLGdCQUFtQiwwQkFDbENDLHNCQUF5QixnQ0FDbEMsTUFBTUMsZ0JBQWtCLEtBRWxCQyxRQUFVLENBQ2ZDLE9BQVEsTUFDUkMsUUFBUyxDQUNSQyxPQUFRLG1CQUNSQyxjQUNDLGdRQUlJLE1BQU1DLFFBQVUsS0FDdEIsSUFDQyxNQUFNQyxFQUFPQyxhQUFhQyxRQUFRLFlBQ2xDLElBQUtGLEVBQU0sT0FBTyxLQUNsQixNQUFNRyxFQUFhQyxLQUFLQyxNQUFNTCxHQUM5QixHQUEwQixpQkFBZkcsR0FBMEMsT0FBZkEsRUFFckMsTUFEQUcsZUFBZSx3Q0FBeUMsV0FDbEQsSUFBSUMsTUFBTSwwQkFFakIsT0FBT0osQ0FDUixDQUFFLE1BR0QsT0FGQUYsYUFBYU8sV0FBVyxZQUN4QkYsZUFBZSwrQ0FBZ0QsV0FDeEQsQ0FBQyxDQUNULEdBRUQsTUFBTUcsZUFBaUIsS0FDRixJQUFJQyxNQUFPQyxxQkFJekIsTUFBTUMsYUFBZSxFQUMzQkMsUUFDQ0MsS0FBT0MsYUFHUixNQUFNQyxFQUFXUCxpQkFFWFEsRUFBUzNCLGNBQWMsU0FBVSxDQUFDLGtCQUNsQzRCLEVBQWE1QixjQUFjLE9BQVEsQ0FBQyx3QkFDcEM2QixFQUFVN0IsY0FBYyxNQUFPLENBQUMsc0JBQXVCLENBQzVEOEIsSUFBSyx1QkFDTE4sSUFBSyxHQUFHQyxJQUNSTSxNQUFPLEtBQ1BDLE9BQVEsT0FFSEMsRUFBT2pDLGNBQWMsSUFBSyxDQUFDLHdCQVFqQyxPQU5BNEIsRUFBV00sWUFBYyxTQUN6Qk4sRUFBV08sUUFBUU4sR0FDbkJJLEVBQUtDLFlBQWMsSUFBSVIsOENBRXZCQyxFQUFPUyxPQUFPUixFQUFZSyxH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LEVBQVE1TyxZQUlyQixNQUFNMFAsa0JBQW9CLEtBQ2hDLE1BQU1DLEVBQWdCL1EsU0FBU0MsY0FBYyxtQkFDdkMrUSxFQUFVaFIsU0FBU0MsY0FBYyxZQUV2QzhRLEVBQWN2UixTQUNkd1IsRUFBUXhSIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcmlmeUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vZmlyZWJhc2UtYXV0aC5taW4uanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZ2V0SW1hZ2VVcmwgfSBmcm9tIFwiLi9oZWxwZXJzLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBzZXRVc2VyUHJlZmVyZW5jZSB9IGZyb20gXCIuL3VwZGF0ZVN0YXRlRnVuY3Rpb25zLm1pbi5qc1wiO1xyXG5jb25zdCBISURFX1BPUFVQX1RJTUUgPSAyNTAwO1xyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuXHRtZXRob2Q6IFwiR0VUXCIsXHJcblx0aGVhZGVyczoge1xyXG5cdFx0YWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdEF1dGhvcml6YXRpb246XHJcblx0XHRcdFwiQmVhcmVyIGV5SmhiR2NpT2lKSVV6STFOaUo5LmV5SmhkV1FpT2lJek5UWXdaak00TWpVM05EUTFaR0UxWkdaa1lUWXhZekUwWVdNNFltTTRNeUlzSW01aVppSTZNVGMxT1RjMk5UQXpPQzQ1TkN3aWMzVmlJam9pTmpobE0yVXlNbVV5TmpZNU56WTRNemhsWXpJM056STVJaXdpYzJOdmNHVnpJanBiSW1Gd2FWOXlaV0ZrSWwwc0luWmxjbk5wYjI0aU9qRjkubnVHZkVqY2xKTGVwbXp6SGkyb21OaHAyOVRIZ3JKZjlOdjZENF9nVGR4QVwiLFxyXG5cdH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RGF0YSA9ICgpID0+IHtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlckRhdGFcIik7XHJcblx0XHRpZiAoIWRhdGEpIHJldHVybiBudWxsO1xyXG5cdFx0Y29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcblx0XHRpZiAodHlwZW9mIHBhcnNlZERhdGEgIT09IFwib2JqZWN0XCIgfHwgcGFyc2VkRGF0YSA9PT0gbnVsbCkge1xyXG5cdFx0XHRzaG93RXJyb3JQb3B1cChcIkludmFsaWQgdXNlciBkYXRhLiBSZXNldHRpbmcgc3RvcmFnZS5cIiwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgc3RydWN0dXJlXCIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcnNlZERhdGE7XHJcblx0fSBjYXRjaCB7XHJcblx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJEYXRhXCIpO1xyXG5cdFx0c2hvd0Vycm9yUG9wdXAoXCJFcnJvciBhY2Nlc3NpbmcgdXNlciBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLlwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRyZXR1cm4ge307XHJcblx0fVxyXG59O1xyXG5jb25zdCBnZXRDdXJyZW50RGF0ZSA9ICgpID0+IHtcclxuXHRjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHJcblx0cmV0dXJuIGN1cnJlbnREYXRlO1xyXG59O1xyXG5leHBvcnQgY29uc3QgY3JlYXRlRm9vdGVyID0gKHtcclxuXHRoZWFkZXI6IHtcclxuXHRcdGFsdDogeyBsb2dvIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IGN1cnJEYXRlID0gZ2V0Q3VycmVudERhdGUoKTtcclxuXHJcblx0Y29uc3QgZm9vdGVyID0gY3JlYXRlRWxlbWVudChcImZvb3RlclwiLCBbXCJicm93c2UtZm9vdGVyXCJdKTtcclxuXHRjb25zdCBmb290ZXJMb2dvID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWZvb3Rlcl9fbG9nb1wiXSk7XHJcblx0Y29uc3QgbG9nb0ltZyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWZvb3Rlcl9faW1nXCJdLCB7XHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nby5zdmdcIixcclxuXHRcdGFsdDogYCR7bG9nb31gLFxyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGluZm8gPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJicm93c2UtZm9vdGVyX19pbmZvXCJdKTtcclxuXHJcblx0Zm9vdGVyTG9nby50ZXh0Q29udGVudCA9IFwiU3RyZWFtXCI7XHJcblx0Zm9vdGVyTG9nby5wcmVwZW5kKGxvZ29JbWcpO1xyXG5cdGluZm8udGV4dENvbnRlbnQgPSBgwqkke2N1cnJEYXRlfSBTdHJlYW0gY29ycG9yYXRpb24gfCBBbGwgcmlnaHRzIHJlc2VydmVkLmA7XHJcblxyXG5cdGZvb3Rlci5hcHBlbmQoZm9vdGVyTG9nbywgaW5mbyk7XHJcblxyXG5cdHJldHVybiBmb290ZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTG9naW5IZWFkZXIgPSAoXHJcblx0e1xyXG5cdFx0aGVhZGVyOiB7XHJcblx0XHRcdGFsdDogeyBsb2dvIH0sXHJcblx0XHRcdGFyaWE6IHsgbG9nb0xpbmssIGNoYW5nZUxhbmd1YWdlQnV0dG9uIH0sXHJcblx0XHR9LFxyXG5cdH0sXHJcblx0bGFuZ0Ftb3VudCxcclxuXHRsYW5nTmFtZXMsXHJcblx0bGFuZ3VhZ2UsXHJcblx0aGFuZGxlTGFuZ1NlbGVjdFxyXG4pID0+IHtcclxuXHQvLyBsb2dvXHJcblx0Y29uc3QgaGVhZGVyID0gY3JlYXRlRWxlbWVudChcImhlYWRlclwiLCBbXCJoZWFkZXJcIl0pO1xyXG5cdGNvbnN0IHBhZ2VMb2dvID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiaGVhZGVyX19sb2dvXCIsIFwibG9naW4taGVhZGVyX19sb2dvXCJdLCB7XHJcblx0XHRocmVmOiBcIi9cIixcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBgJHtsb2dvTGlua31gLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxvZ29JbWcgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbWdcIixcclxuXHRcdFtcImhlYWRlcl9fbG9nby1pbWdcIiwgXCJsb2dpbi1oZWFkZXJfX2xvZ28taW1nXCJdLFxyXG5cdFx0e1xyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nby5zdmdcIixcclxuXHRcdFx0YWx0OiBgJHtsb2dvfWAsXHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3QgbG9nb1RleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcImhlYWRlcl9fbG9nby10ZXh0XCIsXHJcblx0XHRcImxvZ2luLWhlYWRlcl9fbG9nby10ZXh0XCIsXHJcblx0XSk7XHJcblx0bG9nb1RleHQudGV4dENvbnRlbnQgPSBcIlN0cmVhbVwiO1xyXG5cdHBhZ2VMb2dvLmFwcGVuZChsb2dvSW1nLCBsb2dvVGV4dCk7XHJcblx0aGVhZGVyLmFwcGVuZChwYWdlTG9nbyk7XHJcblx0Ly8gZW5kIG9mIGxvZ29cclxuXHJcblx0Ly8gbGFuZ3VhZ2Ugc2VsZWN0b3JcclxuXHRjb25zdCBsYW5nU2VsZWN0ID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctc2VsZWN0XCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogYCR7Y2hhbmdlTGFuZ3VhZ2VCdXR0b259YCxcclxuXHR9KTtcclxuXHRjb25zdCBsYW5nUGxhdGZvcm1MYW5nID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1xyXG5cdFx0XCJsb2dpbi1oZWFkZXJfX2xhbmctcGxhdGZvcm0tbGFuZ1wiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGxhbmdBcnJvdyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWFycm93XCJdLCB7XHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2hldnJvbi1kb3duLnN2Z1wiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxhbmdMaXN0ID0gY3JlYXRlRWxlbWVudChcInVsXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1saXN0XCJdKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsYW5nQW1vdW50OyBpKyspIHtcclxuXHRcdGNvbnN0IGxhbmdDaG9pY2UgPSBjcmVhdGVFbGVtZW50KFwibGlcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWNob2ljZVwiXSwge1xyXG5cdFx0XHR0YWJpbmRleDogMCxcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgZGF0YSA9IE9iamVjdC5rZXlzKGxhbmdOYW1lcylbaV07XHJcblx0XHRjb25zdCB0ZXh0ID0gT2JqZWN0LnZhbHVlcyhsYW5nTmFtZXMpW2ldO1xyXG5cclxuXHRcdGxhbmdDaG9pY2UuZGF0YXNldC5sYW5nID0gZGF0YTtcclxuXHRcdGxhbmdDaG9pY2UudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG5cdFx0bGFuZ0Nob2ljZS5zdHlsZS5hbmltYXRpb25EZWxheSA9IGkgKiAxMDAgKyBcIm1zXCI7XHJcblx0XHRsYW5nTGlzdC5hcHBlbmQobGFuZ0Nob2ljZSk7XHJcblx0fVxyXG5cclxuXHRsYW5nUGxhdGZvcm1MYW5nLnRleHRDb250ZW50ID0gbGFuZ05hbWVzW2xhbmd1YWdlXTtcclxuXHJcblx0bGFuZ1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGhhbmRsZUxhbmdTZWxlY3QuY2FsbChsYW5nU2VsZWN0LCBlLCBsYW5nUGxhdGZvcm1MYW5nKTtcclxuXHR9KTtcclxuXHJcblx0bGFuZ1NlbGVjdC5hcHBlbmQobGFuZ1BsYXRmb3JtTGFuZywgbGFuZ0Fycm93LCBsYW5nTGlzdCk7XHJcblx0aGVhZGVyLmFwcGVuZChsYW5nU2VsZWN0KTtcclxuXHJcblx0cmV0dXJuIGhlYWRlcjtcclxuXHQvLyBlbmQgb2YgbGFuZ3VhZ2Ugc2VsZWN0b3JcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVMb2dpblBhZ2UgPSAoe1xyXG5cdG1haW46IHtcclxuXHRcdHRleHQ6IHsgdGl0bGUsIHN1YnRpdGxlLCBkZXNjcmlwdGlvbiwgYnV0dG9uIH0sXHJcblx0XHRwbGFjZWhvbGRlcjogeyB1c2VybmFtZSwgcGFzc3dvcmQgfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgbWFpbkNvbnRlbnQgPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJtYWluXCJdKTtcclxuXHRjb25zdCB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJ3cmFwcGVyXCJdKTtcclxuXHRjb25zdCBsb2dpblRpdGxlID0gY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGVUb3AgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX190aXRsZVwiXSk7XHJcblx0Y29uc3QgbG9naW5UaXRsZUJvdHRvbSA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW5fX3N1YnRpdGxlXCJdKTtcclxuXHRjb25zdCBsb2dpblRleHQgPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJtYWluX190ZXh0XCJdKTtcclxuXHRjb25zdCBmb3JtID0gY3JlYXRlRWxlbWVudChcImZvcm1cIiwgW1wibWFpbl9fZm9ybVwiXSk7XHJcblx0Y29uc3QgdXNlcm5hbWVJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImlucHV0XCIsXHJcblx0XHRbXCJtYWluX19mb3JtLWlucHV0XCIsIFwibWFpbl9fZm9ybS1pbnB1dC0tdXNlcm5hbWVcIl0sXHJcblx0XHR7IHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogdXNlcm5hbWUsIHZhbHVlOiBcImhhbmRzb21lVXNlcjQwNEB0ZXN0LmNvbVwiIH1cclxuXHQpO1xyXG5cdGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbnB1dFwiLFxyXG5cdFx0W1wibWFpbl9fZm9ybS1pbnB1dFwiLCBcIm1haW5fX2Zvcm0taW5wdXQtLXBhc3N3b3JkXCJdLFxyXG5cdFx0eyB0eXBlOiBcInBhc3N3b3JkXCIsIHBsYWNlaG9sZGVyOiBwYXNzd29yZCwgdmFsdWU6IFwiMTIzNDU2Nzg5XCIgfVxyXG5cdCk7XHJcblx0Y29uc3Qgc3VibWl0QnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJtYWluX19mb3JtLWJ1dHRvblwiXSwge1xyXG5cdFx0dHlwZTogXCJzdWJtaXRcIixcclxuXHR9KTtcclxuXHRjb25zdCBidXR0b25UZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fZm9ybS1idXR0b24tdGV4dFwiXSk7XHJcblxyXG5cdGNvbnN0IGVycm9yVHh0ID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wibWFpbl9fZm9ybS1lcnJvci10eHRcIl0pO1xyXG5cdGxvZ2luVGl0bGVUb3AudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHRsb2dpblRpdGxlQm90dG9tLnRleHRDb250ZW50ID0gc3VidGl0bGU7XHJcblx0bG9naW5UZXh0LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcblx0YnV0dG9uVGV4dC50ZXh0Q29udGVudCA9IGJ1dHRvbjtcclxuXHJcblx0bG9naW5UaXRsZS5hcHBlbmQobG9naW5UaXRsZVRvcCwgbG9naW5UaXRsZUJvdHRvbSk7XHJcblx0c3VibWl0QnRuLmFwcGVuZChidXR0b25UZXh0KTtcclxuXHRmb3JtLmFwcGVuZCh1c2VybmFtZUlucHV0LCBwYXNzd29yZElucHV0LCBzdWJtaXRCdG4sIGVycm9yVHh0KTtcclxuXHJcblx0d3JhcHBlci5hcHBlbmQobG9naW5UaXRsZSwgbG9naW5UZXh0LCBmb3JtKTtcclxuXHRtYWluQ29udGVudC5hcHBlbmQod3JhcHBlcik7XHJcblxyXG5cdHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdFx0Y29uc3QgY2hvb3NlbkxhbmcgPSB1c2VyRGF0YT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblxyXG5cdFx0aWYgKCFjaG9vc2VuTGFuZykge1xyXG5cdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInByZWZlcnJlZExhbmd1YWdlXCIsIFwicGxcIiwgdXNlckRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGhhbmRsZUxvZ2luVmFsaWRhdGlvbihcclxuXHRcdFx0ZSxcclxuXHRcdFx0dXNlcm5hbWVJbnB1dCxcclxuXHRcdFx0cGFzc3dvcmRJbnB1dCxcclxuXHRcdFx0dHJhbnNsYXRpb25zLm1haW4udGV4dC5lcnJvclJlcXVpcmVkLFxyXG5cdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9ySW52YWxpZCxcclxuXHRcdFx0ZXJyb3JUeHRcclxuXHRcdCkudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdGlmICghcmVzKSB7XHJcblx0XHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJ0cmFuc2xhdGlvbnNcIiwgdHJhbnNsYXRpb25zLCB1c2VyRGF0YSk7XHJcblx0XHRcdFx0c2V0VXNlclByZWZlcmVuY2UoXCJsb2dnZWRJblwiLCB0cnVlLCB1c2VyRGF0YSk7XHJcblxyXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJwcm9maWxlcy5odG1sXCI7IC8vIHByemVqxZtjaWUgbmEgc3Ryb27EmSB6IHByb2ZpbGFtaVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIG1haW5Db250ZW50O1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTG9naW5WYWxpZGF0aW9uID0gYXN5bmMgKFxyXG5cdGUsXHJcblx0dXNlcm5hbWVJbnB1dCxcclxuXHRwYXNzd29yZElucHV0LFxyXG5cdHJlcXVpcmVFcnJvcixcclxuXHRpbnZhbGlkRXJyb3IsXHJcblx0ZXJyb3JUeHRcclxuKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRpZiAodXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIgfHwgcGFzc3dvcmRJbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuXHRcdGVycm9yVHh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0ZXJyb3JUeHQudGV4dENvbnRlbnQgPSByZXF1aXJlRXJyb3I7XHJcblx0XHRyZXR1cm4gcmVxdWlyZUVycm9yO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgZW1haWxWYWx1ZSA9IHVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpO1xyXG5cdGNvbnN0IHBhc3N3b3JkVmFsdWUgPSBwYXNzd29yZElucHV0LnZhbHVlLnRyaW0oKTtcclxuXHJcblx0ZS50YXJnZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdGUudGFyZ2V0LmFwcGVuZChzaG93U21hbGxMb2FkZXIoKSk7XHJcblx0ZXJyb3JUeHQuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblxyXG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZlcmlmeUNyZWRlbnRpYWxzKGVtYWlsVmFsdWUsIHBhc3N3b3JkVmFsdWUpO1xyXG5cclxuXHRoaWRlU21hbGxMb2FkZXIoKTtcclxuXHRlLnRhcmdldC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRlcnJvclR4dC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRcdGVycm9yVHh0LnRleHRDb250ZW50ID0gaW52YWxpZEVycm9yO1xyXG5cdFx0cmV0dXJuIGludmFsaWRFcnJvcjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dCaWdMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImxvYWRpbmctYXJlYVwiXSk7XHJcblx0bG9hZGluZ0FyZWEuaW5uZXJIVE1MID0gYCAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJsb2FkZXItYmlnXCIgdmlld0JveD1cIjAgMCAxMjAgMTIwXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCIxMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImxvYWRlci1hY2NlbnRcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwiIzRkYThkYVwiIHN0b3Atb3BhY2l0eT1cIjAuOFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjcwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMC40XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJsb2FkaW5nLWNpcmNsZS1iaWdcIiByPVwiMzVcIiBjeD1cIjYwXCIgY3k9XCI2MFwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICA8L3N2Zz5gO1xyXG5cdHJldHVybiBsb2FkaW5nQXJlYTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVCaWdMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctYXJlYVwiKTtcclxuXHRsb2FkaW5nQXJlYT8ucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd1NtYWxsTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJsb2FkaW5nLWFyZWEtc21hbGxcIl0pO1xyXG5cdGxvYWRpbmdBcmVhLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwibG9hZGVyLXNtYWxsXCIgdmlld0JveD1cIjAgMCAxMjAgMTIwXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCIxMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImxvYWRlci1hY2NlbnQtc21hbGxcIiB4MT1cIjAlXCIgeTE9XCIwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMCVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwLjhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI3MCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwLjNcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD5cclxuICAgICAgICAgICAgICAgIDwvZGVmcz5cclxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJsb2FkaW5nLWNpcmNsZS1zbWFsbFwiIHI9XCIxMlwiIGN4PVwiNjBcIiBjeT1cIjYwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgIDwvc3ZnPmA7XHJcblxyXG5cdHJldHVybiBsb2FkaW5nQXJlYTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVTbWFsbExvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy1hcmVhLXNtYWxsXCIpO1xyXG5cdGxvYWRpbmdBcmVhLnJlbW92ZSgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2ZpbGVzUGFnZSA9ICh7XHJcblx0cHJvZmlsZXM6IHtcclxuXHRcdHRleHQ6IHsgdGl0bGUsIGFkZFByb2ZpbGVJbmZvIH0sXHJcblx0XHRhcmlhOiB7IGFkZFByb2ZpbGVCdG4sIHVzZXJQcm9maWxlQnRuLCB1c2VyQnRuQ3VzdG9taXplLCByZW1vdmVVc2VySW5mbyB9LFxyXG5cdH0sXHJcblx0ZXJyb3JQb3B1cDoge1xyXG5cdFx0dGV4dDogeyBtYXhQcm9maWxlcywgZW1wdHlGaWVsZCB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZXNMaXN0ID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcztcclxuXHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjb25zdCBwcm9maWxlc1BhZ2VNYWluID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wibWFpbi1wcm9maWxlc1wiXSk7XHJcblx0XHRjb25zdCB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJ3cmFwcGVyXCJdKTtcclxuXHRcdGNvbnN0IHByb2ZpbGVzVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIiwgW1xyXG5cdFx0XHRcIm1haW5fX3RpdGxlXCIsXHJcblx0XHRcdFwibWFpbi1wcm9maWxlc19fdGl0bGVcIixcclxuXHRcdF0pO1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2JveFwiXSk7XHJcblxyXG5cdFx0cHJvZmlsZXNUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRcdGlmICh1c2VyUHJvZmlsZXNMaXN0ICYmIE9iamVjdC5rZXlzKHVzZXJQcm9maWxlc0xpc3QpLmxlbmd0aCAhPT0gMCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB1c2VyUHJvZmlsZXNMaXN0KSB7XHJcblx0XHRcdFx0cHJvZmlsZXNCb3guYXBwZW5kKFxyXG5cdFx0XHRcdFx0Y3JlYXRlUHJvZmlsZShcclxuXHRcdFx0XHRcdFx0dXNlclByb2ZpbGVCdG4sXHJcblx0XHRcdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0XHRcdGVtcHR5RmllbGQsXHJcblx0XHRcdFx0XHRcdHJlbW92ZVVzZXJJbmZvLFxyXG5cdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdHVzZXJQcm9maWxlc0xpc3Rba2V5XVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHByb2ZpbGVzQm94LmFwcGVuZChcclxuXHRcdFx0Y3JlYXRlUHJvZmlsZUFkZEJ0bihcclxuXHRcdFx0XHRhZGRQcm9maWxlQnRuLFxyXG5cdFx0XHRcdGFkZFByb2ZpbGVJbmZvLFxyXG5cdFx0XHRcdHVzZXJQcm9maWxlQnRuLFxyXG5cdFx0XHRcdHByb2ZpbGVzQm94LFxyXG5cdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRtYXhQcm9maWxlcyxcclxuXHRcdFx0XHRlbXB0eUZpZWxkLFxyXG5cdFx0XHRcdHJlbW92ZVVzZXJJbmZvXHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0XHR3cmFwcGVyLmFwcGVuZChwcm9maWxlc1RpdGxlLCBwcm9maWxlc0JveCk7XHJcblx0XHRwcm9maWxlc1BhZ2VNYWluLmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kKHByb2ZpbGVzUGFnZU1haW4pO1xyXG5cdFx0aGlkZUJpZ0xvYWRlcigpO1xyXG5cdH0sIDUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVQcm9maWxlID0gKFxyXG5cdGFyaWFJbmZvLFxyXG5cdHVzZXJCdG5JbmZvLFxyXG5cdHNhdmVCdG5BcmlhLFxyXG5cdGVtcHR5RmllbGRFcnJvcixcclxuXHRyZW1vdmVBcmlhLFxyXG5cdGV4aXN0aW5nUHJvZmlsZUlkID0gbnVsbCxcclxuXHRleGlzdGluZ1Byb2ZpbGVOYW1lID0gbnVsbFxyXG4pID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCB7fTtcclxuXHJcblx0aWYgKHVzZXJEYXRhID09PSBudWxsKSB7XHJcblx0XHRzaG93RXJyb3JQb3B1cChcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdH0sIEhJREVfUE9QVVBfVElNRSk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRsZXQgY29sb3I7XHJcblx0bGV0IHByb2ZpbGVJZDtcclxuXHRsZXQgcHJvZmlsZU5hbWU7XHJcblxyXG5cdGNvbnN0IGNvbG9ycyA9IFtcIiNkYzRhMzRcIiwgXCIjMDYyRTYzXCIsIFwiI0ZBQzA0NFwiXTtcclxuXHJcblx0aWYgKGV4aXN0aW5nUHJvZmlsZUlkKSB7XHJcblx0XHRwcm9maWxlSWQgPSBleGlzdGluZ1Byb2ZpbGVJZDtcclxuXHRcdHByb2ZpbGVOYW1lID0gZXhpc3RpbmdQcm9maWxlTmFtZS5uYW1lO1xyXG5cdFx0Y29uc3QgcHJvZmlsZU51bWJlciA9IHBhcnNlSW50KHByb2ZpbGVJZC5zcGxpdChcIi1cIikucG9wKCkpO1xyXG5cdFx0Y29sb3IgPSBjb2xvcnNbcHJvZmlsZU51bWJlciAtIDFdO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRpZiAoT2JqZWN0LmtleXMoZXhpc3RpbmdQcm9maWxlcykubGVuZ3RoID49IDMpIHJldHVybjtcclxuXHJcblx0XHRsZXQgbmV4dE51bWJlciA9IDE7XHJcblx0XHR3aGlsZSAoZXhpc3RpbmdQcm9maWxlc1tgdXNlci1wcm9maWxlLSR7bmV4dE51bWJlcn1gXSkge1xyXG5cdFx0XHRuZXh0TnVtYmVyKys7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJvZmlsZUlkID0gYHVzZXItcHJvZmlsZS0ke25leHROdW1iZXJ9YDtcclxuXHRcdHByb2ZpbGVOYW1lID0gYEhhbmRzb21lIFVzZXIgJHtuZXh0TnVtYmVyfWA7XHJcblx0XHRjb2xvciA9IGNvbG9yc1tuZXh0TnVtYmVyIC0gMV07XHJcblx0fVxyXG5cclxuXHRjb25zdCB1c2VyUHJvZmlsZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fcHJvZmlsZVwiXSk7XHJcblx0Y29uc3QgdXNlckF2YXRhckJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYXZhdGFyXCJdKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wibWFpbi1wcm9maWxlc19fYnRuXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogYXJpYUluZm8sXHJcblx0XHRcImRhdGEtaWRcIjogcHJvZmlsZUlkLFxyXG5cdH0pO1xyXG5cclxuXHRjb25zdCB1c2VyUHJvZmlsZUluZm9Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX3VzZXItaW5mb1wiXSk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVJbmZvID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFtcIm1haW4tcHJvZmlsZXNfX25hbWVcIl0sIHtcclxuXHRcdHR5cGU6IFwidGV4dFwiLFxyXG5cdFx0cmVhZG9ubHk6IHRydWUsXHJcblx0XHR2YWx1ZTogcHJvZmlsZU5hbWUsXHJcblx0fSk7XHJcblx0Y29uc3QgbmFtZUJvcmRlciA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm5hbWUtYm9yZGVyXCJdKTtcclxuXHRjb25zdCBlZGl0VXNlckluZm9CdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHVzZXJCdG5JbmZvIH1cclxuXHQpO1xyXG5cdGNvbnN0IHJlbW92ZVVzZXJCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX3JlbW92ZS11c2VyXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogcmVtb3ZlQXJpYSB9XHJcblx0KTtcclxuXHRjb25zdCByZW1vdmVVc2VySWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fcmVtb3ZlLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3JlbW92ZS1wcm9maWxlLWljb24uc3ZnXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgZWRpdFVzZXJJbmZvSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fZWRpdC1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9lZGl0LnN2Z1wiLFxyXG5cdH0pO1xyXG5cclxuXHR1c2VyUHJvZmlsZUJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cIm1haW4tcHJvZmlsZXNfX2ltZ1wiIHdpZHRoPVwiMTUwXCIgaGVpZ2h0PVwiMTUwXCIgdmlld0JveD1cIjAgMCAyMDAgMjAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgPGNpcmNsZSBjeD1cIjcwXCIgY3k9XCI3MFwiIHI9XCI4XCIgZmlsbD1cIndoaXRlXCIgLz5cclxuICAgIDxjaXJjbGUgY3g9XCIxMzBcIiBjeT1cIjcwXCIgcj1cIjhcIiBmaWxsPVwid2hpdGVcIiAvPlxyXG4gICAgPHBhdGggZD1cIk02MCAxMTAgUTEwMCAxNTAgMTQwIDExMFwiIHN0cm9rZT1cIndoaXRlXCIgc3Ryb2tlLXdpZHRoPVwiNlwiXHJcbiAgICBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgLz5cclxuICAgIDwvc3ZnPmA7XHJcblx0dXNlclByb2ZpbGVCdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcblxyXG5cdHVzZXJBdmF0YXJCb3guYXBwZW5kKHVzZXJQcm9maWxlQnRuKTtcclxuXHRlZGl0VXNlckluZm9CdG4uYXBwZW5kKGVkaXRVc2VySW5mb0ljb24pO1xyXG5cdHJlbW92ZVVzZXJCdG4uYXBwZW5kKHJlbW92ZVVzZXJJY29uKTtcclxuXHR1c2VyUHJvZmlsZUluZm9Cb3guYXBwZW5kKFxyXG5cdFx0dXNlclByb2ZpbGVJbmZvLFxyXG5cdFx0bmFtZUJvcmRlcixcclxuXHRcdGVkaXRVc2VySW5mb0J0bixcclxuXHRcdHJlbW92ZVVzZXJCdG5cclxuXHQpO1xyXG5cdHVzZXJQcm9maWxlLmFwcGVuZCh1c2VyQXZhdGFyQm94LCB1c2VyUHJvZmlsZUluZm9Cb3gpO1xyXG5cclxuXHRpZiAoIWV4aXN0aW5nUHJvZmlsZUlkKSB7XHJcblx0XHRjb25zdCB1cGRhdGVkUHJvZmlsZXMgPSB7XHJcblx0XHRcdC4uLmV4aXN0aW5nUHJvZmlsZXMsXHJcblx0XHRcdFtwcm9maWxlSWRdOiB7XHJcblx0XHRcdFx0bmFtZTogcHJvZmlsZU5hbWUsXHJcblx0XHRcdH0sXHJcblx0XHR9O1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJ1c2VyUHJvZmlsZXNcIiwgdXBkYXRlZFByb2ZpbGVzLCB1c2VyRGF0YSk7XHJcblx0fVxyXG5cclxuXHRlZGl0VXNlckluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRlZGl0VXNlcm5hbWUoZSwgdXNlclByb2ZpbGVJbmZvQm94LCBzYXZlQnRuQXJpYSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHR9KTtcclxuXHRyZW1vdmVVc2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0cmVtb3ZlVXNlcihlKTtcclxuXHR9KTtcclxuXHJcblx0dXNlclByb2ZpbGVJbmZvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcblx0XHRpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xyXG5cdFx0XHRzYXZlVXNlcm5hbWUoZSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHR1c2VyUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHNldEN1cnJlbnRQcm9maWxlKGUpKTtcclxuXHJcblx0dXNlclByb2ZpbGUuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0cmV0dXJuIHVzZXJQcm9maWxlO1xyXG59O1xyXG4vLyB3eWLDs3IgcHJvZmlsdVxyXG5jb25zdCBzZXRDdXJyZW50UHJvZmlsZSA9IChlKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgcHJvZmlsZURhdGEgPSBlLnRhcmdldC5kYXRhc2V0LmlkO1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcImN1cnJlbnRQcm9maWxlXCIsIHByb2ZpbGVEYXRhLCB1c2VyRGF0YSk7XHJcblxyXG5cdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJicm93c2UuaHRtbFwiO1xyXG59O1xyXG4vLyBrb25pZWMgd3lib3J1IHByb2ZpbHVcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGVBZGRCdG4gPSAoXHJcblx0YXJpYUluZm8sXHJcblx0aW5mbyxcclxuXHR1c2VyQnRuQXJpYSxcclxuXHRwcm9maWxlc0JveCxcclxuXHR1c2VyQnRuSW5mbyxcclxuXHRzYXZlQnRuQXJpYSxcclxuXHRtYXhQcm9maWxlc0Vycm9yLFxyXG5cdGVtcHR5RmllbGRFcnJvcixcclxuXHRyZW1vdmVBcmlhXHJcbikgPT4ge1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2FkZC1wcm9maWxlXCJdKTtcclxuXHRjb25zdCBhZGRQcm9maWxlQXZhdGFyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hdmF0YXJcIl0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX2J0blwiLCBcIm1haW4tcHJvZmlsZXNfX2J0bi0tYWRkLXByb2ZpbGVcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiBhcmlhSW5mbyB9XHJcblx0KTtcclxuXHRjb25zdCBhZGRQcm9maWxlUGx1c0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX2FkZC1pbWdcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9hZGQtcHJvZmlsZS5zdmdcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVJbmZvID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbi1wcm9maWxlc19fbmFtZVwiXSk7XHJcblxyXG5cdGFkZFByb2ZpbGVJbmZvLnRleHRDb250ZW50ID0gaW5mbztcclxuXHJcblx0YWRkUHJvZmlsZUJ0bi5hcHBlbmQoYWRkUHJvZmlsZVBsdXNJY29uKTtcclxuXHRhZGRQcm9maWxlQXZhdGFyLmFwcGVuZChhZGRQcm9maWxlQnRuKTtcclxuXHRhZGRQcm9maWxlQm94LmFwcGVuZChhZGRQcm9maWxlQXZhdGFyLCBhZGRQcm9maWxlSW5mbyk7XHJcblxyXG5cdGFkZFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwge307XHJcblxyXG5cdFx0aWYgKE9iamVjdC5rZXlzKGV4aXN0aW5nUHJvZmlsZXMpLmxlbmd0aCA+PSAzKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKG1heFByb2ZpbGVzRXJyb3IsIFwiI2RjNGEzNFwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHByb2ZpbGUgPSBjcmVhdGVQcm9maWxlKFxyXG5cdFx0XHR1c2VyQnRuQXJpYSxcclxuXHRcdFx0dXNlckJ0bkluZm8sXHJcblx0XHRcdHNhdmVCdG5BcmlhLFxyXG5cdFx0XHRlbXB0eUZpZWxkRXJyb3IsXHJcblx0XHRcdHJlbW92ZUFyaWFcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKHByb2ZpbGUpIHtcclxuXHRcdFx0cHJvZmlsZXNCb3guaW5zZXJ0QmVmb3JlKHByb2ZpbGUsIGFkZFByb2ZpbGVCb3gpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gYWRkUHJvZmlsZUJveDtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRVc2VybmFtZSA9IChlLCBwYXJlbnQsIHNhdmVCdG5BcmlhLCBlbXB0eUZpZWxkRXJyb3IpID0+IHtcclxuXHRyZXNldFN0YXRlT2ZFZGl0aW5nKGUpO1xyXG5cclxuXHRjb25zdCBlZGl0QnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgbmFtZVRvRWRpdCA9IGVkaXRCdG5cclxuXHRcdC5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIilcclxuXHRcdC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX25hbWVcIik7XHJcblxyXG5cdGNvbnN0IHNhdmVCdG4gPSBjcmVhdGVTYXZlQnRuKHNhdmVCdG5BcmlhKTtcclxuXHJcblx0ZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHNhdmVCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0cGFyZW50LmFwcGVuZChzYXZlQnRuKTtcclxuXHJcblx0bmFtZVRvRWRpdC5mb2N1cygpO1xyXG5cdG5hbWVUb0VkaXQuc2VsZWN0KCk7XHJcblx0bmFtZVRvRWRpdC5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTtcclxuXHRuYW1lVG9FZGl0LmNsYXNzTGlzdC5hZGQoXCJmb2N1c2VkXCIpO1xyXG5cclxuXHRzYXZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0c2F2ZVVzZXJuYW1lKGUsIGVtcHR5RmllbGRFcnJvcik7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBzYXZlVXNlcm5hbWUgPSAoZSwgZW1wdHlGaWVsZEVycm9yKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwgW107XHJcblxyXG5cdGNvbnN0IHNhdmVCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZSA9IHNhdmVCdG4uY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlSWQgPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcHJvZmlsZXNfX2J0blwiKVxyXG5cdFx0LmRhdGFzZXQuaWQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVOYW1lID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLm1haW4tcHJvZmlsZXNfX25hbWVcIlxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcclxuXHJcblx0aWYgKGNsb3Nlc3RQcm9maWxlTmFtZS52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuXHRcdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpKTtcclxuXHRcdHJldHVybiBzaG93RXJyb3JQb3B1cChlbXB0eUZpZWxkRXJyb3IsIFwiI0ZBQzA0NFwiKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVwZGF0ZWRQcm9maWxlcyA9IHtcclxuXHRcdC4uLmV4aXN0aW5nUHJvZmlsZXMsXHJcblx0XHRbY2xvc2VzdFByb2ZpbGVJZF06IHtcclxuXHRcdFx0Li4uZXhpc3RpbmdQcm9maWxlc1tjbG9zZXN0UHJvZmlsZUlkXSxcclxuXHRcdFx0bmFtZTogY2xvc2VzdFByb2ZpbGVOYW1lLnZhbHVlLFxyXG5cdFx0fSxcclxuXHR9O1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1cGRhdGVkUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHJcblx0cmVzZXRTdGF0ZU9mRWRpdGluZyhlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNhdmVCdG4gPSAoc2F2ZUJ0bkFyaWEpID0+IHtcclxuXHRjb25zdCBzYXZlVXNlckluZm9CdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcIm1haW4tcHJvZmlsZXNfX3NhdmUtbmFtZVwiLCBcImhpZGRlblwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHNhdmVCdG5BcmlhIH1cclxuXHQpO1xyXG5cdGNvbnN0IHNhdmVVc2VySW5mb0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX3NhdmUtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvc2F2ZS5zdmdcIixcclxuXHR9KTtcclxuXHJcblx0c2F2ZVVzZXJJbmZvQnRuLmFwcGVuZChzYXZlVXNlckluZm9JY29uKTtcclxuXHJcblx0cmV0dXJuIHNhdmVVc2VySW5mb0J0bjtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0U3RhdGVPZkVkaXRpbmcgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IGZvY3VzZWROYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9jdXNlZFwiKTtcclxuXHRjb25zdCBhbGxTYXZlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fc2F2ZS1uYW1lXCIpO1xyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGZvY3VzZWROYW1lcy5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0ZWwuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgdHJ1ZSk7XHJcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9jdXNlZFwiKTtcclxuXHRcdGVsLmJsdXIoKTtcclxuXHR9KTtcclxuXHRhbGxTYXZlQnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpKTtcclxufTtcclxuXHJcbmxldCBwb3B1cFZpc2libGUgPSBmYWxzZTtcclxuZXhwb3J0IGNvbnN0IHNob3dFcnJvclBvcHVwID0gKHRleHQsIGNvbG9yKSA9PiB7XHJcblx0aWYgKHBvcHVwVmlzaWJsZSkgcmV0dXJuO1xyXG5cdHBvcHVwVmlzaWJsZSA9IHRydWU7XHJcblxyXG5cdGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIik7XHJcblxyXG5cdGNvbnN0IHBvcHVwID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJlcnJvci1wb3B1cFwiXSk7XHJcblx0Y29uc3QgcG9wdXBFcnJvciA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImVycm9yLXBvcHVwX190ZXh0XCJdKTtcclxuXHJcblx0cG9wdXBFcnJvci50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0cm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZXJyb3JUeHRDb2xvclwiLCBjb2xvcik7XHJcblxyXG5cdHBvcHVwLmFwcGVuZChwb3B1cEVycm9yKTtcclxuXHRjb250YWluZXIuYXBwZW5kKHBvcHVwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0sIDIwMDApO1xyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0cG9wdXAucmVtb3ZlKCk7XHJcblx0XHRwb3B1cFZpc2libGUgPSBmYWxzZTtcclxuXHR9LCBISURFX1BPUFVQX1RJTUUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVzZXJQYW5lbCA9ICgpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHJcblx0aWYgKCF1c2VyRGF0YSkgc2hvd0Vycm9yUG9wdXAoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsIFwiI2RjNGEzNFwiKTtcclxuXHJcblx0Y29uc3QgY3VycmVudFByb2ZpbGUgPSB1c2VyRGF0YT8uY3VycmVudFByb2ZpbGU7XHJcblx0Y29uc3QgY3VycmVudFByb2ZpbGVOYW1lID0gdXNlckRhdGE/LnVzZXJQcm9maWxlc1tjdXJyZW50UHJvZmlsZV0/Lm5hbWU7XHJcblxyXG5cdGNvbnN0IHVzZXJQYW5lbCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbFwiXSk7XHJcblx0Y29uc3QgdXNlckluZm8gPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWluZm9cIl0pO1xyXG5cdGNvbnN0IHVzZXJuYW1lID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlcm5hbWVcIl0pO1xyXG5cdGNvbnN0IGRpdmlkZXIgPSBjcmVhdGVFbGVtZW50KFwiaHJcIiwgW1wiYnJvd3NlLWhlYWRlcl9faHJcIl0pO1xyXG5cdGNvbnN0IHVzZXJQYW5lbExpc3QgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saXN0XCJdKTtcclxuXHJcblx0Y29uc3Qgc2V0dGluZ3NJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL3NldHRpbmdzLWljb24uc3ZnXCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblx0Y29uc3Qgc3dhcFByb2ZpbGVJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL3N3YXAtaWNvbi5zdmdcIixcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBsb2dvdXRJY29uID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJicm93c2UtaGVhZGVyX19pY29uXCIsIFwiYnJvd3NlLWhlYWRlcl9faWNvbi1zZXR0aW5nc1wiXSxcclxuXHRcdHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGFsdDogXCJcIixcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ291dC1pY29uLnN2Z1wiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHRjb25zdCB1c2VyUGFuZWxTZXR0aW5ncyA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsU2V0dGluZ3NMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1xyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGlua1wiLFxyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGluay0tc2V0dGluZ3NcIixcclxuXHRcdF0sXHJcblx0XHR7IGhyZWY6IFwiXCIgfVxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHVzZXJQYW5lbExvZ291dCA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsTG9nb3V0TGluayA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImFcIixcclxuXHRcdFtcclxuXHRcdFx0XCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmtcIixcclxuXHRcdFx0XCJicm93c2UtaGVhZGVyX191c2VyLXBhbmVsLWxpbmstLWxvZ291dFwiLFxyXG5cdFx0XSxcclxuXHRcdHsgaHJlZjogXCJcIiB9XHJcblx0KTtcclxuXHRjb25zdCB1c2VyUGFuZWxTd2FwUHJvZmlsZSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXHJcblx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtb3B0aW9uXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgdXNlclBhbmVsU3dhcFByb2ZpbGVMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1xyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGlua1wiLFxyXG5cdFx0XHRcImJyb3dzZS1oZWFkZXJfX3VzZXItcGFuZWwtbGluay0tc3dhcC1wcm9maWxlXCIsXHJcblx0XHRdLFxyXG5cdFx0eyBocmVmOiBcInByb2ZpbGVzLmh0bWxcIiB9XHJcblx0KTtcclxuXHJcblx0dXNlcm5hbWUudGV4dENvbnRlbnQgPSBjdXJyZW50UHJvZmlsZU5hbWU7XHJcblx0dXNlckluZm8udGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5ncmVldGluZztcclxuXHR1c2VySW5mby5hcHBlbmQodXNlcm5hbWUpO1xyXG5cclxuXHR1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsudGV4dENvbnRlbnQgPVxyXG5cdFx0dXNlckRhdGE/LnRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8udXNlclBhbmVsPy5wcm9maWxlcztcclxuXHJcblx0dXNlclBhbmVsU2V0dGluZ3NMaW5rLnRleHRDb250ZW50ID1cclxuXHRcdHVzZXJEYXRhPy50cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LnVzZXJQYW5lbD8uc2V0dGluZ3M7XHJcblx0dXNlclBhbmVsTG9nb3V0TGluay50ZXh0Q29udGVudCA9XHJcblx0XHR1c2VyRGF0YT8udHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy51c2VyUGFuZWw/LmxvZ2luO1xyXG5cclxuXHR1c2VyUGFuZWxTd2FwUHJvZmlsZUxpbmsuYXBwZW5kKHN3YXBQcm9maWxlSWNvbik7XHJcblx0dXNlclBhbmVsU2V0dGluZ3NMaW5rLmFwcGVuZChzZXR0aW5nc0ljb24pO1xyXG5cdHVzZXJQYW5lbExvZ291dExpbmsuYXBwZW5kKGxvZ291dEljb24pO1xyXG5cclxuXHR1c2VyUGFuZWxTd2FwUHJvZmlsZS5hcHBlbmQodXNlclBhbmVsU3dhcFByb2ZpbGVMaW5rKTtcclxuXHR1c2VyUGFuZWxTZXR0aW5ncy5hcHBlbmQodXNlclBhbmVsU2V0dGluZ3NMaW5rKTtcclxuXHR1c2VyUGFuZWxMb2dvdXQuYXBwZW5kKHVzZXJQYW5lbExvZ291dExpbmspO1xyXG5cclxuXHR1c2VyUGFuZWxMaXN0LmFwcGVuZChcclxuXHRcdHVzZXJQYW5lbFN3YXBQcm9maWxlLFxyXG5cdFx0dXNlclBhbmVsU2V0dGluZ3MsXHJcblx0XHR1c2VyUGFuZWxMb2dvdXRcclxuXHQpO1xyXG5cclxuXHR1c2VyUGFuZWwuYXBwZW5kKHVzZXJJbmZvLCBkaXZpZGVyLCB1c2VyUGFuZWxMaXN0KTtcclxuXHJcblx0dXNlclBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCIuYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbC1saW5rLS1sb2dvdXRcIikpIHtcclxuXHRcdFx0aGFuZGxlTG9nT3V0KGUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gdXNlclBhbmVsO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTG9nT3V0ID0gKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5cclxuXHRpZiAoIXVzZXJEYXRhKSByZXR1cm47XHJcblxyXG5cdGNvbnRhaW5lci5hcHBlbmQoc2hvd0JpZ0xvYWRlcigpKTtcclxuXHRjb250YWluZXIuYXBwZW5kKGNyZWF0ZU92ZXJsYXkoKSk7XHJcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSBcImhpZGRlblwiO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGhpZGVCaWdMb2FkZXIoKTtcclxuXHRcdHNldFVzZXJQcmVmZXJlbmNlKFwibG9nZ2VkSW5cIiwgZmFsc2UpO1xyXG5cdFx0c2V0VXNlclByZWZlcmVuY2UoXCJjdXJyZW50UHJvZmlsZVwiLCBudWxsKTtcclxuXHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJpbmRleC5odG1sXCI7XHJcblx0fSwgSElERV9QT1BVUF9USU1FKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVVzZXIgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXM7XHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0Y29uc3QgZGVsZXRlQnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGUgPSBkZWxldGVCdG4uY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlQnRuID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2ZpbGVzX19idG5cIik7XHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG5cclxuXHRkZWxldGUgdXNlclByb2ZpbGVzW2Nsb3Nlc3RQcm9maWxlQnRuLmRhdGFzZXQuaWRdO1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1c2VyUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHJcblx0Y2xvc2VzdFByb2ZpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjbG9zZXN0UHJvZmlsZS5yZW1vdmUoKTtcclxuXHR9LCA0MDApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUJyb3dzZVBhZ2UgPSAoe1xyXG5cdGhlYWRlcjoge1xyXG5cdFx0YWx0OiB7IGxvZ28gfSxcclxuXHRcdGFyaWE6IHsgbG9nb0xpbmsgfSxcclxuXHR9LFxyXG5cdGJyb3dzZVBhZ2U6IHtcclxuXHRcdG5hbWVzOiB7IGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rIH0sXHJcblx0XHRhcmlhOiB7IHVzZXJCdXR0b24gfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgaGVhZGVyID0gY3JlYXRlRWxlbWVudChcImhlYWRlclwiLCBbXCJicm93c2UtaGVhZGVyXCJdKTtcclxuXHRjb25zdCBsb2dvTWFpbkxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogbG9nb0xpbmssXHJcblx0XHRocmVmOiBcImJyb3dzZS5odG1sXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbG9nb01haW5JbWcgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ28taW1nXCJdLCB7XHJcblx0XHRhbHQ6IGxvZ28sXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbG9nby5zdmdcIixcclxuXHR9KTtcclxuXHRjb25zdCBtYWluVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvLXRleHRcIl0pO1xyXG5cclxuXHRtYWluVGl0bGUudGV4dENvbnRlbnQgPSBcIlN0cmVhbVwiO1xyXG5cclxuXHRsb2dvTWFpbkxpbmsuYXBwZW5kKGxvZ29NYWluSW1nLCBtYWluVGl0bGUpO1xyXG5cdGhlYWRlci5hcHBlbmQoXHJcblx0XHRsb2dvTWFpbkxpbmssXHJcblx0XHRjcmVhdGVCcm93c2VyTmF2KGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rKSxcclxuXHRcdGNyZWF0ZVVzZXJCdG4odXNlckJ1dHRvbiksXHJcblx0XHRjcmVhdGVVc2VyUGFuZWwoKVxyXG5cdCk7XHJcblxyXG5cdHJldHVybiBoZWFkZXI7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVCcm93c2VyTmF2ID0gKGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rKSA9PiB7XHJcblx0Y29uc3QgbmF2ID0gY3JlYXRlRWxlbWVudChcIm5hdlwiLCBbXCJicm93c2UtaGVhZGVyX19uYXZcIl0pO1xyXG5cdGNvbnN0IG5hdkxpbmtzID0gY3JlYXRlRWxlbWVudChcInVsXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmtzXCJdKTtcclxuXHJcblx0Y29uc3QgbGlua05hbWVzID0gW1xyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBmaWxtTGluayxcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2ZpbG0taWNvbi5zdmdcIixcclxuXHRcdH0sXHJcblx0XHR7IG5hbWU6IHNlcmllc0xpbmssIHNyYzogXCIuL3NyYy9pY29ucy9zZXJpZXMtaWNvbi5zdmdcIiB9LFxyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBteUxpc3RMaW5rLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbGlzdC1pY29uLnN2Z1wiLFxyXG5cdFx0fSxcclxuXHRcdHsgbmFtZTogc2VhcmNoTGluaywgc3JjOiBcIi4vc3JjL2ljb25zL3NlYXJjaC1pY29uLnN2Z1wiIH0sXHJcblx0XTtcclxuXHJcblx0bGlua05hbWVzLmZvckVhY2goKGxpbmssIGluZGV4KSA9PiB7XHJcblx0XHRjb25zdCBzcmNzID0gW1wibW92aWVzLmh0bWxcIiwgXCJzZXJpZXMuaHRtbFwiLCBcIm15LWxpc3QuaHRtbFwiLCBcInNlYXJjaC5odG1sXCJdO1xyXG5cclxuXHRcdGNvbnN0IGxpc3RJdGVtID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcImJyb3dzZS1oZWFkZXJfX2l0ZW1cIl0pO1xyXG5cdFx0Y29uc3QgbGlua0VsID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGlua1wiXSwge1xyXG5cdFx0XHRocmVmOiBzcmNzW2luZGV4XSxcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgaWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGluay1pY29uXCJdLCB7XHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0c3JjOiBsaW5rLnNyYyxcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCB0ZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGluay10ZXh0XCJdKTtcclxuXHJcblx0XHR0ZXh0LnRleHRDb250ZW50ID0gbGluay5uYW1lO1xyXG5cclxuXHRcdGxpbmtFbC5hcHBlbmQoaWNvbiwgdGV4dCk7XHJcblx0XHRsaXN0SXRlbS5hcHBlbmQobGlua0VsKTtcclxuXHJcblx0XHRuYXZMaW5rcy5hcHBlbmQobGlzdEl0ZW0pO1xyXG5cdH0pO1xyXG5cclxuXHRuYXYuYXBwZW5kKG5hdkxpbmtzKTtcclxuXHJcblx0cmV0dXJuIG5hdjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVzZXJCdG4gPSAodXNlckJ0bkFyaWEpID0+IHtcclxuXHRjb25zdCB1c2VyQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWJveFwiXSk7XHJcblx0Y29uc3QgdXNlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlclwiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IHVzZXJCdG5BcmlhLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHVzZXJJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3VzZXItaWNvbi5zdmdcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHR9KTtcclxuXHJcblx0dXNlckJ0bi5hcHBlbmQodXNlckljb24pO1xyXG5cdHVzZXJCb3guYXBwZW5kKHVzZXJCdG4pO1xyXG5cclxuXHR1c2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRzaG93VXNlclBhbmVsKHVzZXJCb3gpO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gdXNlckJveDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNYWluSGVyb1NlY3Rpb24gPSAobW92aWVzLCB0cmFuc2xhdGlvbnMsIHBhcmVudCkgPT4ge1xyXG5cdGNvbnN0IGJyb3dzZU1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJicm93c2UtbWFpblwiXSk7XHJcblx0Y29uc3QgYnJvd3NlTWFpblNlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19oZXJvLXNlY3Rpb25cIixcclxuXHRdKTtcclxuXHRjb25zdCBpbWFnZXNDYXJvdXNlbGwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2ltYWdlLWNhcm91c2VsbFwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGltYWdlc0luc2lkZVNsaWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2ltYWdlc1wiXSk7XHJcblx0bW92aWVzLmZvckVhY2goKHsgaWQsIHRpdGxlLCBuYW1lLCBvdmVydmlldyA9IFwiXCIsIGJhY2tkcm9wX3BhdGggfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gYmFja2Ryb3BfcGF0aDtcclxuXHRcdGNvbnN0IGltYWdlQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9faW1nLWJveFwiXSk7XHJcblx0XHRjb25zdCBpbWFnZSA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLW1haW5fX2ltZ1wiXSwge1xyXG5cdFx0XHRhbHQ6IGAke1xyXG5cdFx0XHRcdHRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8uY2Fyb3VzZWxsSW1hZ2VzPy5hcmlhLmNhcm91c2VsbEltYWdlQWx0XHJcblx0XHRcdH0gJHt0aXRsZSB8fCBuYW1lfWAsXHJcblx0XHRcdHNyYzogaW1nU3JjXHJcblx0XHRcdFx0PyBnZXRJbWFnZVVybChpbWdTcmMsIFwib3JpZ2luYWxcIilcclxuXHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHRleHRCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX190ZXh0LWJveFwiXSk7XHJcblx0XHRjb25zdCBmaWxtVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDJcIiwgW1wiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC10aXRsZVwiXSk7XHJcblx0XHRjb25zdCBmaWxtSW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtb3ZlcnZpZXdcIl0sIHtcclxuXHRcdFx0dGFiaW5kZXg6IC0xLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZmlsbVRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblx0XHRmaWxtSW5mby50ZXh0Q29udGVudCA9IG92ZXJ2aWV3O1xyXG5cclxuXHRcdHRleHRCb3guYXBwZW5kKGZpbG1UaXRsZSwgZmlsbUluZm8sIGNyZWF0ZUFjdGlvbkJ1dHRvbnMoaWQsIHRyYW5zbGF0aW9ucykpO1xyXG5cdFx0aW1hZ2VCb3guYXBwZW5kKGltYWdlLCB0ZXh0Qm94KTtcclxuXHRcdGltYWdlc0luc2lkZVNsaWRlci5hcHBlbmQoaW1hZ2VCb3gpO1xyXG5cdFx0aW1hZ2VzQ2Fyb3VzZWxsLmFwcGVuZChpbWFnZXNJbnNpZGVTbGlkZXIpO1xyXG5cclxuXHRcdGJyb3dzZU1haW5TZWN0aW9uLmFwcGVuZChpbWFnZXNDYXJvdXNlbGwpO1xyXG5cdFx0YnJvd3NlTWFpbi5hcHBlbmQoYnJvd3NlTWFpblNlY3Rpb24pO1xyXG5cdH0pO1xyXG5cdHBhcmVudC5hcHBlbmQoYnJvd3NlTWFpbik7XHJcblxyXG5cdGltYWdlc0Nhcm91c2VsbC5hcHBlbmQoY3JlYXRlQ2Fyb3VzZWxsQ29udHJvbHMobW92aWVzLCB0cmFuc2xhdGlvbnMpKTtcclxufTtcclxuY29uc3QgY3JlYXRlQWN0aW9uQnV0dG9ucyA9IChcclxuXHRpZCxcclxuXHR7XHJcblx0XHRicm93c2VQYWdlOiB7XHJcblx0XHRcdGFjdGlvbkJ0bnM6IHsgdHJhaWxlckJ0blRleHQsIG1vcmVJbmZvQnRuVGV4dCB9LFxyXG5cdFx0fSxcclxuXHR9XHJcbikgPT4ge1xyXG5cdGNvbnN0IGFjdGlvbkJ0bnNQYW5lbCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2FjdGlvbi1idG5zXCJdKTtcclxuXHRjb25zdCBzaG93VHJhaWxlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLW1haW5fX3RyYWlsZXItYnRuXCJdLCB7XHJcblx0XHRcImRhdGEtdHJhaWxlclwiOiBpZCxcclxuXHRcdFwiZGF0YS10eXBlXCI6IFwibW92aWVcIixcclxuXHR9KTtcclxuXHRjb25zdCBzaG93VHJhaWxlclRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtbWFpbl9fc2VlLXRyYWlsZXJcIl0pO1xyXG5cdGNvbnN0IHNlZU1vcmVCdG4gPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtbWFpbl9fc2VlLW1vcmUtYnRuXCJdLCB7XHJcblx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRocmVmOiBgZXhwbG9yZS5odG1sP2lkPSR7aWR9JnR5cGU9bW92aWVgLFxyXG5cdH0pO1xyXG5cclxuXHRzaG93VHJhaWxlclRleHQudGV4dENvbnRlbnQgPSB0cmFpbGVyQnRuVGV4dDtcclxuXHRzZWVNb3JlQnRuLnRleHRDb250ZW50ID0gbW9yZUluZm9CdG5UZXh0O1xyXG5cclxuXHRzaG93VHJhaWxlckJ0bi5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cImJyb3dzZS1tYWluX190cmFpbGVyLXBsYXktaWNvblwiXHJcblx0eG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiXHJcblx0dmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCIjMDAwXCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS13aWR0aD1cIjJcIlxyXG5cdHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXHJcblx0Y2xhc3M9XCJmZWF0aGVyIGZlYXRoZXItcGxheVwiPlxyXG5cdDxwb2x5Z29uIHBvaW50cz1cIjUgMyAxOSAxMiA1IDIxIDUgM1wiPjwvcG9seWdvbj5cclxuXHQ8L3N2Zz5gO1xyXG5cclxuXHRzaG93VHJhaWxlckJ0bi5hcHBlbmQoc2hvd1RyYWlsZXJUZXh0KTtcclxuXHJcblx0YWN0aW9uQnRuc1BhbmVsLmFwcGVuZChzaG93VHJhaWxlckJ0biwgc2VlTW9yZUJ0bik7XHJcblxyXG5cdHJldHVybiBhY3Rpb25CdG5zUGFuZWw7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDYXJvdXNlbGxDb250cm9scyA9IChcclxuXHRtb3ZpZXMsXHJcblx0e1xyXG5cdFx0YnJvd3NlUGFnZToge1xyXG5cdFx0XHRjYXJvdXNlbGxCdG5zOiB7IGFyaWEgfSxcclxuXHRcdH0sXHJcblx0fVxyXG4pID0+IHtcclxuXHRjb25zdCBjYXJvdXNlbGxDb250cm9scyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJicm93c2UtbWFpbl9fY2Fyb3VzZWxsLWNvbnRyb2xzXCIsXHJcblx0XSk7XHJcblxyXG5cdG1vdmllcy5mb3JFYWNoKChtb3ZpZSwgaW5kZXgpID0+IHtcclxuXHRcdGNvbnN0IGNhcm91c2VsbEJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLW1haW5fX2J0blwiXSwge1xyXG5cdFx0XHRcImRhdGEtaW1nXCI6IGluZGV4LFxyXG5cdFx0XHRcImFyaWEtbGFiZWxcIjogYCR7YXJpYX0gJHtpbmRleH1gLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBjYXJvdXNlbGxCdG5Qcm9ncmVzc0JhciA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFx0XCJicm93c2UtbWFpbl9fcHJvZ3Jlc3MtYmFyXCIsXHJcblx0XHRdKTtcclxuXHJcblx0XHRjYXJvdXNlbGxCdG4uYXBwZW5kKGNhcm91c2VsbEJ0blByb2dyZXNzQmFyKTtcclxuXHJcblx0XHRjYXJvdXNlbGxDb250cm9scy5hcHBlbmQoY2Fyb3VzZWxsQnRuKTtcclxuXHR9KTtcclxuXHRyZXR1cm4gY2Fyb3VzZWxsQ29udHJvbHM7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRmlsbVNsaWRlciA9IChmaWxtcywgdHJhbnNsYXRpb25zLCBpbmRleCwgdGl0bGUsIHR5cGUpID0+IHtcclxuXHRjb25zdCBwcm9wZXJGaWxtcyA9IGZpbG1zW2luZGV4XT8ucmVzdWx0cyB8fCBbXTtcclxuXHRpZiAoIXByb3BlckZpbG1zLmxlbmd0aCkge1xyXG5cdFx0Y29uc29sZS5lcnJvcihgTm8gZmlsbXMgZm91bmQgZm9yIGluZGV4ICR7aW5kZXh9YCk7XHJcblx0XHRzaG93RXJyb3JQb3B1cChgTm8gZmlsbXMgZm91bmQgZm9yIGluZGV4ICR7aW5kZXh9YCwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgYnJvd3NlU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIFtcImJyb3dzZS1zZWN0aW9uXCJdKTtcclxuXHRjb25zdCBzZWN0aW9uVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDNcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3RpdGxlXCJdKTtcclxuXHRjb25zdCBzZWN0aW9uU2xpZGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyXCJdLCB7XHJcblx0XHRcImRhdGEtaW5kZXhcIjogMCxcclxuXHR9KTtcclxuXHRjb25zdCBzZWN0aW9uSW1hZ2VzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWltYWdlc1wiXSk7XHJcblxyXG5cdGNvbnN0IHNob3dQcmV2U2xpZGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuXCIsIFwiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1wcmV2LWJ0blwiXSxcclxuXHRcdHtcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd1ByZXZTbGlkZUJ0bixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dOZXh0U2xpZGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuXCIsIFwiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1uZXh0LWJ0blwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd05leHRTbGlkZUJ0biB9XHJcblx0KTtcclxuXHRjb25zdCBzaG93UHJldlNsaWRlSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG4taWNvblwiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tbGVmdC5zdmdcIixcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBzaG93TmV4dFNsaWRlSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG4taWNvblwiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tcmlnaHQuc3ZnXCIsXHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblxyXG5cdHNlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRzaG93TmV4dFNsaWRlQnRuLmFwcGVuZChzaG93TmV4dFNsaWRlSWNvbik7XHJcblx0c2hvd1ByZXZTbGlkZUJ0bi5hcHBlbmQoc2hvd1ByZXZTbGlkZUljb24pO1xyXG5cclxuXHRjcmVhdGVGaWxtUG9zdGVycyhwcm9wZXJGaWxtcywgdHJhbnNsYXRpb25zLCBzZWN0aW9uSW1hZ2VzLCB0eXBlKTtcclxuXHJcblx0c2VjdGlvblNsaWRlci5hcHBlbmQoc2VjdGlvbkltYWdlcywgc2hvd1ByZXZTbGlkZUJ0biwgc2hvd05leHRTbGlkZUJ0bik7XHJcblx0YnJvd3NlU2VjdGlvbi5hcHBlbmQoc2VjdGlvblRpdGxlLCBzZWN0aW9uU2xpZGVyKTtcclxuXHJcblx0cmV0dXJuIGJyb3dzZVNlY3Rpb247XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVGaWxtUG9zdGVycyA9IChwcm9wZXJGaWxtcywgdHJhbnNsYXRpb25zLCBwYXJlbnQsIHR5cGUpID0+IHtcclxuXHRwcm9wZXJGaWxtcy5mb3JFYWNoKCh7IGlkLCB0aXRsZSwgbmFtZSwgcG9zdGVyX3BhdGgsIG1lZGlhX3R5cGUgfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gcG9zdGVyX3BhdGg7XHJcblx0XHRjb25zdCBzZWN0aW9uQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJveFwiXSk7XHJcblxyXG5cdFx0Y29uc3Qgc2VjdGlvbkxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImFcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWctbGlua1wiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGhyZWY6IGBleHBsb3JlLmh0bWw/aWQ9JHtpZH0mdHlwZT0ke21lZGlhX3R5cGUgfHwgdHlwZX1gLFxyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dNb3JlSW5mb0Fib3V0RmlsbSxcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IHNlY3Rpb25GaWxtUG9zdGVyID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJpbWdcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWdcIl0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhbHQ6IGAke1xyXG5cdFx0XHRcdFx0dHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy5jYXJvdXNlbGxJbWFnZXM/LmFyaWE/LmNhcm91c2VsbEltYWdlQWx0XHJcblx0XHRcdFx0fSAke3RpdGxlIHx8IG5hbWV9YCxcclxuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHR3aWR0aDogXCJcIixcclxuXHRcdFx0XHRoZWlnaHQ6IFwiXCIsXHJcblx0XHRcdFx0c3JjOiBpbWdTcmNcclxuXHRcdFx0XHRcdD8gZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpXHJcblx0XHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0QnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJidXR0b25cIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWJ0blwiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LmFkZFRvTGlzdEJ0bixcclxuXHRcdFx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0SWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19hZGQtdG8tbGlzdC1pY29uXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvblRvb2x0aXAgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2Utc2VjdGlvbl9fdG9vbHRpcFwiXSk7XHJcblxyXG5cdFx0c2VjdGlvblRvb2x0aXAudGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmluZm87XHJcblxyXG5cdFx0c2VjdGlvbkFkZFRvTGlzdEJ0bi5hcHBlbmQoc2VjdGlvbkFkZFRvTGlzdEljb24pO1xyXG5cclxuXHRcdHNlY3Rpb25MaW5rLmFwcGVuZChzZWN0aW9uRmlsbVBvc3Rlcik7XHJcblxyXG5cdFx0c2VjdGlvbkJveC5hcHBlbmQoc2VjdGlvbkxpbmssIHNlY3Rpb25BZGRUb0xpc3RCdG4sIHNlY3Rpb25Ub29sdGlwKTtcclxuXHJcblx0XHRwYXJlbnQuYXBwZW5kKHNlY3Rpb25Cb3gpO1xyXG5cdH0pO1xyXG59O1xyXG5jb25zdCBjcmVhdGVPdmVybGF5ID0gKCkgPT4ge1xyXG5cdGNvbnN0IG92ZXJsYXkgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm92ZXJsYXlcIl0pO1xyXG5cclxuXHRyZXR1cm4gb3ZlcmxheTtcclxufTtcclxuY29uc3Qgc2hvd1VzZXJQYW5lbCA9ICh1c2VyQm94KSA9PiB7XHJcblx0Y29uc3QgcGFuZWwgPSB1c2VyQm94Lm5leHRFbGVtZW50U2libGluZztcclxuXHRwYW5lbC5jbGFzc0xpc3QudG9nZ2xlKFwidmlzaWJsZVwiKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjbG9zZUFsbE5vdENsaWNrZWQgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnJvd3NlLWhlYWRlcl9fdXNlci1wYW5lbFwiKTtcclxuXHRjb25zdCB1c2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5icm93c2UtaGVhZGVyX191c2VyXCIpO1xyXG5cclxuXHRpZiAoXHJcblx0XHR1c2VyUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSAmJlxyXG5cdFx0ZS50YXJnZXQgIT09IHVzZXJQYW5lbCAmJlxyXG5cdFx0ZS50YXJnZXQgIT09IHVzZXJCdG4gJiZcclxuXHRcdCF1c2VyUGFuZWwuY29udGFpbnMoZS50YXJnZXQpXHJcblx0KVxyXG5cdFx0dXNlclBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvdXJDYXRlZ29yaWVzID0gKHtcclxuXHRicm93c2VQYWdlOiB7XHJcblx0XHRjYXRlZ29yaWVzOiB7IGFuaW1hdGlvbnMsIGhvcnJvciwgY29tZWR5LCBmYW50YXN5IH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IGNhdGVnb3JpZXNTZWN0aW9uID0gY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgW1wiY2F0ZWdvcmllc1wiXSk7XHJcblx0Y29uc3QgY2F0ZWdvcmllc0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiY2F0ZWdvcmllc19fYm94XCJdKTtcclxuXHJcblx0Y29uc3QgY2F0ZWdvcnlBbmltYXRlZENhcmQgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmRcIixcclxuXHRcdFwiY2F0ZWdvcmllc19fYm94LWNhcmQtLWFuaW1hdGlvbnNcIixcclxuXHRdKTtcclxuXHRjb25zdCBjYXRlZ29yeUZhbnRhc3lDYXJkID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkXCIsXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkLS1mYW50YXN5XCIsXHJcblx0XSk7XHJcblx0Y29uc3QgY2F0ZWdvcnlIb3Jyb3JDYXJkID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkXCIsXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkLS1ob3Jyb3JzXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgY2F0ZWdvcnlDb21lZHlDYXJkID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkXCIsXHJcblx0XHRcImNhdGVnb3JpZXNfX2JveC1jYXJkLS1jb21lZHlcIixcclxuXHRdKTtcclxuXHJcblx0Y29uc3QgY2F0ZWdvcnlBbmltYXRlZExpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXCJjYXRlZ29yaWVzX19ib3gtbGlua1wiLCBcImNhdGVnb3JpZXNfX2JveC1saW5rLS1hbmltYXRpb25zXCJdLFxyXG5cdFx0eyBocmVmOiBcImNhdGVnb3JpZXMuaHRtbD9jYXRlZ29yeT1hbmltYXRlZFwiIH1cclxuXHQpO1xyXG5cdGNvbnN0IGNhdGVnb3J5RmFudGFzeUxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJhXCIsXHJcblx0XHRbXCJjYXRlZ29yaWVzX19ib3gtbGlua1wiLCBcImNhdGVnb3JpZXNfX2JveC1saW5rLS1mYW50YXN5XCJdLFxyXG5cdFx0eyBocmVmOiBcImNhdGVnb3JpZXMuaHRtbD9jYXRlZ29yeT1mYW50YXN5XCIgfVxyXG5cdCk7XHJcblx0Y29uc3QgY2F0ZWdvcnlIb3Jyb3JMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1wiY2F0ZWdvcmllc19fYm94LWxpbmtcIiwgXCJjYXRlZ29yaWVzX19ib3gtbGluay0taG9ycm9yc1wiXSxcclxuXHRcdHsgaHJlZjogXCJjYXRlZ29yaWVzLmh0bWw/Y2F0ZWdvcnk9aG9ycm9yXCIgfVxyXG5cdCk7XHJcblx0Y29uc3QgY2F0ZWdvcnlDb21lZHlMaW5rID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYVwiLFxyXG5cdFx0W1wiY2F0ZWdvcmllc19fYm94LWxpbmtcIiwgXCJjYXRlZ29yaWVzX19ib3gtbGluay0tY29tZWR5XCJdLFxyXG5cdFx0eyBocmVmOiBcImNhdGVnb3JpZXMuaHRtbD9jYXRlZ29yeT1jb21lZHlcIiB9XHJcblx0KTtcclxuXHJcblx0Y2F0ZWdvcnlBbmltYXRlZExpbmsudGV4dENvbnRlbnQgPSBhbmltYXRpb25zO1xyXG5cdGNhdGVnb3J5RmFudGFzeUxpbmsudGV4dENvbnRlbnQgPSBmYW50YXN5O1xyXG5cdGNhdGVnb3J5SG9ycm9yTGluay50ZXh0Q29udGVudCA9IGhvcnJvcjtcclxuXHRjYXRlZ29yeUNvbWVkeUxpbmsudGV4dENvbnRlbnQgPSBjb21lZHk7XHJcblxyXG5cdGNhdGVnb3J5QW5pbWF0ZWRDYXJkLmFwcGVuZChjYXRlZ29yeUFuaW1hdGVkTGluayk7XHJcblx0Y2F0ZWdvcnlGYW50YXN5Q2FyZC5hcHBlbmQoY2F0ZWdvcnlGYW50YXN5TGluayk7XHJcblx0Y2F0ZWdvcnlIb3Jyb3JDYXJkLmFwcGVuZChjYXRlZ29yeUhvcnJvckxpbmspO1xyXG5cdGNhdGVnb3J5Q29tZWR5Q2FyZC5hcHBlbmQoY2F0ZWdvcnlDb21lZHlMaW5rKTtcclxuXHJcblx0Y2F0ZWdvcmllc0JveC5hcHBlbmQoXHJcblx0XHRjYXRlZ29yeUFuaW1hdGVkQ2FyZCxcclxuXHRcdGNhdGVnb3J5RmFudGFzeUNhcmQsXHJcblx0XHRjYXRlZ29yeUhvcnJvckNhcmQsXHJcblx0XHRjYXRlZ29yeUNvbWVkeUNhcmRcclxuXHQpO1xyXG5cclxuXHRjYXRlZ29yaWVzU2VjdGlvbi5hcHBlbmQoY2F0ZWdvcmllc0JveCk7XHJcblxyXG5cdHJldHVybiBjYXRlZ29yaWVzU2VjdGlvbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTcGVjaWZpZWRTZWN0aW9uUG9zdGVyID0gKGZpbG1zQXJyLCB0cmFuc2xhdGlvbnMpID0+IHtcclxuXHRjb25zdCBtYWluID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wic3BlY2lmaWVkLWNhdGVnb3J5X19tYWluXCJdKTtcclxuXHRjb25zdCBzZWN0aW9uID0gY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgW1wic3BlY2lmaWVkLWNhdGVnb3J5XCJdKTtcclxuXHRjb25zdCBzZWN0aW9uQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcInNwZWNpZmllZC1jYXRlZ29yeV9fY29udGFpbmVyXCIsXHJcblx0XSk7XHJcblxyXG5cdGZpbG1zQXJyLmZvckVhY2goKGFyciwgaW5kZXgpID0+IHtcclxuXHRcdGlmICghYXJyKSByZXR1cm47XHJcblxyXG5cdFx0YXJyLmZvckVhY2goKHsgaWQsIHRpdGxlLCBuYW1lLCBwb3N0ZXJfcGF0aCB9KSA9PiB7XHJcblx0XHRcdGNvbnN0IHR5cGUgPSBpbmRleCA9PT0gMCA/IFwibW92aWVcIiA6IFwidHZcIjtcclxuXHRcdFx0Y29uc3QgaW1nU3JjID0gcG9zdGVyX3BhdGg7XHJcblxyXG5cdFx0XHRjb25zdCBzZWN0aW9uSXRlbSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wic3BlY2lmaWVkLWNhdGVnb3J5X19pdGVtXCJdKTtcclxuXHJcblx0XHRcdGNvbnN0IHNlY3Rpb25MaW5rID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wic3BlY2lmaWVkLWNhdGVnb3J5X19saW5rXCJdLCB7XHJcblx0XHRcdFx0aHJlZjogYGV4cGxvcmUuaHRtbD9pZD0ke2lkfSZ0eXBlPSR7dHlwZX1gLFxyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dNb3JlSW5mb0Fib3V0RmlsbSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCBzZWN0aW9uUG9zdGVyID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XHRcImltZ1wiLFxyXG5cdFx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItaW1nXCJdLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFsdDogYCR7XHJcblx0XHRcdFx0XHRcdHRyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8uY2Fyb3VzZWxsSW1hZ2VzPy5hcmlhPy5jYXJvdXNlbGxJbWFnZUFsdFxyXG5cdFx0XHRcdFx0fSAke3RpdGxlIHx8IG5hbWV9YCxcclxuXHRcdFx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRcdFx0c3JjOiBpbWdTcmNcclxuXHRcdFx0XHRcdFx0PyBnZXRJbWFnZVVybChpbWdTcmMsIFwib3JpZ2luYWxcIilcclxuXHRcdFx0XHRcdFx0OiBcIi4vZGlzdC9pbWcvaW1nLXBsYWNlaG9sZGVyLnN2Z1wiLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnN0IHNlY3Rpb25BZGRUb0xpc3RCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwiYnV0dG9uXCIsXHJcblx0XHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWJ0blwiXSxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5hZGRUb0xpc3RCdG4sXHJcblx0XHRcdFx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VjdGlvbkFkZFRvTGlzdEljb24gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWljb25cIl0sXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHRcdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvYWRkLXByb2ZpbGUuc3ZnXCIsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VjdGlvblRvb2x0aXAgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2Utc2VjdGlvbl9fdG9vbHRpcFwiXSk7XHJcblx0XHRcdHNlY3Rpb25Ub29sdGlwLnRleHRDb250ZW50ID0gdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5pbmZvO1xyXG5cclxuXHRcdFx0c2VjdGlvbkFkZFRvTGlzdEJ0bi5hcHBlbmQoc2VjdGlvbkFkZFRvTGlzdEljb24pO1xyXG5cdFx0XHRzZWN0aW9uTGluay5hcHBlbmQoc2VjdGlvblBvc3Rlcik7XHJcblx0XHRcdHNlY3Rpb25JdGVtLmFwcGVuZChzZWN0aW9uTGluaywgc2VjdGlvbkFkZFRvTGlzdEJ0biwgc2VjdGlvblRvb2x0aXApO1xyXG5cdFx0XHRzZWN0aW9uQ29udGFpbmVyLmFwcGVuZChzZWN0aW9uSXRlbSk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0c2VjdGlvbi5hcHBlbmQoc2VjdGlvbkNvbnRhaW5lcik7XHJcblx0bWFpbi5hcHBlbmQoc2VjdGlvbik7XHJcblxyXG5cdHJldHVybiBtYWluO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUV4cGxvcmVIZXJvU2VjdGlvbiA9IChcclxuXHR7IHRpdGxlLCBuYW1lLCBpZCwgYmFja2Ryb3BfcGF0aCwgb3ZlcnZpZXcgfSxcclxuXHR0cmFuc2xhdGlvbnNcclxuKSA9PiB7XHJcblx0Y29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuXHRjb25zdCB0eXBlID0gdXJsUGFyYW1zLmdldChcInR5cGVcIik7XHJcblxyXG5cdGNvbnN0IG1haW5Cb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImV4cGxvcmVfX2ZpbG0tcG9zdGVyXCJdKTtcclxuXHRjb25zdCBjb250ZW50Qm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJleHBsb3JlX19maWxtLWNvbnRlbnRcIl0pO1xyXG5cdGNvbnN0IG1haW5UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMVwiLCBbXCJleHBsb3JlX19maWxtLXRpdGxlXCIsIFwiYW5pbWF0ZWRcIl0pO1xyXG5cdGNvbnN0IGRlc2NyaXB0aW9uID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiZXhwbG9yZV9fZmlsbS1pbmZvXCIsIFwiYW5pbWF0ZWRcIl0pO1xyXG5cdGNvbnN0IHRyYWlsZXJCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcImV4cGxvcmVfX2ZpbG0tc2hvdy10cmFpbGVyLWJ0blwiLCBcImFuaW1hdGVkXCJdLFxyXG5cdFx0eyBcImRhdGEtdHJhaWxlclwiOiBpZCwgXCJkYXRhLXR5cGVcIjogdHlwZSB9XHJcblx0KTtcclxuXHRjb25zdCBpbWdTcmMgPSBiYWNrZHJvcF9wYXRoO1xyXG5cdGNvbnN0IGFkZFRvTGlzdEJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wiZXhwbG9yZV9fZmlsbS1hZGQtdG8tbGlzdC1idG5cIiwgXCJhbmltYXRlZFwiXSxcclxuXHRcdHtcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uYWRkVG9MaXN0QnRuLFxyXG5cdFx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBiYWNrQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJleHBsb3JlX19iYWNrLWJ0blwiLCBcImFuaW1hdGVkXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zLmV4cGxvcmUuYmFja0J1dHRvbixcclxuXHR9KTtcclxuXHJcblx0bWFpblRpdGxlLnRleHRDb250ZW50ID0gdGl0bGUgfHwgbmFtZTtcclxuXHRkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG92ZXJ2aWV3O1xyXG5cclxuXHR0cmFpbGVyQnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwiZXhwbG9yZV9fdHJhaWxlci1wbGF5LWljb25cIlxyXG5cdHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIlxyXG5cdHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiIzAwMFwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCJcclxuXHRzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxyXG5cdGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXBsYXlcIj5cclxuXHQ8cG9seWdvbiBwb2ludHM9XCI1IDMgMTkgMTIgNSAyMSA1IDNcIj48L3BvbHlnb24+XHJcblx0PC9zdmc+YDtcclxuXHJcblx0Y29uc3QgdHJhaWxlclRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJleHBsb3JlX19zZWUtdHJhaWxlclwiXSk7XHJcblx0dHJhaWxlclRleHQudGV4dENvbnRlbnQgPVxyXG5cdFx0dHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy5hY3Rpb25CdG5zPy50cmFpbGVyQnRuVGV4dDtcclxuXHJcblx0dHJhaWxlckJ0bi5hcHBlbmQodHJhaWxlclRleHQpO1xyXG5cclxuXHRhZGRUb0xpc3RCdG4uaW5uZXJIVE1MID0gYDxpbWcgY2xhc3M9XCJleHBsb3JlX19maWxtLWFkZC1pY29uXCIgc3JjPVwiLi9zcmMvaWNvbnMvYWRkLXByb2ZpbGUuc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgYWx0PVwiXCIgbG9hZGluZz1cImxhenlcIj5gO1xyXG5cdGJhY2tCdG4uaW5uZXJIVE1MID0gYDxpbWcgY2xhc3M9XCJleHBsb3JlX19iYWNrLWJ0bi1pY29uXCIgc3JjPVwiLi9zcmMvaWNvbnMvY2hldnJvbi1sZWZ0LnN2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGFsdD1cIlwiIGxvYWRpbmc9XCJsYXp5XCI+YDtcclxuXHJcblx0bWFpbkJveC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke1xyXG5cdFx0aW1nU3JjID8gZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpIDogXCIuL2Rpc3QvaW1nL2ltZy1wbGFjZWhvbGRlci5zdmdcIlxyXG5cdH0nKWA7XHJcblxyXG5cdGJhY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdGhpc3RvcnkuYmFjaygpO1xyXG5cdH0pO1xyXG5cclxuXHRjb250ZW50Qm94LmFwcGVuZChtYWluVGl0bGUsIGRlc2NyaXB0aW9uLCB0cmFpbGVyQnRuLCBhZGRUb0xpc3RCdG4sIGJhY2tCdG4pO1xyXG5cdG1haW5Cb3guYXBwZW5kKGNvbnRlbnRCb3gpO1xyXG5cdHJldHVybiBtYWluQm94O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlYXJjaEVuZ2luZSA9ICh0cmFuc2xhdGlvbnMpID0+IHtcclxuXHRjb25zdCBzZWFyY2hFbmdpbmVCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcInNlYXJjaC1lbmdpbmVfX2JveFwiXSk7XHJcblx0Y29uc3Qgc2VhcmNoRW5naW5lID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFtcInNlYXJjaC1lbmdpbmVfX2lucHV0XCJdLCB7XHJcblx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdHBsYWNlaG9sZGVyOiB0cmFuc2xhdGlvbnM/LnNlYXJjaEVuZ2luZT8ucGxhY2Vob2xkZXIsXHJcblx0fSk7XHJcblx0Y29uc3Qgc2VhcmNoRW5naW5lSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wic2VhcmNoLWVuZ2luZV9faWNvblwiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3NlYXJjaC1pY29uLnN2Z1wiLFxyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0fSk7XHJcblxyXG5cdHNlYXJjaEVuZ2luZUJveC5hcHBlbmQoc2VhcmNoRW5naW5lLCBzZWFyY2hFbmdpbmVJY29uKTtcclxuXHJcblx0cmV0dXJuIHNlYXJjaEVuZ2luZUJveDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWx0ZXJlZEZpbG1zU2VjdGlvbiA9IChmaWx0ZXJlZEZpbG1zLCB0cmFuc2xhdGlvbnMpID0+IHtcclxuXHRjb25zdCBzZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLnNwZWNpZmllZC1jYXRlZ29yeV9fY29udGFpbmVyXCJcclxuXHQpO1xyXG5cdHNlY3Rpb25Db250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcblx0aWYgKGZpbHRlcmVkRmlsbXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRjb25zdCBsYWNrT2ZDb250ZW50ID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wibGFjay1vZi1jb250ZW50X190ZXh0XCJdKTtcclxuXHRcdGxhY2tPZkNvbnRlbnQudGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvbnM/LnNlYXJjaEVuZ2luZT8ubGFja09mQ29udGVudDtcclxuXHRcdHNlY3Rpb25Db250YWluZXIuYXBwZW5kKGxhY2tPZkNvbnRlbnQpO1xyXG5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGxhY2tPZkNvbnRlbnRUeHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxhY2stb2YtY29udGVudF9fdGV4dFwiKTtcclxuXHRsYWNrT2ZDb250ZW50VHh0Py5yZW1vdmUoKTtcclxuXHJcblx0ZmlsdGVyZWRGaWxtcy5mb3JFYWNoKCh7IG1lZGlhX3R5cGUsIGlkLCB0aXRsZSwgbmFtZSwgcG9zdGVyX3BhdGggfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gcG9zdGVyX3BhdGg7XHJcblxyXG5cdFx0Y29uc3QgcG9zdGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJzcGVjaWZpZWQtY2F0ZWdvcnlfX2l0ZW1cIl0pO1xyXG5cclxuXHRcdGNvbnN0IHBvc3RlckxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJzcGVjaWZpZWQtY2F0ZWdvcnlfX2xpbmtcIl0sIHtcclxuXHRcdFx0aHJlZjogYGV4cGxvcmUuaHRtbD9pZD0ke2lkfSZ0eXBlPSR7bWVkaWFfdHlwZSB8fCBcIm1vdmllXCJ9YCxcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd01vcmVJbmZvQWJvdXRGaWxtLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3Qgc2VjdGlvbkltZyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWdcIl0sIHtcclxuXHRcdFx0YWx0OiBgJHtcclxuXHRcdFx0XHR0cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LmNhcm91c2VsbEltYWdlcz8uYXJpYT8uY2Fyb3VzZWxsSW1hZ2VBbHRcclxuXHRcdFx0fSAke3RpdGxlIHx8IG5hbWV9YCxcclxuXHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdHNyYzogZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgYWRkVG9MaXN0QnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJidXR0b25cIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWJ0blwiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LmFkZFRvTGlzdEJ0bixcclxuXHRcdFx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Y29uc3QgYWRkVG9MaXN0SWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19hZGQtdG8tbGlzdC1pY29uXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cclxuXHRcdGNvbnN0IHRvb2x0aXAgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2Utc2VjdGlvbl9fdG9vbHRpcFwiXSk7XHJcblx0XHR0b29sdGlwLnRleHRDb250ZW50ID0gdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5pbmZvO1xyXG5cclxuXHRcdHBvc3RlckxpbmsuYXBwZW5kKHNlY3Rpb25JbWcpO1xyXG5cdFx0YWRkVG9MaXN0QnRuLmFwcGVuZChhZGRUb0xpc3RJY29uKTtcclxuXHRcdHBvc3Rlci5hcHBlbmQocG9zdGVyTGluaywgYWRkVG9MaXN0QnRuLCB0b29sdGlwKTtcclxuXHJcblx0XHRzZWN0aW9uQ29udGFpbmVyLmFwcGVuZChwb3N0ZXIpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRyYWlsZXJXaW5kb3cgPSBhc3luYyAoZSkgPT4ge1xyXG5cdGNvbnN0IHdpbmRvd0V4aXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHJhaWxlci13aW5kb3dcIik7XHJcblxyXG5cdGlmICh3aW5kb3dFeGlzdHMpIHJldHVybjtcclxuXHJcblx0Y29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucm9vdFwiKTtcclxuXHRjb25zdCBpZCA9IGUudGFyZ2V0LmRhdGFzZXQudHJhaWxlcjtcclxuXHRjb25zdCB0eXBlID0gZS50YXJnZXQuZGF0YXNldC50eXBlO1xyXG5cclxuXHRjb25zdCB0cmFpbGVySUQgPSBhd2FpdCBnZXRWaWRlb1RyYWlsZXJJZChpZCwgdHlwZSk7XHJcblxyXG5cdGlmICghdHJhaWxlcklEKSByZXR1cm47XHJcblxyXG5cdGNvbnN0IG1haW5XaW5kb3cgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcInRyYWlsZXItd2luZG93XCJdKTtcclxuXHRjb25zdCB2aWRlb0ZyYW1lID0gY3JlYXRlRWxlbWVudChcImlmcmFtZVwiLCBbXCJ0cmFpbGVyLWZyYW1lXCJdLCB7XHJcblx0XHRzcmM6IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke3RyYWlsZXJJRH1gLFxyXG5cdFx0YWxsb3dmdWxsc2NyZWVuOiB0cnVlLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGNsb3NlV2luZG93QnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJjbG9zZS10cmFpbGVyLXdpbmRvd1wiXSk7XHJcblx0Y29uc3QgY2xvc2VXaW5kb3dJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJjbG9zZS10cmFpbGVyLXdpbmRvdy1pY29uXCJdLCB7XHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvY2xvc2UtaWNvbi5zdmdcIixcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHR9KTtcclxuXHJcblx0Y2xvc2VXaW5kb3dCdG4uYXBwZW5kKGNsb3NlV2luZG93SWNvbik7XHJcblx0bWFpbldpbmRvdy5hcHBlbmQodmlkZW9GcmFtZSwgY2xvc2VXaW5kb3dCdG4pO1xyXG5cclxuXHRyb290LmFwcGVuZChtYWluV2luZG93LCBjcmVhdGVPdmVybGF5KCkpO1xyXG59O1xyXG5jb25zdCBnZXRWaWRlb1RyYWlsZXJJZCA9IGFzeW5jIChpZCwgdHlwZSkgPT4ge1xyXG5cdGNvbnN0IFVSTCA9IGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zLyR7dHlwZX0vJHtpZH0vdmlkZW9zXHJcbmA7XHJcblx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChVUkwsIG9wdGlvbnMpO1xyXG5cdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0Y29uc3QgdHJhaWxlciA9IGRhdGEucmVzdWx0cy5maW5kKFxyXG5cdFx0KGVsKSA9PlxyXG5cdFx0XHRlbC5uYW1lID09PSBcIk9mZmljaWFsIFRyYWlsZXJcIiB8fCBlbC5uYW1lLmluY2x1ZGVzKFwiT2ZmaWNpYWwgVHJhaWxlclwiKVxyXG5cdCk7XHJcblxyXG5cdGlmICghdHJhaWxlcikge1xyXG5cdFx0c2hvd0Vycm9yUG9wdXAoXHJcblx0XHRcdFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIHRoZSB0cmFpbGVyIGZvciB0aGlzIHZpZGVvLlwiLFxyXG5cdFx0XHRcIiNkYzRhMzRcIlxyXG5cdFx0KTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0Y29uc3QgdHJhaWxlcktleSA9IHRyYWlsZXIua2V5O1xyXG5cclxuXHRyZXR1cm4gdHJhaWxlcktleTtcclxufTtcclxuZXhwb3J0IGNvbnN0IGhpZGVUcmFpbGVyV2luZG93ID0gKCkgPT4ge1xyXG5cdGNvbnN0IHRyYWlsZXJXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyYWlsZXItd2luZG93XCIpO1xyXG5cdGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlcIik7XHJcblxyXG5cdHRyYWlsZXJXaW5kb3cucmVtb3ZlKCk7XHJcblx0b3ZlcmxheS5yZW1vdmUoKTtcclxufTtcclxuIl19
