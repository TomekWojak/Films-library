import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_LOADER_TIME=3e3,HIDE_POPUP_TIME=2500;export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("An unexpected error occurred","#dc4a34"),new Error("NieprawidÅ‚owa struktura danych");return t}catch{return localStorage.removeItem("userData"),{}}};const USERNAME="handsomeUser404",PASSWORD="5jksH9d.";export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},a,n,o,i)=>{const s=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),s.append(l);const m=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),p=createElement("span",["login-header__lang-platform-lang"]),_=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),u=createElement("ul",["login-header__lang-list"]);for(let e=0;e<a;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(n)[e],a=Object.values(n)[e];t.dataset.lang=r,t.textContent=a,t.style.animationDelay=100*e+"ms",u.append(t)}return p.textContent=n[o],m.addEventListener("click",e=>{i.call(m,e,p)}),m.append(p,_,u),s.append(m),s};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:a},placeholder:{username:n,password:o}}})=>{const i=createElement("main",["main"]),s=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),m=createElement("p",["main__text"]),p=createElement("form",["main__form"]),_=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:n}),u=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o}),g=createElement("button",["main__form-button"],{type:"submit"}),f=createElement("span",["main__form-button-text"]),h=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,m.textContent=r,f.textContent=a,l.append(c,d),g.append(f),p.append(_,u,g,h),s.append(l,m,p),i.append(s),g.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t);handleLoginValidation(e,_,u,translations.main.text.errorRequired,translations.main.text.errorInvalid,USERNAME,PASSWORD,h)||(h.classList.remove("visible"),e.target.append(showSmallLoader()),e.target.disabled=!0,setTimeout(()=>{e.target.disabled=!1,hideSmallLoader(),setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html"},3e3))}),i};const handleLoginValidation=(e,t,r,a,n,o,i,s)=>(e.preventDefault(),""===t.value.trim()||""===r.value.trim()?(s.classList.add("visible"),s.textContent=a,a):t.value.trim()!==o||r.value.trim()!==i?(e.target.disabled=!0,e.target.append(showSmallLoader()),s.classList.remove("visible"),setTimeout(()=>{s.classList.add("visible"),s.textContent=n,e.target.disabled=!1,hideSmallLoader()},3e3),n):null);export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:a,userBtnCustomize:n,removeUserInfo:o}},errorPopup:{text:{maxProfiles:i,emptyField:s}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),m=createElement("div",["wrapper"]),p=createElement("h1",["main__title","main-profiles__title"]),_=createElement("div",["main-profiles__box"]);if(p.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)_.append(createProfile(a,n,n,s,o,e,c[e]));_.append(createProfileAddBtn(r,t,a,_,n,n,i,s,o)),m.append(p,_),l.append(m),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,a,n,o=null,i=null)=>{const s=getData(),l=s?.userProfiles||{};if(null===s)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,m;const p=["#dc4a34","#062E63","#FAC044"];if(o){d=o,m=i.name;c=p[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,m=`Handsome User ${e}`,c=p[e-1]}const _=createElement("div",["main-profiles__profile"]),u=createElement("div",["main-profiles__avatar"]),g=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),f=createElement("div",["main-profiles__user-info"]),h=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:m}),E=createElement("span",["name-border"]),v=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),b=createElement("button",["main-profiles__remove-user"],{"aria-label":n}),w=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(g.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',g.style.backgroundColor=c,u.append(g),v.append(x),b.append(w),f.append(h,E,v,b),_.append(u,f),!o){const e={...l,[d]:{name:m}};setUserPreference("userProfiles",e,s)}return v.addEventListener("click",e=>{editUsername(e,f,r,a)}),b.addEventListener("click",e=>{removeUser(e)}),h.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,a)}),g.addEventListener("click",e=>setCurrentProfile(e)),_.classList.add("visible"),_},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,a,n,o,i,s,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),m=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),p=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),_=createElement("span",["main-profiles__name"]);return _.textContent=t,m.append(p),d.append(m),c.append(d,_),m.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(i,"#dc4a34");const d=createProfile(r,n,o,s,l);d&&a.insertBefore(d,c)}),c},editUsername=(e,t,r,a)=>{resetStateOfEditing(e);const n=e.target,o=n.closest(".main-profiles__profile").querySelector(".main-profiles__name"),i=createSaveBtn(r);n.classList.add("hidden"),i.classList.remove("hidden"),t.append(i),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),i.addEventListener("click",e=>{saveUsername(e,a)})},saveUsername=(e,t)=>{const r=getData(),a=r?.userProfiles||[],n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn").dataset.id,i=n.querySelector(".main-profiles__name"),s=document.querySelectorAll(".main-profiles__edit-name");if(s.forEach(e=>e.removeAttribute("disabled")),""===i.value.trim())return s.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...a,[o]:{...a[o],name:i.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),a=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),a.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,a=document.querySelector(".container"),n=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),n.append(o),a.append(n),setTimeout(()=>{n.classList.add("hidden")},2e3),setTimeout(()=>{n.remove(),popupVisible=!1},2500)};const removeUser=e=>{const t=getData(),r=t?.userProfiles,a=document.querySelectorAll(".main-profiles__edit-name"),n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn");a.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),n.classList.add("hidden"),setTimeout(()=>{n.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:a,myListLink:n,searchLink:o},aria:{userButton:i}}})=>{createElement("div",["wrapper"]);const s=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:""}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),s.append(l,createBrowserNav(r,a,n,o),createUserBtn(i)),s};const createBrowserNav=(e,t,r,a)=>{const n=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:a,src:"./src/icons/search-icon.svg"}].forEach(e=>{const t=createElement("li",["browse-header__item"]),r=createElement("a",["browse-header__link"],{href:""}),a=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),n=createElement("span",["browse-header__link-text"]);n.textContent=e.name,r.append(a,n),t.append(r),o.append(t)}),n.append(o),n},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),a=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(a),t.append(r),t};export const createMainHeroSection=(e,t,r)=>{const a=createElement("main",["browse-main"]),n=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),i=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:s,overview:l="",backdrop_path:c})=>{const d=c,m=createElement("div",["browse-main__img-box"]),p=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${s}`,src:d?getImageUrl(d,"original"):"./dist/img/img-placeholder.svg"}),_=createElement("div",["browse-main__text-box"]),u=createElement("h2",["browse-main__carousell-title"]),g=createElement("p",["browse-main__carousell-overview"]);u.textContent=s,g.textContent=l,_.append(u,g,createActionButtons(e,t)),m.append(p,_),i.append(m),o.append(i),n.append(o),a.append(n),r.append(a)}),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const a=createElement("div",["browse-main__action-btns"]),n=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e}),o=createElement("span",["browse-main__see-trailer"]),i=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:""});return o.textContent=t,i.textContent=r,n.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',n.append(o),a.append(n,i),a},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,a)=>{const n=createElement("button",["browse-main__btn"],{"data-img":a,"aria-label":`${t} ${a}`}),o=createElement("span",["browse-main__progress-bar"]);n.append(o),r.append(n)}),r};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVFbGVtZW50IiwiZ2V0SW1hZ2VVcmwiLCJzZXRVc2VyUHJlZmVyZW5jZSIsIkhJREVfTE9BREVSX1RJTUUiLCJISURFX1BPUFVQX1RJTUUiLCJnZXREYXRhIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwic2hvd0Vycm9yUG9wdXAiLCJFcnJvciIsInJlbW92ZUl0ZW0iLCJVU0VSTkFNRSIsIlBBU1NXT1JEIiwiY3JlYXRlTG9naW5IZWFkZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwibG9nb1RleHQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImxhbmdTZWxlY3QiLCJsYW5nUGxhdGZvcm1MYW5nIiwibGFuZ0Fycm93IiwibGFuZ0xpc3QiLCJpIiwibGFuZ0Nob2ljZSIsInRhYmluZGV4IiwiT2JqZWN0Iiwia2V5cyIsInRleHQiLCJ2YWx1ZXMiLCJkYXRhc2V0IiwibGFuZyIsInN0eWxlIiwiYW5pbWF0aW9uRGVsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNhbGwiLCJjcmVhdGVMb2dpblBhZ2UiLCJtYWluIiwidGl0bGUiLCJzdWJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYnV0dG9uIiwicGxhY2Vob2xkZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibWFpbkNvbnRlbnQiLCJ3cmFwcGVyIiwibG9naW5UaXRsZSIsImxvZ2luVGl0bGVUb3AiLCJsb2dpblRpdGxlQm90dG9tIiwibG9naW5UZXh0IiwiZm9ybSIsInVzZXJuYW1lSW5wdXQiLCJ0eXBlIiwicGFzc3dvcmRJbnB1dCIsInN1Ym1pdEJ0biIsImJ1dHRvblRleHQiLCJlcnJvclR4dCIsInVzZXJEYXRhIiwiY2hvb3NlbkxhbmciLCJwcmVmZXJyZWRMYW5ndWFnZSIsImhhbmRsZUxvZ2luVmFsaWRhdGlvbiIsInRyYW5zbGF0aW9ucyIsImVycm9yUmVxdWlyZWQiLCJlcnJvckludmFsaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0YXJnZXQiLCJzaG93U21hbGxMb2FkZXIiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJoaWRlU21hbGxMb2FkZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcXVpcmVFcnJvciIsImludmFsaWRFcnJvciIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJ0cmltIiwiYWRkIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInByb2ZpbGVzUGFnZU1haW4iLCJwcm9maWxlc1RpdGxlIiwicHJvZmlsZXNCb3giLCJsZW5ndGgiLCJrZXkiLCJjcmVhdGVQcm9maWxlIiwiY3JlYXRlUHJvZmlsZUFkZEJ0biIsImFyaWFJbmZvIiwidXNlckJ0bkluZm8iLCJzYXZlQnRuQXJpYSIsImVtcHR5RmllbGRFcnJvciIsInJlbW92ZUFyaWEiLCJleGlzdGluZ1Byb2ZpbGVJZCIsImV4aXN0aW5nUHJvZmlsZU5hbWUiLCJleGlzdGluZ1Byb2ZpbGVzIiwicmVsb2FkIiwiY29sb3IiLCJwcm9maWxlSWQiLCJwcm9maWxlTmFtZSIsImNvbG9ycyIsIm5hbWUiLCJwYXJzZUludCIsInNwbGl0IiwicG9wIiwibmV4dE51bWJlciIsInVzZXJQcm9maWxlIiwidXNlckF2YXRhckJveCIsInVzZXJQcm9maWxlSW5mb0JveCIsInVzZXJQcm9maWxlSW5mbyIsInJlYWRvbmx5IiwibmFtZUJvcmRlciIsImVkaXRVc2VySW5mb0J0biIsInJlbW92ZVVzZXJCdG4iLCJyZW1vdmVVc2VySWNvbiIsImxvYWRpbmciLCJlZGl0VXNlckluZm9JY29uIiwiYmFja2dyb3VuZENvbG9yIiwidXBkYXRlZFByb2ZpbGVzIiwiZWRpdFVzZXJuYW1lIiwicmVtb3ZlVXNlciIsInNhdmVVc2VybmFtZSIsInNldEN1cnJlbnRQcm9maWxlIiwicHJvZmlsZURhdGEiLCJpZCIsImluZm8iLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjbG9zZXN0UHJvZmlsZUJ0biIsImNyZWF0ZUJyb3dzZVBhZ2UiLCJicm93c2VQYWdlIiwibmFtZXMiLCJmaWxtTGluayIsInNlcmllc0xpbmsiLCJteUxpc3RMaW5rIiwic2VhcmNoTGluayIsInVzZXJCdXR0b24iLCJsb2dvTWFpbkxpbmsiLCJsb2dvTWFpbkltZyIsIm1haW5UaXRsZSIsImNyZWF0ZUJyb3dzZXJOYXYiLCJjcmVhdGVVc2VyQnRuIiwibmF2IiwibmF2TGlua3MiLCJsaW5rIiwibGlzdEl0ZW0iLCJsaW5rRWwiLCJpY29uIiwidXNlckJveCIsInVzZXJCdG4iLCJ1c2VySWNvbiIsImNyZWF0ZU1haW5IZXJvU2VjdGlvbiIsIm1vdmllcyIsImJyb3dzZU1haW4iLCJicm93c2VNYWluU2VjdGlvbiIsImltYWdlc0Nhcm91c2VsbCIsImltYWdlc0luc2lkZVNsaWRlciIsIm92ZXJ2aWV3IiwiYmFja2Ryb3BfcGF0aCIsImltZ1NyYyIsImltYWdlQm94IiwiaW1hZ2UiLCJjYXJvdXNlbGxJbWFnZXMiLCJjYXJvdXNlbGxJbWFnZUFsdCIsInRleHRCb3giLCJmaWxtVGl0bGUiLCJmaWxtSW5mbyIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJjcmVhdGVDYXJvdXNlbGxDb250cm9scyIsImFjdGlvbkJ0bnMiLCJ0cmFpbGVyQnRuVGV4dCIsIm1vcmVJbmZvQnRuVGV4dCIsImFjdGlvbkJ0bnNQYW5lbCIsInNob3dUcmFpbGVyQnRuIiwic2hvd1RyYWlsZXJUZXh0Iiwic2VlTW9yZUJ0biIsImNhcm91c2VsbEJ0bnMiLCJjYXJvdXNlbGxDb250cm9scyIsIm1vdmllIiwiaW5kZXgiLCJjYXJvdXNlbGxCdG4iLCJjYXJvdXNlbGxCdG5Qcm9ncmVzc0JhciJdLCJzb3VyY2VzIjpbImNvbXBvbmVudHMuanMiXSwibWFwcGluZ3MiOiJPQUFTQSxjQUFlQyxnQkFBbUIsMEJBQ2xDQyxzQkFBeUIsZ0NBQ2xDLE1BQU1DLGlCQUFtQixJQUNuQkMsZ0JBQWtCLFlBQ2pCLE1BQU1DLFFBQVUsS0FDdEIsSUFDQyxNQUFNQyxFQUFPQyxhQUFhQyxRQUFRLFlBRWxD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QUFZMlAsRUFDWixhQUFjLEdBQUd0TyxLQUFRc08sTUFFcEJFLEVBQTBCN1AsY0FBYyxPQUFRLENBQ3JELDhCQUdENFAsRUFBYXhOLE9BQU95TixHQUVwQkosRUFBa0JyTixPQUFPd04sS0FFbkJIIiwiaWdub3JlTGlzdCI6W10sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGdldEltYWdlVXJsIH0gZnJvbSBcIi4vaGVscGVycy5taW4uanNcIjtcclxuaW1wb3J0IHsgc2V0VXNlclByZWZlcmVuY2UgfSBmcm9tIFwiLi91cGRhdGVTdGF0ZUZ1bmN0aW9ucy5taW4uanNcIjtcclxuY29uc3QgSElERV9MT0FERVJfVElNRSA9IDMwMDA7XHJcbmNvbnN0IEhJREVfUE9QVVBfVElNRSA9IDI1MDA7XHJcbmV4cG9ydCBjb25zdCBnZXREYXRhID0gKCkgPT4ge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyRGF0YVwiKTtcclxuXHJcblx0XHRpZiAoIWRhdGEpIHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG5cclxuXHRcdGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gXCJvYmplY3RcIiB8fCBwYXJzZWREYXRhID09PSBudWxsKSB7XHJcblx0XHRcdHNob3dFcnJvclBvcHVwKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5pZXByYXdpZMWCb3dhIHN0cnVrdHVyYSBkYW55Y2hcIik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFyc2VkRGF0YTtcclxuXHR9IGNhdGNoIHtcclxuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlckRhdGFcIik7XHJcblx0XHRyZXR1cm4ge307XHJcblx0fVxyXG59O1xyXG5cclxuLy8gREVNTyBPTkxZIC0gTmV2ZXIgaGFyZGNvZGUgY3JlZGVudGlhbHMgaW4gcHJvZHVjdGlvbiFcclxuY29uc3QgVVNFUk5BTUUgPSBcImhhbmRzb21lVXNlcjQwNFwiO1xyXG5jb25zdCBQQVNTV09SRCA9IFwiNWprc0g5ZC5cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVMb2dpbkhlYWRlciA9IChcclxuXHR7XHJcblx0XHRoZWFkZXI6IHtcclxuXHRcdFx0YWx0OiB7IGxvZ28gfSxcclxuXHRcdFx0YXJpYTogeyBsb2dvTGluaywgY2hhbmdlTGFuZ3VhZ2VCdXR0b24gfSxcclxuXHRcdH0sXHJcblx0fSxcclxuXHRsYW5nQW1vdW50LFxyXG5cdGxhbmdOYW1lcyxcclxuXHRsYW5ndWFnZSxcclxuXHRoYW5kbGVMYW5nU2VsZWN0XHJcbikgPT4ge1xyXG5cdC8vIGxvZ29cclxuXHRjb25zdCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIsIFtcImhlYWRlclwiXSk7XHJcblx0Y29uc3QgcGFnZUxvZ28gPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJoZWFkZXJfX2xvZ29cIiwgXCJsb2dpbi1oZWFkZXJfX2xvZ29cIl0sIHtcclxuXHRcdGhyZWY6IFwiL1wiLFxyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGAke2xvZ29MaW5rfWAsXHJcblx0fSk7XHJcblx0Y29uc3QgbG9nb0ltZyA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiaGVhZGVyX19sb2dvLWltZ1wiLCBcImxvZ2luLWhlYWRlcl9fbG9nby1pbWdcIl0sXHJcblx0XHR7XHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdFx0XHRhbHQ6IGAke2xvZ299YCxcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBsb2dvVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFwiaGVhZGVyX19sb2dvLXRleHRcIixcclxuXHRcdFwibG9naW4taGVhZGVyX19sb2dvLXRleHRcIixcclxuXHRdKTtcclxuXHRsb2dvVGV4dC50ZXh0Q29udGVudCA9IFwiU3RyZWFtXCI7XHJcblx0cGFnZUxvZ28uYXBwZW5kKGxvZ29JbWcsIGxvZ29UZXh0KTtcclxuXHRoZWFkZXIuYXBwZW5kKHBhZ2VMb2dvKTtcclxuXHQvLyBlbmQgb2YgbG9nb1xyXG5cclxuXHQvLyBsYW5ndWFnZSBzZWxlY3RvclxyXG5cdGNvbnN0IGxhbmdTZWxlY3QgPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1zZWxlY3RcIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBgJHtjaGFuZ2VMYW5ndWFnZUJ1dHRvbn1gLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxhbmdQbGF0Zm9ybUxhbmcgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcImxvZ2luLWhlYWRlcl9fbGFuZy1wbGF0Zm9ybS1sYW5nXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgbGFuZ0Fycm93ID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctYXJyb3dcIl0sIHtcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9jaGV2cm9uLWRvd24uc3ZnXCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbGFuZ0xpc3QgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wibG9naW4taGVhZGVyX19sYW5nLWxpc3RcIl0pO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxhbmdBbW91bnQ7IGkrKykge1xyXG5cdFx0Y29uc3QgbGFuZ0Nob2ljZSA9IGNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctY2hvaWNlXCJdLCB7XHJcblx0XHRcdHRhYmluZGV4OiAwLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBkYXRhID0gT2JqZWN0LmtleXMobGFuZ05hbWVzKVtpXTtcclxuXHRcdGNvbnN0IHRleHQgPSBPYmplY3QudmFsdWVzKGxhbmdOYW1lcylbaV07XHJcblxyXG5cdFx0bGFuZ0Nob2ljZS5kYXRhc2V0LmxhbmcgPSBkYXRhO1xyXG5cdFx0bGFuZ0Nob2ljZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcblx0XHRsYW5nQ2hvaWNlLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gaSAqIDEwMCArIFwibXNcIjtcclxuXHRcdGxhbmdMaXN0LmFwcGVuZChsYW5nQ2hvaWNlKTtcclxuXHR9XHJcblxyXG5cdGxhbmdQbGF0Zm9ybUxhbmcudGV4dENvbnRlbnQgPSBsYW5nTmFtZXNbbGFuZ3VhZ2VdO1xyXG5cclxuXHRsYW5nU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aGFuZGxlTGFuZ1NlbGVjdC5jYWxsKGxhbmdTZWxlY3QsIGUsIGxhbmdQbGF0Zm9ybUxhbmcpO1xyXG5cdH0pO1xyXG5cclxuXHRsYW5nU2VsZWN0LmFwcGVuZChsYW5nUGxhdGZvcm1MYW5nLCBsYW5nQXJyb3csIGxhbmdMaXN0KTtcclxuXHRoZWFkZXIuYXBwZW5kKGxhbmdTZWxlY3QpO1xyXG5cclxuXHRyZXR1cm4gaGVhZGVyO1xyXG5cdC8vIGVuZCBvZiBsYW5ndWFnZSBzZWxlY3RvclxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZ2luUGFnZSA9ICh7XHJcblx0bWFpbjoge1xyXG5cdFx0dGV4dDogeyB0aXRsZSwgc3VidGl0bGUsIGRlc2NyaXB0aW9uLCBidXR0b24gfSxcclxuXHRcdHBsYWNlaG9sZGVyOiB7IHVzZXJuYW1lLCBwYXNzd29yZCB9LFxyXG5cdH0sXHJcbn0pID0+IHtcclxuXHRjb25zdCBtYWluQ29udGVudCA9IGNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIFtcIm1haW5cIl0pO1xyXG5cdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDFcIik7XHJcblx0Y29uc3QgbG9naW5UaXRsZVRvcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW5fX3RpdGxlXCJdKTtcclxuXHRjb25zdCBsb2dpblRpdGxlQm90dG9tID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fc3VidGl0bGVcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcIm1haW5fX3RleHRcIl0pO1xyXG5cdGNvbnN0IGZvcm0gPSBjcmVhdGVFbGVtZW50KFwiZm9ybVwiLCBbXCJtYWluX19mb3JtXCJdKTtcclxuXHRjb25zdCB1c2VybmFtZUlucHV0ID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW5wdXRcIixcclxuXHRcdFtcIm1haW5fX2Zvcm0taW5wdXRcIiwgXCJtYWluX19mb3JtLWlucHV0LS11c2VybmFtZVwiXSxcclxuXHRcdHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiB1c2VybmFtZSB9XHJcblx0KTtcclxuXHRjb25zdCBwYXNzd29yZElucHV0ID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW5wdXRcIixcclxuXHRcdFtcIm1haW5fX2Zvcm0taW5wdXRcIiwgXCJtYWluX19mb3JtLWlucHV0LS1wYXNzd29yZFwiXSxcclxuXHRcdHsgdHlwZTogXCJwYXNzd29yZFwiLCBwbGFjZWhvbGRlcjogcGFzc3dvcmQgfVxyXG5cdCk7XHJcblx0Y29uc3Qgc3VibWl0QnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJtYWluX19mb3JtLWJ1dHRvblwiXSwge1xyXG5cdFx0dHlwZTogXCJzdWJtaXRcIixcclxuXHR9KTtcclxuXHRjb25zdCBidXR0b25UZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fZm9ybS1idXR0b24tdGV4dFwiXSk7XHJcblxyXG5cdGNvbnN0IGVycm9yVHh0ID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wibWFpbl9fZm9ybS1lcnJvci10eHRcIl0pO1xyXG5cdGxvZ2luVGl0bGVUb3AudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHRsb2dpblRpdGxlQm90dG9tLnRleHRDb250ZW50ID0gc3VidGl0bGU7XHJcblx0bG9naW5UZXh0LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcblx0YnV0dG9uVGV4dC50ZXh0Q29udGVudCA9IGJ1dHRvbjtcclxuXHJcblx0bG9naW5UaXRsZS5hcHBlbmQobG9naW5UaXRsZVRvcCwgbG9naW5UaXRsZUJvdHRvbSk7XHJcblx0c3VibWl0QnRuLmFwcGVuZChidXR0b25UZXh0KTtcclxuXHRmb3JtLmFwcGVuZCh1c2VybmFtZUlucHV0LCBwYXNzd29yZElucHV0LCBzdWJtaXRCdG4sIGVycm9yVHh0KTtcclxuXHJcblx0d3JhcHBlci5hcHBlbmQobG9naW5UaXRsZSwgbG9naW5UZXh0LCBmb3JtKTtcclxuXHRtYWluQ29udGVudC5hcHBlbmQod3JhcHBlcik7XHJcblxyXG5cdHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdFx0Y29uc3QgY2hvb3NlbkxhbmcgPSB1c2VyRGF0YT8ucHJlZmVycmVkTGFuZ3VhZ2U7XHJcblxyXG5cdFx0aWYgKCFjaG9vc2VuTGFuZykge1xyXG5cdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInByZWZlcnJlZExhbmd1YWdlXCIsIFwicGxcIiwgdXNlckRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJlc3VsdHMgPSBoYW5kbGVMb2dpblZhbGlkYXRpb24oXHJcblx0XHRcdGUsXHJcblx0XHRcdHVzZXJuYW1lSW5wdXQsXHJcblx0XHRcdHBhc3N3b3JkSW5wdXQsXHJcblx0XHRcdHRyYW5zbGF0aW9ucy5tYWluLnRleHQuZXJyb3JSZXF1aXJlZCxcclxuXHRcdFx0dHJhbnNsYXRpb25zLm1haW4udGV4dC5lcnJvckludmFsaWQsXHJcblx0XHRcdFVTRVJOQU1FLFxyXG5cdFx0XHRQQVNTV09SRCxcclxuXHRcdFx0ZXJyb3JUeHRcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHRzKSB7XHJcblx0XHRcdGVycm9yVHh0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0XHRlLnRhcmdldC5hcHBlbmQoc2hvd1NtYWxsTG9hZGVyKCkpO1xyXG5cdFx0XHRlLnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRlLnRhcmdldC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGhpZGVTbWFsbExvYWRlcigpO1xyXG5cclxuXHRcdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInRyYW5zbGF0aW9uc1wiLCB0cmFuc2xhdGlvbnMsIHVzZXJEYXRhKTtcclxuXHRcdFx0XHRzZXRVc2VyUHJlZmVyZW5jZShcImxvZ2dlZEluXCIsIHRydWUsIHVzZXJEYXRhKTtcclxuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwicHJvZmlsZXMuaHRtbFwiOyAvLyBwcnplasWbY2llIG5hIHN0cm9uxJkgeiBwcm9maWxhbWlcclxuXHRcdFx0fSwgSElERV9MT0FERVJfVElNRSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiBtYWluQ29udGVudDtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUxvZ2luVmFsaWRhdGlvbiA9IChcclxuXHRlLFxyXG5cdHVzZXJuYW1lSW5wdXQsXHJcblx0cGFzc3dvcmRJbnB1dCxcclxuXHRyZXF1aXJlRXJyb3IsXHJcblx0aW52YWxpZEVycm9yLFxyXG5cdHVzZXJuYW1lLFxyXG5cdHBhc3N3b3JkLFxyXG5cdGVycm9yVHh0XHJcbikgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0aWYgKHVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpID09PSBcIlwiIHx8IHBhc3N3b3JkSW5wdXQudmFsdWUudHJpbSgpID09PSBcIlwiKSB7XHJcblx0XHRlcnJvclR4dC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRcdGVycm9yVHh0LnRleHRDb250ZW50ID0gcmVxdWlyZUVycm9yO1xyXG5cdFx0cmV0dXJuIHJlcXVpcmVFcnJvcjtcclxuXHR9IGVsc2UgaWYgKFxyXG5cdFx0dXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCkgIT09IHVzZXJuYW1lIHx8XHJcblx0XHRwYXNzd29yZElucHV0LnZhbHVlLnRyaW0oKSAhPT0gcGFzc3dvcmRcclxuXHQpIHtcclxuXHRcdGUudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdGUudGFyZ2V0LmFwcGVuZChzaG93U21hbGxMb2FkZXIoKSk7XHJcblx0XHRlcnJvclR4dC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZXJyb3JUeHQuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcblx0XHRcdGVycm9yVHh0LnRleHRDb250ZW50ID0gaW52YWxpZEVycm9yO1xyXG5cclxuXHRcdFx0ZS50YXJnZXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdGhpZGVTbWFsbExvYWRlcigpO1xyXG5cdFx0fSwgSElERV9MT0FERVJfVElNRSk7XHJcblx0XHRyZXR1cm4gaW52YWxpZEVycm9yO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd0JpZ0xvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibG9hZGluZy1hcmVhXCJdKTtcclxuXHRsb2FkaW5nQXJlYS5pbm5lckhUTUwgPSBgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImxvYWRlci1iaWdcIiB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIiB3aWR0aD1cIjEyMFwiIGhlaWdodD1cIjEyMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibG9hZGVyLWFjY2VudFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCIjNGRhOGRhXCIgc3RvcC1vcGFjaXR5PVwiMC44XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiNzAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwLjRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImxvYWRpbmctY2lyY2xlLWJpZ1wiIHI9XCIzNVwiIGN4PVwiNjBcIiBjeT1cIjYwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgIDwvc3ZnPmA7XHJcblx0cmV0dXJuIGxvYWRpbmdBcmVhO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZUJpZ0xvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy1hcmVhXCIpO1xyXG5cdGxvYWRpbmdBcmVhPy5yZW1vdmUoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaG93U21hbGxMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImxvYWRpbmctYXJlYS1zbWFsbFwiXSk7XHJcblx0bG9hZGluZ0FyZWEuaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJsb2FkZXItc21hbGxcIiB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIiB3aWR0aD1cIjEyMFwiIGhlaWdodD1cIjEyMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPVwibG9hZGVyLWFjY2VudC1zbWFsbFwiIHgxPVwiMCVcIiB5MT1cIjAlXCIgeDI9XCIxMDAlXCIgeTI9XCIwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjAuOFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjcwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjAuM1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImxvYWRpbmctY2lyY2xlLXNtYWxsXCIgcj1cIjEyXCIgY3g9XCI2MFwiIGN5PVwiNjBcIj48L2NpcmNsZT5cclxuICAgICAgICAgICAgPC9zdmc+YDtcclxuXHJcblx0cmV0dXJuIGxvYWRpbmdBcmVhO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZVNtYWxsTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkaW5nLWFyZWEtc21hbGxcIik7XHJcblx0bG9hZGluZ0FyZWEucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZmlsZXNQYWdlID0gKHtcclxuXHRwcm9maWxlczoge1xyXG5cdFx0dGV4dDogeyB0aXRsZSwgYWRkUHJvZmlsZUluZm8gfSxcclxuXHRcdGFyaWE6IHsgYWRkUHJvZmlsZUJ0biwgdXNlclByb2ZpbGVCdG4sIHVzZXJCdG5DdXN0b21pemUsIHJlbW92ZVVzZXJJbmZvIH0sXHJcblx0fSxcclxuXHRlcnJvclBvcHVwOiB7XHJcblx0XHR0ZXh0OiB7IG1heFByb2ZpbGVzLCBlbXB0eUZpZWxkIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlc0xpc3QgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzO1xyXG5cclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0Y29udGFpbmVyLmFwcGVuZChzaG93QmlnTG9hZGVyKCkpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvbnN0IHByb2ZpbGVzUGFnZU1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJtYWluLXByb2ZpbGVzXCJdKTtcclxuXHRcdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNUaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMVwiLCBbXHJcblx0XHRcdFwibWFpbl9fdGl0bGVcIixcclxuXHRcdFx0XCJtYWluLXByb2ZpbGVzX190aXRsZVwiLFxyXG5cdFx0XSk7XHJcblx0XHRjb25zdCBwcm9maWxlc0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYm94XCJdKTtcclxuXHJcblx0XHRwcm9maWxlc1RpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG5cdFx0aWYgKHVzZXJQcm9maWxlc0xpc3QgJiYgT2JqZWN0LmtleXModXNlclByb2ZpbGVzTGlzdCkubGVuZ3RoICE9PSAwKSB7XHJcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHVzZXJQcm9maWxlc0xpc3QpIHtcclxuXHRcdFx0XHRwcm9maWxlc0JveC5hcHBlbmQoXHJcblx0XHRcdFx0XHRjcmVhdGVQcm9maWxlKFxyXG5cdFx0XHRcdFx0XHR1c2VyUHJvZmlsZUJ0bixcclxuXHRcdFx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHRcdFx0ZW1wdHlGaWVsZCxcclxuXHRcdFx0XHRcdFx0cmVtb3ZlVXNlckluZm8sXHJcblx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0dXNlclByb2ZpbGVzTGlzdFtrZXldXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cHJvZmlsZXNCb3guYXBwZW5kKFxyXG5cdFx0XHRjcmVhdGVQcm9maWxlQWRkQnRuKFxyXG5cdFx0XHRcdGFkZFByb2ZpbGVCdG4sXHJcblx0XHRcdFx0YWRkUHJvZmlsZUluZm8sXHJcblx0XHRcdFx0dXNlclByb2ZpbGVCdG4sXHJcblx0XHRcdFx0cHJvZmlsZXNCb3gsXHJcblx0XHRcdFx0dXNlckJ0bkN1c3RvbWl6ZSxcclxuXHRcdFx0XHR1c2VyQnRuQ3VzdG9taXplLFxyXG5cdFx0XHRcdG1heFByb2ZpbGVzLFxyXG5cdFx0XHRcdGVtcHR5RmllbGQsXHJcblx0XHRcdFx0cmVtb3ZlVXNlckluZm9cclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHRcdHdyYXBwZXIuYXBwZW5kKHByb2ZpbGVzVGl0bGUsIHByb2ZpbGVzQm94KTtcclxuXHRcdHByb2ZpbGVzUGFnZU1haW4uYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuXHRcdGNvbnRhaW5lci5hcHBlbmQocHJvZmlsZXNQYWdlTWFpbik7XHJcblx0XHRoaWRlQmlnTG9hZGVyKCk7XHJcblx0fSwgNTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVByb2ZpbGUgPSAoXHJcblx0YXJpYUluZm8sXHJcblx0dXNlckJ0bkluZm8sXHJcblx0c2F2ZUJ0bkFyaWEsXHJcblx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdHJlbW92ZUFyaWEsXHJcblx0ZXhpc3RpbmdQcm9maWxlSWQgPSBudWxsLFxyXG5cdGV4aXN0aW5nUHJvZmlsZU5hbWUgPSBudWxsXHJcbikgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IGV4aXN0aW5nUHJvZmlsZXMgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzIHx8IHt9O1xyXG5cclxuXHRpZiAodXNlckRhdGEgPT09IG51bGwpIHtcclxuXHRcdHNob3dFcnJvclBvcHVwKFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiLCBcIiNkYzRhMzRcIik7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0fSwgSElERV9QT1BVUF9USU1FKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGxldCBjb2xvcjtcclxuXHRsZXQgcHJvZmlsZUlkO1xyXG5cdGxldCBwcm9maWxlTmFtZTtcclxuXHJcblx0Y29uc3QgY29sb3JzID0gW1wiI2RjNGEzNFwiLCBcIiMwNjJFNjNcIiwgXCIjRkFDMDQ0XCJdO1xyXG5cclxuXHRpZiAoZXhpc3RpbmdQcm9maWxlSWQpIHtcclxuXHRcdHByb2ZpbGVJZCA9IGV4aXN0aW5nUHJvZmlsZUlkO1xyXG5cdFx0cHJvZmlsZU5hbWUgPSBleGlzdGluZ1Byb2ZpbGVOYW1lLm5hbWU7XHJcblx0XHRjb25zdCBwcm9maWxlTnVtYmVyID0gcGFyc2VJbnQocHJvZmlsZUlkLnNwbGl0KFwiLVwiKS5wb3AoKSk7XHJcblx0XHRjb2xvciA9IGNvbG9yc1twcm9maWxlTnVtYmVyIC0gMV07XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmIChPYmplY3Qua2V5cyhleGlzdGluZ1Byb2ZpbGVzKS5sZW5ndGggPj0gMykgcmV0dXJuO1xyXG5cclxuXHRcdGxldCBuZXh0TnVtYmVyID0gMTtcclxuXHRcdHdoaWxlIChleGlzdGluZ1Byb2ZpbGVzW2B1c2VyLXByb2ZpbGUtJHtuZXh0TnVtYmVyfWBdKSB7XHJcblx0XHRcdG5leHROdW1iZXIrKztcclxuXHRcdH1cclxuXHJcblx0XHRwcm9maWxlSWQgPSBgdXNlci1wcm9maWxlLSR7bmV4dE51bWJlcn1gO1xyXG5cdFx0cHJvZmlsZU5hbWUgPSBgSGFuZHNvbWUgVXNlciAke25leHROdW1iZXJ9YDtcclxuXHRcdGNvbG9yID0gY29sb3JzW25leHROdW1iZXIgLSAxXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVzZXJQcm9maWxlID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19wcm9maWxlXCJdKTtcclxuXHRjb25zdCB1c2VyQXZhdGFyQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hdmF0YXJcIl0pO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJtYWluLXByb2ZpbGVzX19idG5cIl0sIHtcclxuXHRcdFwiYXJpYS1sYWJlbFwiOiBhcmlhSW5mbyxcclxuXHRcdFwiZGF0YS1pZFwiOiBwcm9maWxlSWQsXHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IHVzZXJQcm9maWxlSW5mb0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fdXNlci1pbmZvXCJdKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZUluZm8gPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgW1wibWFpbi1wcm9maWxlc19fbmFtZVwiXSwge1xyXG5cdFx0dHlwZTogXCJ0ZXh0XCIsXHJcblx0XHRyZWFkb25seTogdHJ1ZSxcclxuXHRcdHZhbHVlOiBwcm9maWxlTmFtZSxcclxuXHR9KTtcclxuXHRjb25zdCBuYW1lQm9yZGVyID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibmFtZS1ib3JkZXJcIl0pO1xyXG5cdGNvbnN0IGVkaXRVc2VySW5mb0J0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogdXNlckJ0bkluZm8gfVxyXG5cdCk7XHJcblx0Y29uc3QgcmVtb3ZlVXNlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fcmVtb3ZlLXVzZXJcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiByZW1vdmVBcmlhIH1cclxuXHQpO1xyXG5cdGNvbnN0IHJlbW92ZVVzZXJJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19yZW1vdmUtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvcmVtb3ZlLXByb2ZpbGUtaWNvbi5zdmdcIixcclxuXHR9KTtcclxuXHRjb25zdCBlZGl0VXNlckluZm9JY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19lZGl0LWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2VkaXQuc3ZnXCIsXHJcblx0fSk7XHJcblxyXG5cdHVzZXJQcm9maWxlQnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwibWFpbi1wcm9maWxlc19faW1nXCIgd2lkdGg9XCIxNTBcIiBoZWlnaHQ9XCIxNTBcIiB2aWV3Qm94PVwiMCAwIDIwMCAyMDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICA8Y2lyY2xlIGN4PVwiNzBcIiBjeT1cIjcwXCIgcj1cIjhcIiBmaWxsPVwid2hpdGVcIiAvPlxyXG4gICAgPGNpcmNsZSBjeD1cIjEzMFwiIGN5PVwiNzBcIiByPVwiOFwiIGZpbGw9XCJ3aGl0ZVwiIC8+XHJcbiAgICA8cGF0aCBkPVwiTTYwIDExMCBRMTAwIDE1MCAxNDAgMTEwXCIgc3Ryb2tlPVwid2hpdGVcIiBzdHJva2Utd2lkdGg9XCI2XCJcclxuICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiAvPlxyXG4gICAgPC9zdmc+YDtcclxuXHR1c2VyUHJvZmlsZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuXHJcblx0dXNlckF2YXRhckJveC5hcHBlbmQodXNlclByb2ZpbGVCdG4pO1xyXG5cdGVkaXRVc2VySW5mb0J0bi5hcHBlbmQoZWRpdFVzZXJJbmZvSWNvbik7XHJcblx0cmVtb3ZlVXNlckJ0bi5hcHBlbmQocmVtb3ZlVXNlckljb24pO1xyXG5cdHVzZXJQcm9maWxlSW5mb0JveC5hcHBlbmQoXHJcblx0XHR1c2VyUHJvZmlsZUluZm8sXHJcblx0XHRuYW1lQm9yZGVyLFxyXG5cdFx0ZWRpdFVzZXJJbmZvQnRuLFxyXG5cdFx0cmVtb3ZlVXNlckJ0blxyXG5cdCk7XHJcblx0dXNlclByb2ZpbGUuYXBwZW5kKHVzZXJBdmF0YXJCb3gsIHVzZXJQcm9maWxlSW5mb0JveCk7XHJcblxyXG5cdGlmICghZXhpc3RpbmdQcm9maWxlSWQpIHtcclxuXHRcdGNvbnN0IHVwZGF0ZWRQcm9maWxlcyA9IHtcclxuXHRcdFx0Li4uZXhpc3RpbmdQcm9maWxlcyxcclxuXHRcdFx0W3Byb2ZpbGVJZF06IHtcclxuXHRcdFx0XHRuYW1lOiBwcm9maWxlTmFtZSxcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblx0XHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1cGRhdGVkUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHR9XHJcblxyXG5cdGVkaXRVc2VySW5mb0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGVkaXRVc2VybmFtZShlLCB1c2VyUHJvZmlsZUluZm9Cb3gsIHNhdmVCdG5BcmlhLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdH0pO1xyXG5cdHJlbW92ZVVzZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRyZW1vdmVVc2VyKGUpO1xyXG5cdH0pO1xyXG5cclxuXHR1c2VyUHJvZmlsZUluZm8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuXHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcblx0XHRcdHNhdmVVc2VybmFtZShlLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHVzZXJQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gc2V0Q3VycmVudFByb2ZpbGUoZSkpO1xyXG5cclxuXHR1c2VyUHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRyZXR1cm4gdXNlclByb2ZpbGU7XHJcbn07XHJcbi8vIHd5YsOzciBwcm9maWx1XHJcbmNvbnN0IHNldEN1cnJlbnRQcm9maWxlID0gKGUpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBwcm9maWxlRGF0YSA9IGUudGFyZ2V0LmRhdGFzZXQuaWQ7XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwiY3VycmVudFByb2ZpbGVcIiwgcHJvZmlsZURhdGEsIHVzZXJEYXRhKTtcclxuXHJcblx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImJyb3dzZS5odG1sXCI7XHJcbn07XHJcbi8vIGtvbmllYyB3eWJvcnUgcHJvZmlsdVxyXG5cclxuY29uc3QgY3JlYXRlUHJvZmlsZUFkZEJ0biA9IChcclxuXHRhcmlhSW5mbyxcclxuXHRpbmZvLFxyXG5cdHVzZXJCdG5BcmlhLFxyXG5cdHByb2ZpbGVzQm94LFxyXG5cdHVzZXJCdG5JbmZvLFxyXG5cdHNhdmVCdG5BcmlhLFxyXG5cdG1heFByb2ZpbGVzRXJyb3IsXHJcblx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdHJlbW92ZUFyaWFcclxuKSA9PiB7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYWRkLXByb2ZpbGVcIl0pO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVBdmF0YXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2F2YXRhclwiXSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fYnRuXCIsIFwibWFpbi1wcm9maWxlc19fYnRuLS1hZGQtcHJvZmlsZVwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IGFyaWFJbmZvIH1cclxuXHQpO1xyXG5cdGNvbnN0IGFkZFByb2ZpbGVQbHVzSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fYWRkLWltZ1wiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUluZm8gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluLXByb2ZpbGVzX19uYW1lXCJdKTtcclxuXHJcblx0YWRkUHJvZmlsZUluZm8udGV4dENvbnRlbnQgPSBpbmZvO1xyXG5cclxuXHRhZGRQcm9maWxlQnRuLmFwcGVuZChhZGRQcm9maWxlUGx1c0ljb24pO1xyXG5cdGFkZFByb2ZpbGVBdmF0YXIuYXBwZW5kKGFkZFByb2ZpbGVCdG4pO1xyXG5cdGFkZFByb2ZpbGVCb3guYXBwZW5kKGFkZFByb2ZpbGVBdmF0YXIsIGFkZFByb2ZpbGVJbmZvKTtcclxuXHJcblx0YWRkUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCB7fTtcclxuXHJcblx0XHRpZiAoT2JqZWN0LmtleXMoZXhpc3RpbmdQcm9maWxlcykubGVuZ3RoID49IDMpIHtcclxuXHRcdFx0c2hvd0Vycm9yUG9wdXAobWF4UHJvZmlsZXNFcnJvciwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcHJvZmlsZSA9IGNyZWF0ZVByb2ZpbGUoXHJcblx0XHRcdHVzZXJCdG5BcmlhLFxyXG5cdFx0XHR1c2VyQnRuSW5mbyxcclxuXHRcdFx0c2F2ZUJ0bkFyaWEsXHJcblx0XHRcdGVtcHR5RmllbGRFcnJvcixcclxuXHRcdFx0cmVtb3ZlQXJpYVxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAocHJvZmlsZSkge1xyXG5cdFx0XHRwcm9maWxlc0JveC5pbnNlcnRCZWZvcmUocHJvZmlsZSwgYWRkUHJvZmlsZUJveCk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiBhZGRQcm9maWxlQm94O1xyXG59O1xyXG5cclxuY29uc3QgZWRpdFVzZXJuYW1lID0gKGUsIHBhcmVudCwgc2F2ZUJ0bkFyaWEsIGVtcHR5RmllbGRFcnJvcikgPT4ge1xyXG5cdHJlc2V0U3RhdGVPZkVkaXRpbmcoZSk7XHJcblxyXG5cdGNvbnN0IGVkaXRCdG4gPSBlLnRhcmdldDtcclxuXHRjb25zdCBuYW1lVG9FZGl0ID0gZWRpdEJ0blxyXG5cdFx0LmNsb3Nlc3QoXCIubWFpbi1wcm9maWxlc19fcHJvZmlsZVwiKVxyXG5cdFx0LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fbmFtZVwiKTtcclxuXHJcblx0Y29uc3Qgc2F2ZUJ0biA9IGNyZWF0ZVNhdmVCdG4oc2F2ZUJ0bkFyaWEpO1xyXG5cclxuXHRlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c2F2ZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRwYXJlbnQuYXBwZW5kKHNhdmVCdG4pO1xyXG5cclxuXHRuYW1lVG9FZGl0LmZvY3VzKCk7XHJcblx0bmFtZVRvRWRpdC5zZWxlY3QoKTtcclxuXHRuYW1lVG9FZGl0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xyXG5cdG5hbWVUb0VkaXQuY2xhc3NMaXN0LmFkZChcImZvY3VzZWRcIik7XHJcblxyXG5cdHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRzYXZlVXNlcm5hbWUoZSwgZW1wdHlGaWVsZEVycm9yKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHNhdmVVc2VybmFtZSA9IChlLCBlbXB0eUZpZWxkRXJyb3IpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCBleGlzdGluZ1Byb2ZpbGVzID0gdXNlckRhdGE/LnVzZXJQcm9maWxlcyB8fCBbXTtcclxuXHJcblx0Y29uc3Qgc2F2ZUJ0biA9IGUudGFyZ2V0O1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlID0gc2F2ZUJ0bi5jbG9zZXN0KFwiLm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIik7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGVJZCA9IGNsb3Nlc3RQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fYnRuXCIpXHJcblx0XHQuZGF0YXNldC5pZDtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZU5hbWUgPSBjbG9zZXN0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XCIubWFpbi1wcm9maWxlc19fbmFtZVwiXHJcblx0KTtcclxuXHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG5cclxuXHRpZiAoY2xvc2VzdFByb2ZpbGVOYW1lLnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG5cdFx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSkpO1xyXG5cdFx0cmV0dXJuIHNob3dFcnJvclBvcHVwKGVtcHR5RmllbGRFcnJvciwgXCIjRkFDMDQ0XCIpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgdXBkYXRlZFByb2ZpbGVzID0ge1xyXG5cdFx0Li4uZXhpc3RpbmdQcm9maWxlcyxcclxuXHRcdFtjbG9zZXN0UHJvZmlsZUlkXToge1xyXG5cdFx0XHQuLi5leGlzdGluZ1Byb2ZpbGVzW2Nsb3Nlc3RQcm9maWxlSWRdLFxyXG5cdFx0XHRuYW1lOiBjbG9zZXN0UHJvZmlsZU5hbWUudmFsdWUsXHJcblx0XHR9LFxyXG5cdH07XHJcblxyXG5cdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVwZGF0ZWRQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cclxuXHRyZXNldFN0YXRlT2ZFZGl0aW5nKGUpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlU2F2ZUJ0biA9IChzYXZlQnRuQXJpYSkgPT4ge1xyXG5cdGNvbnN0IHNhdmVVc2VySW5mb0J0biA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImJ1dHRvblwiLFxyXG5cdFx0W1wibWFpbi1wcm9maWxlc19fc2F2ZS1uYW1lXCIsIFwiaGlkZGVuXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogc2F2ZUJ0bkFyaWEgfVxyXG5cdCk7XHJcblx0Y29uc3Qgc2F2ZVVzZXJJbmZvSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wibWFpbi1wcm9maWxlc19fc2F2ZS1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9zYXZlLnN2Z1wiLFxyXG5cdH0pO1xyXG5cclxuXHRzYXZlVXNlckluZm9CdG4uYXBwZW5kKHNhdmVVc2VySW5mb0ljb24pO1xyXG5cclxuXHRyZXR1cm4gc2F2ZVVzZXJJbmZvQnRuO1xyXG59O1xyXG5cclxuY29uc3QgcmVzZXRTdGF0ZU9mRWRpdGluZyA9IChlKSA9PiB7XHJcblx0Y29uc3QgZm9jdXNlZE5hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb2N1c2VkXCIpO1xyXG5cdGNvbnN0IGFsbFNhdmVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19zYXZlLW5hbWVcIik7XHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0Zm9jdXNlZE5hbWVzLmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLCB0cnVlKTtcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c2VkXCIpO1xyXG5cdFx0ZWwuYmx1cigpO1xyXG5cdH0pO1xyXG5cdGFsbFNhdmVCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIikpO1xyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIikpO1xyXG59O1xyXG5cclxubGV0IHBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG5leHBvcnQgY29uc3Qgc2hvd0Vycm9yUG9wdXAgPSAodGV4dCwgY29sb3IpID0+IHtcclxuXHRpZiAocG9wdXBWaXNpYmxlKSByZXR1cm47XHJcblx0cG9wdXBWaXNpYmxlID0gdHJ1ZTtcclxuXHJcblx0Y29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcclxuXHJcblx0Y29uc3QgcG9wdXAgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImVycm9yLXBvcHVwXCJdKTtcclxuXHRjb25zdCBwb3B1cEVycm9yID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiZXJyb3ItcG9wdXBfX3RleHRcIl0pO1xyXG5cclxuXHRwb3B1cEVycm9yLnRleHRDb250ZW50ID0gdGV4dDtcclxuXHRyb290LnN0eWxlLnNldFByb3BlcnR5KFwiLS1lcnJvclR4dENvbG9yXCIsIGNvbG9yKTtcclxuXHJcblx0cG9wdXAuYXBwZW5kKHBvcHVwRXJyb3IpO1xyXG5cdGNvbnRhaW5lci5hcHBlbmQocG9wdXApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0fSwgMjAwMCk7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRwb3B1cC5yZW1vdmUoKTtcclxuXHRcdHBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG5cdH0sIEhJREVfUE9QVVBfVElNRSk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVVc2VyID0gKGUpID0+IHtcclxuXHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRjb25zdCB1c2VyUHJvZmlsZXMgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzO1xyXG5cdGNvbnN0IGFsbEVkaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIik7XHJcblxyXG5cdGNvbnN0IGRlbGV0ZUJ0biA9IGUudGFyZ2V0O1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlID0gZGVsZXRlQnRuLmNsb3Nlc3QoXCIubWFpbi1wcm9maWxlc19fcHJvZmlsZVwiKTtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZUJ0biA9IGNsb3Nlc3RQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1wcm9maWxlc19fYnRuXCIpO1xyXG5cdGFsbEVkaXRCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcclxuXHJcblx0ZGVsZXRlIHVzZXJQcm9maWxlc1tjbG9zZXN0UHJvZmlsZUJ0bi5kYXRhc2V0LmlkXTtcclxuXHJcblx0c2V0VXNlclByZWZlcmVuY2UoXCJ1c2VyUHJvZmlsZXNcIiwgdXNlclByb2ZpbGVzLCB1c2VyRGF0YSk7XHJcblxyXG5cdGNsb3Nlc3RQcm9maWxlLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Y2xvc2VzdFByb2ZpbGUucmVtb3ZlKCk7XHJcblx0fSwgNDAwKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVCcm93c2VQYWdlID0gKHtcclxuXHRoZWFkZXI6IHtcclxuXHRcdGFsdDogeyBsb2dvIH0sXHJcblx0XHRhcmlhOiB7IGxvZ29MaW5rIH0sXHJcblx0fSxcclxuXHRicm93c2VQYWdlOiB7XHJcblx0XHRuYW1lczogeyBmaWxtTGluaywgc2VyaWVzTGluaywgbXlMaXN0TGluaywgc2VhcmNoTGluayB9LFxyXG5cdFx0YXJpYTogeyB1c2VyQnV0dG9uIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIndyYXBwZXJcIl0pO1xyXG5cdGNvbnN0IGhlYWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJoZWFkZXJcIiwgW1wiYnJvd3NlLWhlYWRlclwiXSk7XHJcblx0Y29uc3QgbG9nb01haW5MaW5rID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbG9nb1wiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGxvZ29MaW5rLFxyXG5cdFx0aHJlZjogXCJcIixcclxuXHR9KTtcclxuXHRjb25zdCBsb2dvTWFpbkltZyA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbG9nby1pbWdcIl0sIHtcclxuXHRcdGFsdDogbG9nbyxcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9sb2dvLnN2Z1wiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IG1haW5UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xvZ28tdGV4dFwiXSk7XHJcblxyXG5cdG1haW5UaXRsZS50ZXh0Q29udGVudCA9IFwiU3RyZWFtXCI7XHJcblxyXG5cdGxvZ29NYWluTGluay5hcHBlbmQobG9nb01haW5JbWcsIG1haW5UaXRsZSk7XHJcblx0aGVhZGVyLmFwcGVuZChcclxuXHRcdGxvZ29NYWluTGluayxcclxuXHRcdGNyZWF0ZUJyb3dzZXJOYXYoZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmspLFxyXG5cdFx0Y3JlYXRlVXNlckJ0bih1c2VyQnV0dG9uKVxyXG5cdCk7XHJcblxyXG5cdHJldHVybiBoZWFkZXI7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVCcm93c2VyTmF2ID0gKGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rKSA9PiB7XHJcblx0Y29uc3QgbmF2ID0gY3JlYXRlRWxlbWVudChcIm5hdlwiLCBbXCJicm93c2UtaGVhZGVyX19uYXZcIl0pO1xyXG5cdGNvbnN0IG5hdkxpbmtzID0gY3JlYXRlRWxlbWVudChcInVsXCIsIFtcImJyb3dzZS1oZWFkZXJfX2xpbmtzXCJdKTtcclxuXHJcblx0Y29uc3QgbGlua05hbWVzID0gW1xyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBmaWxtTGluayxcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2ZpbG0taWNvbi5zdmdcIixcclxuXHRcdH0sXHJcblx0XHR7IG5hbWU6IHNlcmllc0xpbmssIHNyYzogXCIuL3NyYy9pY29ucy9zZXJpZXMtaWNvbi5zdmdcIiB9LFxyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBteUxpc3RMaW5rLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvbGlzdC1pY29uLnN2Z1wiLFxyXG5cdFx0fSxcclxuXHRcdHsgbmFtZTogc2VhcmNoTGluaywgc3JjOiBcIi4vc3JjL2ljb25zL3NlYXJjaC1pY29uLnN2Z1wiIH0sXHJcblx0XTtcclxuXHJcblx0bGlua05hbWVzLmZvckVhY2goKGxpbmspID0+IHtcclxuXHRcdGNvbnN0IGxpc3RJdGVtID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcImJyb3dzZS1oZWFkZXJfX2l0ZW1cIl0pO1xyXG5cdFx0Y29uc3QgbGlua0VsID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGlua1wiXSwgeyBocmVmOiBcIlwiIH0pO1xyXG5cdFx0Y29uc3QgaWNvbiA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGluay1pY29uXCJdLCB7XHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0c3JjOiBsaW5rLnNyYyxcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCB0ZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGluay10ZXh0XCJdKTtcclxuXHJcblx0XHR0ZXh0LnRleHRDb250ZW50ID0gbGluay5uYW1lO1xyXG5cclxuXHRcdGxpbmtFbC5hcHBlbmQoaWNvbiwgdGV4dCk7XHJcblx0XHRsaXN0SXRlbS5hcHBlbmQobGlua0VsKTtcclxuXHJcblx0XHRuYXZMaW5rcy5hcHBlbmQobGlzdEl0ZW0pO1xyXG5cdH0pO1xyXG5cclxuXHRuYXYuYXBwZW5kKG5hdkxpbmtzKTtcclxuXHJcblx0cmV0dXJuIG5hdjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVzZXJCdG4gPSAodXNlckJ0bkFyaWEpID0+IHtcclxuXHRjb25zdCB1c2VyQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWJveFwiXSk7XHJcblx0Y29uc3QgdXNlckJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wiYnJvd3NlLWhlYWRlcl9fdXNlclwiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IHVzZXJCdG5BcmlhLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHVzZXJJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX191c2VyLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3VzZXItaWNvbi5zdmdcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHR9KTtcclxuXHJcblx0dXNlckJ0bi5hcHBlbmQodXNlckljb24pO1xyXG5cdHVzZXJCb3guYXBwZW5kKHVzZXJCdG4pO1xyXG5cclxuXHRyZXR1cm4gdXNlckJveDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNYWluSGVyb1NlY3Rpb24gPSAobW92aWVzLCB0cmFuc2xhdGlvbnMsIHBhcmVudCkgPT4ge1xyXG5cdGNvbnN0IGJyb3dzZU1haW4gPSBjcmVhdGVFbGVtZW50KFwibWFpblwiLCBbXCJicm93c2UtbWFpblwiXSk7XHJcblx0Y29uc3QgYnJvd3NlTWFpblNlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19oZXJvLXNlY3Rpb25cIixcclxuXHRdKTtcclxuXHRjb25zdCBpbWFnZXNDYXJvdXNlbGwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2ltYWdlLWNhcm91c2VsbFwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGltYWdlc0luc2lkZVNsaWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX2ltYWdlc1wiXSk7XHJcblx0bW92aWVzLmZvckVhY2goKHsgaWQsIHRpdGxlLCBvdmVydmlldyA9IFwiXCIsIGJhY2tkcm9wX3BhdGggfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gYmFja2Ryb3BfcGF0aDtcclxuXHRcdGNvbnN0IGltYWdlQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9faW1nLWJveFwiXSk7XHJcblx0XHRjb25zdCBpbWFnZSA9IGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgW1wiYnJvd3NlLW1haW5fX2ltZ1wiXSwge1xyXG5cdFx0XHRhbHQ6IGAke3RyYW5zbGF0aW9ucz8uYnJvd3NlUGFnZT8uY2Fyb3VzZWxsSW1hZ2VzPy5hcmlhLmNhcm91c2VsbEltYWdlQWx0fSAke3RpdGxlfWAsXHJcblx0XHRcdHNyYzogaW1nU3JjXHJcblx0XHRcdFx0PyBnZXRJbWFnZVVybChpbWdTcmMsIFwib3JpZ2luYWxcIilcclxuXHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHRleHRCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX190ZXh0LWJveFwiXSk7XHJcblx0XHRjb25zdCBmaWxtVGl0bGUgPSBjcmVhdGVFbGVtZW50KFwiaDJcIiwgW1wiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC10aXRsZVwiXSk7XHJcblx0XHRjb25zdCBmaWxtSW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJwXCIsIFtcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtb3ZlcnZpZXdcIl0pO1xyXG5cclxuXHRcdGZpbG1UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cdFx0ZmlsbUluZm8udGV4dENvbnRlbnQgPSBvdmVydmlldztcclxuXHJcblx0XHR0ZXh0Qm94LmFwcGVuZChmaWxtVGl0bGUsIGZpbG1JbmZvLCBjcmVhdGVBY3Rpb25CdXR0b25zKGlkLCB0cmFuc2xhdGlvbnMpKTtcclxuXHRcdGltYWdlQm94LmFwcGVuZChpbWFnZSwgdGV4dEJveCk7XHJcblx0XHRpbWFnZXNJbnNpZGVTbGlkZXIuYXBwZW5kKGltYWdlQm94KTtcclxuXHRcdGltYWdlc0Nhcm91c2VsbC5hcHBlbmQoaW1hZ2VzSW5zaWRlU2xpZGVyKTtcclxuXHJcblx0XHRicm93c2VNYWluU2VjdGlvbi5hcHBlbmQoaW1hZ2VzQ2Fyb3VzZWxsKTtcclxuXHRcdGJyb3dzZU1haW4uYXBwZW5kKGJyb3dzZU1haW5TZWN0aW9uKTtcclxuXHJcblx0XHRwYXJlbnQuYXBwZW5kKGJyb3dzZU1haW4pO1xyXG5cdH0pO1xyXG5cclxuXHRpbWFnZXNDYXJvdXNlbGwuYXBwZW5kKGNyZWF0ZUNhcm91c2VsbENvbnRyb2xzKG1vdmllcywgdHJhbnNsYXRpb25zKSk7XHJcbn07XHJcbmNvbnN0IGNyZWF0ZUFjdGlvbkJ1dHRvbnMgPSAoXHJcblx0aWQsXHJcblx0e1xyXG5cdFx0YnJvd3NlUGFnZToge1xyXG5cdFx0XHRhY3Rpb25CdG5zOiB7IHRyYWlsZXJCdG5UZXh0LCBtb3JlSW5mb0J0blRleHQgfSxcclxuXHRcdH0sXHJcblx0fVxyXG4pID0+IHtcclxuXHRjb25zdCBhY3Rpb25CdG5zUGFuZWwgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19hY3Rpb24tYnRuc1wiXSk7XHJcblx0Y29uc3Qgc2hvd1RyYWlsZXJCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1tYWluX190cmFpbGVyLWJ0blwiXSwge1xyXG5cdFx0XCJkYXRhLXRyYWlsZXJcIjogaWQsXHJcblx0fSk7XHJcblx0Y29uc3Qgc2hvd1RyYWlsZXJUZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLW1haW5fX3NlZS10cmFpbGVyXCJdKTtcclxuXHRjb25zdCBzZWVNb3JlQnRuID0gY3JlYXRlRWxlbWVudChcImFcIiwgW1wiYnJvd3NlLW1haW5fX3NlZS1tb3JlLWJ0blwiXSwge1xyXG5cdFx0XCJkYXRhLW1vdmllXCI6IGlkLFxyXG5cdFx0aHJlZjogXCJcIixcclxuXHR9KTtcclxuXHJcblx0c2hvd1RyYWlsZXJUZXh0LnRleHRDb250ZW50ID0gdHJhaWxlckJ0blRleHQ7XHJcblx0c2VlTW9yZUJ0bi50ZXh0Q29udGVudCA9IG1vcmVJbmZvQnRuVGV4dDtcclxuXHJcblx0c2hvd1RyYWlsZXJCdG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJicm93c2UtbWFpbl9fdHJhaWxlci1wbGF5LWljb25cIlxyXG5cdHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIlxyXG5cdHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiIzAwMFwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIyXCJcclxuXHRzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxyXG5cdGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXBsYXlcIj5cclxuXHQ8cG9seWdvbiBwb2ludHM9XCI1IDMgMTkgMTIgNSAyMSA1IDNcIj48L3BvbHlnb24+XHJcblx0PC9zdmc+YDtcclxuXHJcblx0c2hvd1RyYWlsZXJCdG4uYXBwZW5kKHNob3dUcmFpbGVyVGV4dCk7XHJcblxyXG5cdGFjdGlvbkJ0bnNQYW5lbC5hcHBlbmQoc2hvd1RyYWlsZXJCdG4sIHNlZU1vcmVCdG4pO1xyXG5cclxuXHRyZXR1cm4gYWN0aW9uQnRuc1BhbmVsO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQ2Fyb3VzZWxsQ29udHJvbHMgPSAoXHJcblx0bW92aWVzLFxyXG5cdHtcclxuXHRcdGJyb3dzZVBhZ2U6IHtcclxuXHRcdFx0Y2Fyb3VzZWxsQnRuczogeyBhcmlhIH0sXHJcblx0XHR9LFxyXG5cdH1cclxuKSA9PiB7XHJcblx0Y29uc3QgY2Fyb3VzZWxsQ29udHJvbHMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC1jb250cm9sc1wiLFxyXG5cdF0pO1xyXG5cclxuXHRtb3ZpZXMuZm9yRWFjaCgobW92aWUsIGluZGV4KSA9PiB7XHJcblx0XHRjb25zdCBjYXJvdXNlbGxCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcImJyb3dzZS1tYWluX19idG5cIl0sIHtcclxuXHRcdFx0XCJkYXRhLWltZ1wiOiBpbmRleCxcclxuXHRcdFx0XCJhcmlhLWxhYmVsXCI6IGAke2FyaWF9ICR7aW5kZXh9YCxcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXHJcblx0XHRcdFwiYnJvd3NlLW1haW5fX3Byb2dyZXNzLWJhclwiLFxyXG5cdFx0XSk7XHJcblxyXG5cdFx0Y2Fyb3VzZWxsQnRuLmFwcGVuZChjYXJvdXNlbGxCdG5Qcm9ncmVzc0Jhcik7XHJcblxyXG5cdFx0Y2Fyb3VzZWxsQ29udHJvbHMuYXBwZW5kKGNhcm91c2VsbEJ0bik7XHJcblx0fSk7XHJcblx0cmV0dXJuIGNhcm91c2VsbENvbnRyb2xzO1xyXG59O1xyXG4iXX0=
