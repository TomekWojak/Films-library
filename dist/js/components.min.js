import{createElement,getImageUrl}from"./helpers.min.js";import{setUserPreference}from"./updateStateFunctions.min.js";const HIDE_LOADER_TIME=3e3,HIDE_POPUP_TIME=2500;export const getData=()=>{try{const e=localStorage.getItem("userData");if(!e)return null;const t=JSON.parse(e);if("object"!=typeof t||null===t)throw showErrorPopup("An unexpected error occurred","#dc4a34"),new Error("NieprawidÅ‚owa struktura danych");return t}catch{return localStorage.removeItem("userData"),{}}};const USERNAME="handsomeUser404",PASSWORD="123456789";export const createLoginHeader=({header:{alt:{logo:e},aria:{logoLink:t,changeLanguageButton:r}}},a,n,o,i)=>{const s=createElement("header",["header"]),l=createElement("a",["header__logo","login-header__logo"],{href:"/","aria-label":`${t}`}),c=createElement("img",["header__logo-img","login-header__logo-img"],{src:"./src/icons/logo.svg",alt:`${e}`,width:"24",height:"24"}),d=createElement("span",["header__logo-text","login-header__logo-text"]);d.textContent="Stream",l.append(c,d),s.append(l);const m=createElement("button",["login-header__lang-select"],{"aria-label":`${r}`}),p=createElement("span",["login-header__lang-platform-lang"]),_=createElement("img",["login-header__lang-arrow"],{src:"./src/icons/chevron-down.svg",alt:"",width:"24",height:"24"}),g=createElement("ul",["login-header__lang-list"]);for(let e=0;e<a;e++){const t=createElement("li",["login-header__lang-choice"],{tabindex:0}),r=Object.keys(n)[e],a=Object.values(n)[e];t.dataset.lang=r,t.textContent=a,t.style.animationDelay=100*e+"ms",g.append(t)}return p.textContent=n[o],m.addEventListener("click",e=>{i.call(m,e,p)}),m.append(p,_,g),s.append(m),s};export const createLoginPage=({main:{text:{title:e,subtitle:t,description:r,button:a},placeholder:{username:n,password:o}}})=>{const i=createElement("main",["main"]),s=createElement("div",["wrapper"]),l=createElement("h1"),c=createElement("span",["main__title"]),d=createElement("span",["main__subtitle"]),m=createElement("p",["main__text"]),p=createElement("form",["main__form"]),_=createElement("input",["main__form-input","main__form-input--username"],{type:"text",placeholder:n}),g=createElement("input",["main__form-input","main__form-input--password"],{type:"password",placeholder:o}),u=createElement("button",["main__form-button"],{type:"submit"}),h=createElement("span",["main__form-button-text"]),f=createElement("p",["main__form-error-txt"]);return c.textContent=e,d.textContent=t,m.textContent=r,h.textContent=a,l.append(c,d),u.append(h),p.append(_,g,u,f),s.append(l,m,p),i.append(s),u.addEventListener("click",e=>{const t=getData(),r=t?.preferredLanguage;r||setUserPreference("preferredLanguage","pl",t);handleLoginValidation(e,_,g,translations.main.text.errorRequired,translations.main.text.errorInvalid,USERNAME,PASSWORD,f)||(f.classList.remove("visible"),e.target.append(showSmallLoader()),e.target.disabled=!0,setTimeout(()=>{e.target.disabled=!1,hideSmallLoader(),setUserPreference("translations",translations,t),setUserPreference("loggedIn",!0,t),window.location.href="profiles.html"},3e3))}),i};const handleLoginValidation=(e,t,r,a,n,o,i,s)=>(e.preventDefault(),""===t.value.trim()||""===r.value.trim()?(s.classList.add("visible"),s.textContent=a,a):t.value.trim()!==o||r.value.trim()!==i?(e.target.disabled=!0,e.target.append(showSmallLoader()),s.classList.remove("visible"),setTimeout(()=>{s.classList.add("visible"),s.textContent=n,e.target.disabled=!1,hideSmallLoader()},3e3),n):null);export const showBigLoader=()=>{const e=createElement("div",["loading-area"]);return e.innerHTML='            <svg class="loader-big" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="#4da8da" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="#4da8da" stop-opacity="0.4" />\n                        <stop offset="100%" stop-color="#4da8da" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-big" r="35" cx="60" cy="60"></circle>\n            </svg>',e};export const hideBigLoader=()=>{const e=document.querySelector(".loading-area");e?.remove()};export const showSmallLoader=()=>{const e=createElement("div",["loading-area-small"]);return e.innerHTML='<svg class="loader-small" viewBox="0 0 120 120" width="120" height="120">\n                <defs>\n                    <linearGradient id="loader-accent-small" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" stop-color="white" stop-opacity="0.8" />\n                        <stop offset="70%" stop-color="white" stop-opacity="0.3" />\n                        <stop offset="100%" stop-color="white" stop-opacity="0" />\n                    </linearGradient>\n                </defs>\n                <circle class="loading-circle-small" r="12" cx="60" cy="60"></circle>\n            </svg>',e};export const hideSmallLoader=()=>{document.querySelector(".loading-area-small").remove()};export const createProfilesPage=({profiles:{text:{title:e,addProfileInfo:t},aria:{addProfileBtn:r,userProfileBtn:a,userBtnCustomize:n,removeUserInfo:o}},errorPopup:{text:{maxProfiles:i,emptyField:s}}})=>{const l=getData(),c=l?.userProfiles,d=document.querySelector(".container");d.append(showBigLoader()),setTimeout(()=>{const l=createElement("main",["main-profiles"]),m=createElement("div",["wrapper"]),p=createElement("h1",["main__title","main-profiles__title"]),_=createElement("div",["main-profiles__box"]);if(p.textContent=e,c&&0!==Object.keys(c).length)for(const e in c)_.append(createProfile(a,n,n,s,o,e,c[e]));_.append(createProfileAddBtn(r,t,a,_,n,n,i,s,o)),m.append(p,_),l.append(m),d.append(l),hideBigLoader()},500)};const createProfile=(e,t,r,a,n,o=null,i=null)=>{const s=getData(),l=s?.userProfiles||{};if(null===s)return showErrorPopup("An unexpected error occurred","#dc4a34"),void setTimeout(()=>{window.location.reload()},2500);let c,d,m;const p=["#dc4a34","#062E63","#FAC044"];if(o){d=o,m=i.name;c=p[parseInt(d.split("-").pop())-1]}else{if(Object.keys(l).length>=3)return;let e=1;for(;l[`user-profile-${e}`];)e++;d=`user-profile-${e}`,m=`Handsome User ${e}`,c=p[e-1]}const _=createElement("div",["main-profiles__profile"]),g=createElement("div",["main-profiles__avatar"]),u=createElement("button",["main-profiles__btn"],{"aria-label":e,"data-id":d}),h=createElement("div",["main-profiles__user-info"]),f=createElement("input",["main-profiles__name"],{type:"text",readonly:!0,value:m}),b=createElement("span",["name-border"]),w=createElement("button",["main-profiles__edit-name"],{"aria-label":t}),E=createElement("button",["main-profiles__remove-user"],{"aria-label":n}),v=createElement("img",["main-profiles__remove-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/remove-profile-icon.svg"}),x=createElement("img",["main-profiles__edit-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/edit.svg"});if(u.innerHTML='<svg class="main-profiles__img" width="150" height="150" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="70" cy="70" r="8" fill="white" />\n    <circle cx="130" cy="70" r="8" fill="white" />\n    <path d="M60 110 Q100 150 140 110" stroke="white" stroke-width="6"\n    fill="transparent" stroke-linecap="round" />\n    </svg>',u.style.backgroundColor=c,g.append(u),w.append(x),E.append(v),h.append(f,b,w,E),_.append(g,h),!o){const e={...l,[d]:{name:m}};setUserPreference("userProfiles",e,s)}return w.addEventListener("click",e=>{editUsername(e,h,r,a)}),E.addEventListener("click",e=>{removeUser(e)}),f.addEventListener("keydown",e=>{"Enter"===e.key&&saveUsername(e,a)}),u.addEventListener("click",e=>setCurrentProfile(e)),_.classList.add("visible"),_},setCurrentProfile=e=>{const t=getData(),r=e.target.dataset.id;setUserPreference("currentProfile",r,t),window.location.href="browse.html"},createProfileAddBtn=(e,t,r,a,n,o,i,s,l)=>{const c=createElement("div",["main-profiles__add-profile"]),d=createElement("div",["main-profiles__avatar"]),m=createElement("button",["main-profiles__btn","main-profiles__btn--add-profile"],{"aria-label":e}),p=createElement("img",["main-profiles__add-img"],{src:"./src/icons/add-profile.svg",loading:"lazy",alt:""}),_=createElement("span",["main-profiles__name"]);return _.textContent=t,m.append(p),d.append(m),c.append(d,_),m.addEventListener("click",()=>{const e=getData(),t=e?.userProfiles||{};if(Object.keys(t).length>=3)return void showErrorPopup(i,"#dc4a34");const d=createProfile(r,n,o,s,l);d&&a.insertBefore(d,c)}),c},editUsername=(e,t,r,a)=>{resetStateOfEditing(e);const n=e.target,o=n.closest(".main-profiles__profile").querySelector(".main-profiles__name"),i=createSaveBtn(r);n.classList.add("hidden"),i.classList.remove("hidden"),t.append(i),o.focus(),o.select(),o.removeAttribute("readonly"),o.classList.add("focused"),i.addEventListener("click",e=>{saveUsername(e,a)})},saveUsername=(e,t)=>{const r=getData(),a=r?.userProfiles||[],n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn").dataset.id,i=n.querySelector(".main-profiles__name"),s=document.querySelectorAll(".main-profiles__edit-name");if(s.forEach(e=>e.removeAttribute("disabled")),""===i.value.trim())return s.forEach(e=>e.setAttribute("disabled",!0)),showErrorPopup(t,"#FAC044");const l={...a,[o]:{...a[o],name:i.value}};setUserPreference("userProfiles",l,r),resetStateOfEditing(e)},createSaveBtn=e=>{const t=createElement("button",["main-profiles__save-name","hidden"],{"aria-label":e}),r=createElement("img",["main-profiles__save-icon"],{width:"24",height:"24",loading:"lazy",alt:"",src:"./src/icons/save.svg"});return t.append(r),t},resetStateOfEditing=e=>{const t=document.querySelectorAll(".focused"),r=document.querySelectorAll(".main-profiles__save-name"),a=document.querySelectorAll(".main-profiles__edit-name");t.forEach(e=>{e.setAttribute("readonly",!0),e.classList.remove("focused"),e.blur()}),r.forEach(e=>e.classList.add("hidden")),a.forEach(e=>e.classList.remove("hidden"))};let popupVisible=!1;export const showErrorPopup=(e,t)=>{if(popupVisible)return;popupVisible=!0;const r=document.documentElement,a=document.querySelector(".container"),n=createElement("div",["error-popup"]),o=createElement("p",["error-popup__text"]);o.textContent=e,r.style.setProperty("--errorTxtColor",t),n.append(o),a.append(n),setTimeout(()=>{n.classList.add("hidden")},2e3),setTimeout(()=>{n.remove(),popupVisible=!1},2500)};const removeUser=e=>{const t=getData(),r=t?.userProfiles,a=document.querySelectorAll(".main-profiles__edit-name"),n=e.target.closest(".main-profiles__profile"),o=n.querySelector(".main-profiles__btn");a.forEach(e=>e.removeAttribute("disabled")),delete r[o.dataset.id],setUserPreference("userProfiles",r,t),n.classList.add("hidden"),setTimeout(()=>{n.remove()},400)};export const createBrowsePage=({header:{alt:{logo:e},aria:{logoLink:t}},browsePage:{names:{filmLink:r,seriesLink:a,myListLink:n,searchLink:o},aria:{userButton:i}}})=>{const s=createElement("header",["browse-header"]),l=createElement("a",["browse-header__logo"],{"aria-label":t,href:""}),c=createElement("img",["browse-header__logo-img"],{alt:e,src:"./src/icons/logo.svg"}),d=createElement("span",["browse-header__logo-text"]);return d.textContent="Stream",l.append(c,d),s.append(l,createBrowserNav(r,a,n,o),createUserBtn(i)),s};const createBrowserNav=(e,t,r,a)=>{const n=createElement("nav",["browse-header__nav"]),o=createElement("ul",["browse-header__links"]);return[{name:e,src:"./src/icons/film-icon.svg"},{name:t,src:"./src/icons/series-icon.svg"},{name:r,src:"./src/icons/list-icon.svg"},{name:a,src:"./src/icons/search-icon.svg"}].forEach(e=>{const t=createElement("li",["browse-header__item"]),r=createElement("a",["browse-header__link"],{href:""}),a=createElement("img",["browse-header__link-icon"],{width:"24",height:"24",loading:"lazy",src:e.src,alt:""}),n=createElement("span",["browse-header__link-text"]);n.textContent=e.name,r.append(a,n),t.append(r),o.append(t)}),n.append(o),n},createUserBtn=e=>{const t=createElement("div",["browse-header__user-box"]),r=createElement("button",["browse-header__user"],{"aria-label":e}),a=createElement("img",["browse-header__user-icon"],{width:"24",height:"24",loading:"lazy",src:"./src/icons/user-icon.svg",alt:""});return r.append(a),t.append(r),t};export const createMainHeroSection=(e,t,r)=>{const a=createElement("main",["browse-main"]),n=createElement("section",["browse-main__hero-section"]),o=createElement("div",["browse-main__image-carousell"]),i=createElement("div",["browse-main__images"]);e.forEach(({id:e,title:s,overview:l="",backdrop_path:c})=>{const d=c,m=createElement("div",["browse-main__img-box"]),p=createElement("img",["browse-main__img"],{alt:`${t?.browsePage?.carousellImages?.aria.carousellImageAlt} ${s}`,src:d?getImageUrl(d,"original"):"./dist/img/img-placeholder.svg"}),_=createElement("div",["browse-main__text-box"]),g=createElement("h2",["browse-main__carousell-title"]),u=createElement("p",["browse-main__carousell-overview"],{tabindex:-1});g.textContent=s,u.textContent=l,_.append(g,u,createActionButtons(e,t)),m.append(p,_),i.append(m),o.append(i),n.append(o),a.append(n),r.append(a)}),o.append(createCarousellControls(e,t))};const createActionButtons=(e,{browsePage:{actionBtns:{trailerBtnText:t,moreInfoBtnText:r}}})=>{const a=createElement("div",["browse-main__action-btns"]),n=createElement("button",["browse-main__trailer-btn"],{"data-trailer":e}),o=createElement("span",["browse-main__see-trailer"]),i=createElement("a",["browse-main__see-more-btn"],{"data-movie":e,href:""});return o.textContent=t,i.textContent=r,n.innerHTML='<svg class="browse-main__trailer-play-icon"\n\txmlns="http://www.w3.org/2000/svg" width="24" height="24"\n\tviewBox="0 0 24 24" fill="#000" stroke="#000" stroke-width="2"\n\tstroke-linecap="round" stroke-linejoin="round"\n\tclass="feather feather-play">\n\t<polygon points="5 3 19 12 5 21 5 3"></polygon>\n\t</svg>',n.append(o),a.append(n,i),a},createCarousellControls=(e,{browsePage:{carousellBtns:{aria:t}}})=>{const r=createElement("div",["browse-main__carousell-controls"]);return e.forEach((e,a)=>{const n=createElement("button",["browse-main__btn"],{"data-img":a,"aria-label":`${t} ${a}`}),o=createElement("span",["browse-main__progress-bar"]);n.append(o),r.append(n)}),r};export const createFilmSlider=(e,t,r,a)=>{const n=e[r].results,o=createElement("section",["browse-section"]),i=createElement("h3",["browse-section__title"]),s=createElement("div",["browse-section__slider"],{"data-index":0}),l=createElement("div",["browse-section__slider-images"]),c=createElement("button",["browse-section__slider-btn","browse-section__slider-prev-btn"],{"aria-label":t?.browseSection?.aria?.showPrevSlideBtn}),d=createElement("button",["browse-section__slider-btn","browse-section__slider-next-btn"],{"aria-label":t?.browseSection?.aria?.showNextSlideBtn}),m=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-left.svg",width:"24",height:"24",loading:"lazy",alt:""}),p=createElement("img",["browse-section__slider-btn-icon"],{src:"./src/icons/chevron-right.svg",width:"24",height:"24",loading:"lazy",alt:""});return i.textContent=a,d.append(p),c.append(m),createFilmPosters(n,t,l),s.append(l,c,d),o.append(i,s),o};const createFilmPosters=(e,t,r)=>{e.forEach(({id:e,title:a,poster_path:n})=>{const o=n,i=createElement("div",["browse-section__slider-box"]),s=createElement("a",["browse-section__slider-img-link"],{href:"browse.html","aria-label":t?.browseSection?.aria?.showMoreInfoAboutFilm}),l=createElement("img",["browse-section__slider-img"],{alt:`${t?.browsePage?.carousellImages?.aria?.carousellImageAlt} ${a}`,loading:"lazy",width:"",height:"",src:o?getImageUrl(o,"original"):"./dist/img/img-placeholder.svg"}),c=createElement("button",["browse-section__add-to-list-btn"],{"aria-label":t?.browseSection?.aria?.addToListBtn,"data-movie":e}),d=createElement("img",["browse-section__add-to-list-icon"],{src:"./src/icons/add-profile.svg",width:"24",height:"24",loading:"lazy",alt:""}),m=createElement("span",["browse-section__tooltip"]);m.textContent=t.browseSection.info,c.append(d),s.append(l),i.append(s,c,m),r.append(i)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy5taW4uanMiLCJuYW1lcyI6WyJjcmVhdGVFbGVtZW50IiwiZ2V0SW1hZ2VVcmwiLCJzZXRVc2VyUHJlZmVyZW5jZSIsIkhJREVfTE9BREVSX1RJTUUiLCJISURFX1BPUFVQX1RJTUUiLCJnZXREYXRhIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwic2hvd0Vycm9yUG9wdXAiLCJFcnJvciIsInJlbW92ZUl0ZW0iLCJVU0VSTkFNRSIsIlBBU1NXT1JEIiwiY3JlYXRlTG9naW5IZWFkZXIiLCJoZWFkZXIiLCJhbHQiLCJsb2dvIiwiYXJpYSIsImxvZ29MaW5rIiwiY2hhbmdlTGFuZ3VhZ2VCdXR0b24iLCJsYW5nQW1vdW50IiwibGFuZ05hbWVzIiwibGFuZ3VhZ2UiLCJoYW5kbGVMYW5nU2VsZWN0IiwicGFnZUxvZ28iLCJocmVmIiwibG9nb0ltZyIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwibG9nb1RleHQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImxhbmdTZWxlY3QiLCJsYW5nUGxhdGZvcm1MYW5nIiwibGFuZ0Fycm93IiwibGFuZ0xpc3QiLCJpIiwibGFuZ0Nob2ljZSIsInRhYmluZGV4IiwiT2JqZWN0Iiwia2V5cyIsInRleHQiLCJ2YWx1ZXMiLCJkYXRhc2V0IiwibGFuZyIsInN0eWxlIiwiYW5pbWF0aW9uRGVsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNhbGwiLCJjcmVhdGVMb2dpblBhZ2UiLCJtYWluIiwidGl0bGUiLCJzdWJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYnV0dG9uIiwicGxhY2Vob2xkZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibWFpbkNvbnRlbnQiLCJ3cmFwcGVyIiwibG9naW5UaXRsZSIsImxvZ2luVGl0bGVUb3AiLCJsb2dpblRpdGxlQm90dG9tIiwibG9naW5UZXh0IiwiZm9ybSIsInVzZXJuYW1lSW5wdXQiLCJ0eXBlIiwicGFzc3dvcmRJbnB1dCIsInN1Ym1pdEJ0biIsImJ1dHRvblRleHQiLCJlcnJvclR4dCIsInVzZXJEYXRhIiwiY2hvb3NlbkxhbmciLCJwcmVmZXJyZWRMYW5ndWFnZSIsImhhbmRsZUxvZ2luVmFsaWRhdGlvbiIsInRyYW5zbGF0aW9ucyIsImVycm9yUmVxdWlyZWQiLCJlcnJvckludmFsaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0YXJnZXQiLCJzaG93U21hbGxMb2FkZXIiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJoaWRlU21hbGxMb2FkZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcXVpcmVFcnJvciIsImludmFsaWRFcnJvciIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJ0cmltIiwiYWRkIiwic2hvd0JpZ0xvYWRlciIsImxvYWRpbmdBcmVhIiwiaW5uZXJIVE1MIiwiaGlkZUJpZ0xvYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVByb2ZpbGVzUGFnZSIsInByb2ZpbGVzIiwiYWRkUHJvZmlsZUluZm8iLCJhZGRQcm9maWxlQnRuIiwidXNlclByb2ZpbGVCdG4iLCJ1c2VyQnRuQ3VzdG9taXplIiwicmVtb3ZlVXNlckluZm8iLCJlcnJvclBvcHVwIiwibWF4UHJvZmlsZXMiLCJlbXB0eUZpZWxkIiwidXNlclByb2ZpbGVzTGlzdCIsInVzZXJQcm9maWxlcyIsImNvbnRhaW5lciIsInByb2ZpbGVzUGFnZU1haW4iLCJwcm9maWxlc1RpdGxlIiwicHJvZmlsZXNCb3giLCJsZW5ndGgiLCJrZXkiLCJjcmVhdGVQcm9maWxlIiwiY3JlYXRlUHJvZmlsZUFkZEJ0biIsImFyaWFJbmZvIiwidXNlckJ0bkluZm8iLCJzYXZlQnRuQXJpYSIsImVtcHR5RmllbGRFcnJvciIsInJlbW92ZUFyaWEiLCJleGlzdGluZ1Byb2ZpbGVJZCIsImV4aXN0aW5nUHJvZmlsZU5hbWUiLCJleGlzdGluZ1Byb2ZpbGVzIiwicmVsb2FkIiwiY29sb3IiLCJwcm9maWxlSWQiLCJwcm9maWxlTmFtZSIsImNvbG9ycyIsIm5hbWUiLCJwYXJzZUludCIsInNwbGl0IiwicG9wIiwibmV4dE51bWJlciIsInVzZXJQcm9maWxlIiwidXNlckF2YXRhckJveCIsInVzZXJQcm9maWxlSW5mb0JveCIsInVzZXJQcm9maWxlSW5mbyIsInJlYWRvbmx5IiwibmFtZUJvcmRlciIsImVkaXRVc2VySW5mb0J0biIsInJlbW92ZVVzZXJCdG4iLCJyZW1vdmVVc2VySWNvbiIsImxvYWRpbmciLCJlZGl0VXNlckluZm9JY29uIiwiYmFja2dyb3VuZENvbG9yIiwidXBkYXRlZFByb2ZpbGVzIiwiZWRpdFVzZXJuYW1lIiwicmVtb3ZlVXNlciIsInNhdmVVc2VybmFtZSIsInNldEN1cnJlbnRQcm9maWxlIiwicHJvZmlsZURhdGEiLCJpZCIsImluZm8iLCJ1c2VyQnRuQXJpYSIsIm1heFByb2ZpbGVzRXJyb3IiLCJhZGRQcm9maWxlQm94IiwiYWRkUHJvZmlsZUF2YXRhciIsImFkZFByb2ZpbGVQbHVzSWNvbiIsInByb2ZpbGUiLCJpbnNlcnRCZWZvcmUiLCJwYXJlbnQiLCJyZXNldFN0YXRlT2ZFZGl0aW5nIiwiZWRpdEJ0biIsIm5hbWVUb0VkaXQiLCJjbG9zZXN0Iiwic2F2ZUJ0biIsImNyZWF0ZVNhdmVCdG4iLCJmb2N1cyIsInNlbGVjdCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3RQcm9maWxlIiwiY2xvc2VzdFByb2ZpbGVJZCIsImNsb3Nlc3RQcm9maWxlTmFtZSIsImFsbEVkaXRCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJzZXRBdHRyaWJ1dGUiLCJzYXZlVXNlckluZm9CdG4iLCJzYXZlVXNlckluZm9JY29uIiwiZm9jdXNlZE5hbWVzIiwiYWxsU2F2ZUJ0bnMiLCJlbCIsImJsdXIiLCJwb3B1cFZpc2libGUiLCJyb290IiwiZG9jdW1lbnRFbGVtZW50IiwicG9wdXAiLCJwb3B1cEVycm9yIiwic2V0UHJvcGVydHkiLCJjbG9zZXN0UHJvZmlsZUJ0biIsImNyZWF0ZUJyb3dzZVBhZ2UiLCJicm93c2VQYWdlIiwibmFtZXMiLCJmaWxtTGluayIsInNlcmllc0xpbmsiLCJteUxpc3RMaW5rIiwic2VhcmNoTGluayIsInVzZXJCdXR0b24iLCJsb2dvTWFpbkxpbmsiLCJsb2dvTWFpbkltZyIsIm1haW5UaXRsZSIsImNyZWF0ZUJyb3dzZXJOYXYiLCJjcmVhdGVVc2VyQnRuIiwibmF2IiwibmF2TGlua3MiLCJsaW5rIiwibGlzdEl0ZW0iLCJsaW5rRWwiLCJpY29uIiwidXNlckJveCIsInVzZXJCdG4iLCJ1c2VySWNvbiIsImNyZWF0ZU1haW5IZXJvU2VjdGlvbiIsIm1vdmllcyIsImJyb3dzZU1haW4iLCJicm93c2VNYWluU2VjdGlvbiIsImltYWdlc0Nhcm91c2VsbCIsImltYWdlc0luc2lkZVNsaWRlciIsIm92ZXJ2aWV3IiwiYmFja2Ryb3BfcGF0aCIsImltZ1NyYyIsImltYWdlQm94IiwiaW1hZ2UiLCJjYXJvdXNlbGxJbWFnZXMiLCJjYXJvdXNlbGxJbWFnZUFsdCIsInRleHRCb3giLCJmaWxtVGl0bGUiLCJmaWxtSW5mbyIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJjcmVhdGVDYXJvdXNlbGxDb250cm9scyIsImFjdGlvbkJ0bnMiLCJ0cmFpbGVyQnRuVGV4dCIsIm1vcmVJbmZvQnRuVGV4dCIsImFjdGlvbkJ0bnNQYW5lbCIsInNob3dUcmFpbGVyQnRuIiwic2hvd1RyYWlsZXJUZXh0Iiwic2VlTW9yZUJ0biIsImNhcm91c2VsbEJ0bnMiLCJjYXJvdXNlbGxDb250cm9scyIsIm1vdmllIiwiaW5kZXgiLCJjYXJvdXNlbGxCdG4iLCJjYXJvdXNlbGxCdG5Qcm9ncmVzc0JhciIsImNyZWF0ZUZpbG1TbGlkZXIiLCJmaWxtcyIsInByb3BlckZpbG1zIiwicmVzdWx0cyIsImJyb3dzZVNlY3Rpb24iLCJzZWN0aW9uVGl0bGUiLCJzZWN0aW9uU2xpZGVyIiwic2VjdGlvbkltYWdlcyIsInNob3dQcmV2U2xpZGVCdG4iLCJzaG93TmV4dFNsaWRlQnRuIiwic2hvd1ByZXZTbGlkZUljb24iLCJzaG93TmV4dFNsaWRlSWNvbiIsImNyZWF0ZUZpbG1Qb3N0ZXJzIiwicG9zdGVyX3BhdGgiLCJzZWN0aW9uQm94Iiwic2VjdGlvbkxpbmsiLCJzaG93TW9yZUluZm9BYm91dEZpbG0iLCJzZWN0aW9uRmlsbVBvc3RlciIsInNlY3Rpb25BZGRUb0xpc3RCdG4iLCJhZGRUb0xpc3RCdG4iLCJzZWN0aW9uQWRkVG9MaXN0SWNvbiIsInNlY3Rpb25Ub29sdGlwIl0sInNvdXJjZXMiOlsiY29tcG9uZW50cy5qcyJdLCJtYXBwaW5ncyI6Ik9BQVNBLGNBQWVDLGdCQUFtQiwwQkFDbENDLHNCQUF5QixnQ0FDbEMsTUFBTUMsaUJBQW1CLElBQ25CQyxnQkFBa0IsWUFDakIsTUFBTUMsUUFBVSxLQUN0QixJQUNDLE1BQU1DLEVBQU9DLGFBQWFDLFFBQVEsWUFFbEMsSUFBS0YsRUFBTSxPQUFPLEtBRWxCLE1BQU1HLEVBQWFDLEtBQUtDLE1BQU1MLEdBRTlCLEdBQTBCLGlCQUFmRyxHQUEwQyxPQUFmQSxFQUVyQyxNQURBRyxlQUFlLCtCQUFnQyxXQUN6QyxJQUFJQyxNQUFNLGtDQUVqQixPQUFPSixDQUNSLENBQUUsTUFFRCxPQURBRixhQUFhTyxXQUFXLFlBQ2pCLENBQUMsQ0FDVCxHQUlELE1BQU1DLFNBQVcsa0JBQ1hDLFNBQVcsbUJBRVYsTUFBTUMsa0JBQW9CLEVBRS9CQyxRQUNDQyxLQUFPQyxRQUNQQyxNQUFRQyxXQUFVQywwQkFHcEJDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEtBR0EsTUFBTVQsRUFBU2xCLGNBQWMsU0FBVSxDQUFDLFdBQ2xDNEIsRUFBVzVCLGNBQWMsSUFBSyxDQUFDLGVBQWdCLHNCQUF1QixDQUMzRTZCLEtBQU0sSUFDTixhQUFjLEdBQUdQLE1BRVpRLEVBQVU5QixjQUNmLE1BQ0EsQ0FBQyxtQkFBb0IsMEJBQ3JCLENBQ0MrQixJQUFLLHVCQUNMWixJQUFLLEdBQUdDLElBQ1JZLE1BQU8sS0FDUEMsT0FBUSxPQUdKQyxFQUFXbEMsY0FBYyxPQUFRLENBQ3RDLG9CQUNBLDRC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QUFRLENBQUMsNEJBRTlDbVIsRUFBZWhQLFlBQWM4QyxFQUFhaUwsY0FBY2hHLEtBRXhEOEcsRUFBb0I1TyxPQUFPOE8sR0FFM0JMLEVBQVl6TyxPQUFPMk8sR0FFbkJILEVBQVd4TyxPQUFPeU8sRUFBYUcsRUFBcUJHLEdBRXBEekcsRUFBT3RJLE9BQU93TyIsImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBnZXRJbWFnZVVybCB9IGZyb20gXCIuL2hlbHBlcnMubWluLmpzXCI7XHJcbmltcG9ydCB7IHNldFVzZXJQcmVmZXJlbmNlIH0gZnJvbSBcIi4vdXBkYXRlU3RhdGVGdW5jdGlvbnMubWluLmpzXCI7XHJcbmNvbnN0IEhJREVfTE9BREVSX1RJTUUgPSAzMDAwO1xyXG5jb25zdCBISURFX1BPUFVQX1RJTUUgPSAyNTAwO1xyXG5leHBvcnQgY29uc3QgZ2V0RGF0YSA9ICgpID0+IHtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlckRhdGFcIik7XHJcblxyXG5cdFx0aWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcclxuXHJcblx0XHRjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuXHJcblx0XHRpZiAodHlwZW9mIHBhcnNlZERhdGEgIT09IFwib2JqZWN0XCIgfHwgcGFyc2VkRGF0YSA9PT0gbnVsbCkge1xyXG5cdFx0XHRzaG93RXJyb3JQb3B1cChcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIiwgXCIjZGM0YTM0XCIpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOaWVwcmF3aWTFgm93YSBzdHJ1a3R1cmEgZGFueWNoXCIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBhcnNlZERhdGE7XHJcblx0fSBjYXRjaCB7XHJcblx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJEYXRhXCIpO1xyXG5cdFx0cmV0dXJuIHt9O1xyXG5cdH1cclxufTtcclxuXHJcbi8vIERFTU8gT05MWSAtIE5ldmVyIGhhcmRjb2RlIGNyZWRlbnRpYWxzIGluIHByb2R1Y3Rpb24hXHJcbmNvbnN0IFVTRVJOQU1FID0gXCJoYW5kc29tZVVzZXI0MDRcIjtcclxuY29uc3QgUEFTU1dPUkQgPSBcIjEyMzQ1Njc4OVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUxvZ2luSGVhZGVyID0gKFxyXG5cdHtcclxuXHRcdGhlYWRlcjoge1xyXG5cdFx0XHRhbHQ6IHsgbG9nbyB9LFxyXG5cdFx0XHRhcmlhOiB7IGxvZ29MaW5rLCBjaGFuZ2VMYW5ndWFnZUJ1dHRvbiB9LFxyXG5cdFx0fSxcclxuXHR9LFxyXG5cdGxhbmdBbW91bnQsXHJcblx0bGFuZ05hbWVzLFxyXG5cdGxhbmd1YWdlLFxyXG5cdGhhbmRsZUxhbmdTZWxlY3RcclxuKSA9PiB7XHJcblx0Ly8gbG9nb1xyXG5cdGNvbnN0IGhlYWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJoZWFkZXJcIiwgW1wiaGVhZGVyXCJdKTtcclxuXHRjb25zdCBwYWdlTG9nbyA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImhlYWRlcl9fbG9nb1wiLCBcImxvZ2luLWhlYWRlcl9fbG9nb1wiXSwge1xyXG5cdFx0aHJlZjogXCIvXCIsXHJcblx0XHRcImFyaWEtbGFiZWxcIjogYCR7bG9nb0xpbmt9YCxcclxuXHR9KTtcclxuXHRjb25zdCBsb2dvSW1nID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiaW1nXCIsXHJcblx0XHRbXCJoZWFkZXJfX2xvZ28taW1nXCIsIFwibG9naW4taGVhZGVyX19sb2dvLWltZ1wiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ28uc3ZnXCIsXHJcblx0XHRcdGFsdDogYCR7bG9nb31gLFxyXG5cdFx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IGxvZ29UZXh0ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1xyXG5cdFx0XCJoZWFkZXJfX2xvZ28tdGV4dFwiLFxyXG5cdFx0XCJsb2dpbi1oZWFkZXJfX2xvZ28tdGV4dFwiLFxyXG5cdF0pO1xyXG5cdGxvZ29UZXh0LnRleHRDb250ZW50ID0gXCJTdHJlYW1cIjtcclxuXHRwYWdlTG9nby5hcHBlbmQobG9nb0ltZywgbG9nb1RleHQpO1xyXG5cdGhlYWRlci5hcHBlbmQocGFnZUxvZ28pO1xyXG5cdC8vIGVuZCBvZiBsb2dvXHJcblxyXG5cdC8vIGxhbmd1YWdlIHNlbGVjdG9yXHJcblx0Y29uc3QgbGFuZ1NlbGVjdCA9IGNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgW1wibG9naW4taGVhZGVyX19sYW5nLXNlbGVjdFwiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGAke2NoYW5nZUxhbmd1YWdlQnV0dG9ufWAsXHJcblx0fSk7XHJcblx0Y29uc3QgbGFuZ1BsYXRmb3JtTGFuZyA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcclxuXHRcdFwibG9naW4taGVhZGVyX19sYW5nLXBsYXRmb3JtLWxhbmdcIixcclxuXHRdKTtcclxuXHRjb25zdCBsYW5nQXJyb3cgPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1hcnJvd1wiXSwge1xyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tZG93bi5zdmdcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHR9KTtcclxuXHRjb25zdCBsYW5nTGlzdCA9IGNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBbXCJsb2dpbi1oZWFkZXJfX2xhbmctbGlzdFwiXSk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGFuZ0Ftb3VudDsgaSsrKSB7XHJcblx0XHRjb25zdCBsYW5nQ2hvaWNlID0gY3JlYXRlRWxlbWVudChcImxpXCIsIFtcImxvZ2luLWhlYWRlcl9fbGFuZy1jaG9pY2VcIl0sIHtcclxuXHRcdFx0dGFiaW5kZXg6IDAsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IGRhdGEgPSBPYmplY3Qua2V5cyhsYW5nTmFtZXMpW2ldO1xyXG5cdFx0Y29uc3QgdGV4dCA9IE9iamVjdC52YWx1ZXMobGFuZ05hbWVzKVtpXTtcclxuXHJcblx0XHRsYW5nQ2hvaWNlLmRhdGFzZXQubGFuZyA9IGRhdGE7XHJcblx0XHRsYW5nQ2hvaWNlLnRleHRDb250ZW50ID0gdGV4dDtcclxuXHRcdGxhbmdDaG9pY2Uuc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBpICogMTAwICsgXCJtc1wiO1xyXG5cdFx0bGFuZ0xpc3QuYXBwZW5kKGxhbmdDaG9pY2UpO1xyXG5cdH1cclxuXHJcblx0bGFuZ1BsYXRmb3JtTGFuZy50ZXh0Q29udGVudCA9IGxhbmdOYW1lc1tsYW5ndWFnZV07XHJcblxyXG5cdGxhbmdTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRoYW5kbGVMYW5nU2VsZWN0LmNhbGwobGFuZ1NlbGVjdCwgZSwgbGFuZ1BsYXRmb3JtTGFuZyk7XHJcblx0fSk7XHJcblxyXG5cdGxhbmdTZWxlY3QuYXBwZW5kKGxhbmdQbGF0Zm9ybUxhbmcsIGxhbmdBcnJvdywgbGFuZ0xpc3QpO1xyXG5cdGhlYWRlci5hcHBlbmQobGFuZ1NlbGVjdCk7XHJcblxyXG5cdHJldHVybiBoZWFkZXI7XHJcblx0Ly8gZW5kIG9mIGxhbmd1YWdlIHNlbGVjdG9yXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTG9naW5QYWdlID0gKHtcclxuXHRtYWluOiB7XHJcblx0XHR0ZXh0OiB7IHRpdGxlLCBzdWJ0aXRsZSwgZGVzY3JpcHRpb24sIGJ1dHRvbiB9LFxyXG5cdFx0cGxhY2Vob2xkZXI6IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0sXHJcblx0fSxcclxufSkgPT4ge1xyXG5cdGNvbnN0IG1haW5Db250ZW50ID0gY3JlYXRlRWxlbWVudChcIm1haW5cIiwgW1wibWFpblwiXSk7XHJcblx0Y29uc3Qgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wid3JhcHBlclwiXSk7XHJcblx0Y29uc3QgbG9naW5UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcclxuXHRjb25zdCBsb2dpblRpdGxlVG9wID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wibWFpbl9fdGl0bGVcIl0pO1xyXG5cdGNvbnN0IGxvZ2luVGl0bGVCb3R0b20gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX19zdWJ0aXRsZVwiXSk7XHJcblx0Y29uc3QgbG9naW5UZXh0ID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wibWFpbl9fdGV4dFwiXSk7XHJcblx0Y29uc3QgZm9ybSA9IGNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIFtcIm1haW5fX2Zvcm1cIl0pO1xyXG5cdGNvbnN0IHVzZXJuYW1lSW5wdXQgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbnB1dFwiLFxyXG5cdFx0W1wibWFpbl9fZm9ybS1pbnB1dFwiLCBcIm1haW5fX2Zvcm0taW5wdXQtLXVzZXJuYW1lXCJdLFxyXG5cdFx0eyB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IHVzZXJuYW1lIH1cclxuXHQpO1xyXG5cdGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJpbnB1dFwiLFxyXG5cdFx0W1wibWFpbl9fZm9ybS1pbnB1dFwiLCBcIm1haW5fX2Zvcm0taW5wdXQtLXBhc3N3b3JkXCJdLFxyXG5cdFx0eyB0eXBlOiBcInBhc3N3b3JkXCIsIHBsYWNlaG9sZGVyOiBwYXNzd29yZCB9XHJcblx0KTtcclxuXHRjb25zdCBzdWJtaXRCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcIm1haW5fX2Zvcm0tYnV0dG9uXCJdLCB7XHJcblx0XHR0eXBlOiBcInN1Ym1pdFwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGJ1dHRvblRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJtYWluX19mb3JtLWJ1dHRvbi10ZXh0XCJdKTtcclxuXHJcblx0Y29uc3QgZXJyb3JUeHQgPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJtYWluX19mb3JtLWVycm9yLXR4dFwiXSk7XHJcblx0bG9naW5UaXRsZVRvcC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cdGxvZ2luVGl0bGVCb3R0b20udGV4dENvbnRlbnQgPSBzdWJ0aXRsZTtcclxuXHRsb2dpblRleHQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuXHRidXR0b25UZXh0LnRleHRDb250ZW50ID0gYnV0dG9uO1xyXG5cclxuXHRsb2dpblRpdGxlLmFwcGVuZChsb2dpblRpdGxlVG9wLCBsb2dpblRpdGxlQm90dG9tKTtcclxuXHRzdWJtaXRCdG4uYXBwZW5kKGJ1dHRvblRleHQpO1xyXG5cdGZvcm0uYXBwZW5kKHVzZXJuYW1lSW5wdXQsIHBhc3N3b3JkSW5wdXQsIHN1Ym1pdEJ0biwgZXJyb3JUeHQpO1xyXG5cclxuXHR3cmFwcGVyLmFwcGVuZChsb2dpblRpdGxlLCBsb2dpblRleHQsIGZvcm0pO1xyXG5cdG1haW5Db250ZW50LmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0c3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0XHRjb25zdCBjaG9vc2VuTGFuZyA9IHVzZXJEYXRhPy5wcmVmZXJyZWRMYW5ndWFnZTtcclxuXHJcblx0XHRpZiAoIWNob29zZW5MYW5nKSB7XHJcblx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwicHJlZmVycmVkTGFuZ3VhZ2VcIiwgXCJwbFwiLCB1c2VyRGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmVzdWx0cyA9IGhhbmRsZUxvZ2luVmFsaWRhdGlvbihcclxuXHRcdFx0ZSxcclxuXHRcdFx0dXNlcm5hbWVJbnB1dCxcclxuXHRcdFx0cGFzc3dvcmRJbnB1dCxcclxuXHRcdFx0dHJhbnNsYXRpb25zLm1haW4udGV4dC5lcnJvclJlcXVpcmVkLFxyXG5cdFx0XHR0cmFuc2xhdGlvbnMubWFpbi50ZXh0LmVycm9ySW52YWxpZCxcclxuXHRcdFx0VVNFUk5BTUUsXHJcblx0XHRcdFBBU1NXT1JELFxyXG5cdFx0XHRlcnJvclR4dFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdHMpIHtcclxuXHRcdFx0ZXJyb3JUeHQuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcblx0XHRcdGUudGFyZ2V0LmFwcGVuZChzaG93U21hbGxMb2FkZXIoKSk7XHJcblx0XHRcdGUudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGUudGFyZ2V0LmRpc2FibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0aGlkZVNtYWxsTG9hZGVyKCk7XHJcblxyXG5cdFx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwidHJhbnNsYXRpb25zXCIsIHRyYW5zbGF0aW9ucywgdXNlckRhdGEpO1xyXG5cdFx0XHRcdHNldFVzZXJQcmVmZXJlbmNlKFwibG9nZ2VkSW5cIiwgdHJ1ZSwgdXNlckRhdGEpO1xyXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJwcm9maWxlcy5odG1sXCI7IC8vIHByemVqxZtjaWUgbmEgc3Ryb27EmSB6IHByb2ZpbGFtaVxyXG5cdFx0XHR9LCBISURFX0xPQURFUl9USU1FKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIG1haW5Db250ZW50O1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTG9naW5WYWxpZGF0aW9uID0gKFxyXG5cdGUsXHJcblx0dXNlcm5hbWVJbnB1dCxcclxuXHRwYXNzd29yZElucHV0LFxyXG5cdHJlcXVpcmVFcnJvcixcclxuXHRpbnZhbGlkRXJyb3IsXHJcblx0dXNlcm5hbWUsXHJcblx0cGFzc3dvcmQsXHJcblx0ZXJyb3JUeHRcclxuKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRpZiAodXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIgfHwgcGFzc3dvcmRJbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuXHRcdGVycm9yVHh0LmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdFx0ZXJyb3JUeHQudGV4dENvbnRlbnQgPSByZXF1aXJlRXJyb3I7XHJcblx0XHRyZXR1cm4gcmVxdWlyZUVycm9yO1xyXG5cdH0gZWxzZSBpZiAoXHJcblx0XHR1c2VybmFtZUlucHV0LnZhbHVlLnRyaW0oKSAhPT0gdXNlcm5hbWUgfHxcclxuXHRcdHBhc3N3b3JkSW5wdXQudmFsdWUudHJpbSgpICE9PSBwYXNzd29yZFxyXG5cdCkge1xyXG5cdFx0ZS50YXJnZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0ZS50YXJnZXQuYXBwZW5kKHNob3dTbWFsbExvYWRlcigpKTtcclxuXHRcdGVycm9yVHh0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRlcnJvclR4dC5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuXHRcdFx0ZXJyb3JUeHQudGV4dENvbnRlbnQgPSBpbnZhbGlkRXJyb3I7XHJcblxyXG5cdFx0XHRlLnRhcmdldC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0aGlkZVNtYWxsTG9hZGVyKCk7XHJcblx0XHR9LCBISURFX0xPQURFUl9USU1FKTtcclxuXHRcdHJldHVybiBpbnZhbGlkRXJyb3I7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaG93QmlnTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJsb2FkaW5nLWFyZWFcIl0pO1xyXG5cdGxvYWRpbmdBcmVhLmlubmVySFRNTCA9IGAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwibG9hZGVyLWJpZ1wiIHZpZXdCb3g9XCIwIDAgMTIwIDEyMFwiIHdpZHRoPVwiMTIwXCIgaGVpZ2h0PVwiMTIwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9XCJsb2FkZXItYWNjZW50XCIgeDE9XCIwJVwiIHkxPVwiMCVcIiB4Mj1cIjEwMCVcIiB5Mj1cIjAlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcC1jb2xvcj1cIiM0ZGE4ZGFcIiBzdG9wLW9wYWNpdHk9XCIwLjhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI3MCVcIiBzdG9wLWNvbG9yPVwiIzRkYThkYVwiIHN0b3Atb3BhY2l0eT1cIjAuNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wLWNvbG9yPVwiIzRkYThkYVwiIHN0b3Atb3BhY2l0eT1cIjBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+XHJcbiAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwibG9hZGluZy1jaXJjbGUtYmlnXCIgcj1cIjM1XCIgY3g9XCI2MFwiIGN5PVwiNjBcIj48L2NpcmNsZT5cclxuICAgICAgICAgICAgPC9zdmc+YDtcclxuXHRyZXR1cm4gbG9hZGluZ0FyZWE7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBoaWRlQmlnTG9hZGVyID0gKCkgPT4ge1xyXG5cdGNvbnN0IGxvYWRpbmdBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkaW5nLWFyZWFcIik7XHJcblx0bG9hZGluZ0FyZWE/LnJlbW92ZSgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dTbWFsbExvYWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBsb2FkaW5nQXJlYSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibG9hZGluZy1hcmVhLXNtYWxsXCJdKTtcclxuXHRsb2FkaW5nQXJlYS5pbm5lckhUTUwgPSBgPHN2ZyBjbGFzcz1cImxvYWRlci1zbWFsbFwiIHZpZXdCb3g9XCIwIDAgMTIwIDEyMFwiIHdpZHRoPVwiMTIwXCIgaGVpZ2h0PVwiMTIwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9XCJsb2FkZXItYWNjZW50LXNtYWxsXCIgeDE9XCIwJVwiIHkxPVwiMCVcIiB4Mj1cIjEwMCVcIiB5Mj1cIjAlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMC44XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiNzAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMC4zXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+XHJcbiAgICAgICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzPVwibG9hZGluZy1jaXJjbGUtc21hbGxcIiByPVwiMTJcIiBjeD1cIjYwXCIgY3k9XCI2MFwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICA8L3N2Zz5gO1xyXG5cclxuXHRyZXR1cm4gbG9hZGluZ0FyZWE7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBoaWRlU21hbGxMb2FkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbG9hZGluZ0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctYXJlYS1zbWFsbFwiKTtcclxuXHRsb2FkaW5nQXJlYS5yZW1vdmUoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9maWxlc1BhZ2UgPSAoe1xyXG5cdHByb2ZpbGVzOiB7XHJcblx0XHR0ZXh0OiB7IHRpdGxlLCBhZGRQcm9maWxlSW5mbyB9LFxyXG5cdFx0YXJpYTogeyBhZGRQcm9maWxlQnRuLCB1c2VyUHJvZmlsZUJ0biwgdXNlckJ0bkN1c3RvbWl6ZSwgcmVtb3ZlVXNlckluZm8gfSxcclxuXHR9LFxyXG5cdGVycm9yUG9wdXA6IHtcclxuXHRcdHRleHQ6IHsgbWF4UHJvZmlsZXMsIGVtcHR5RmllbGQgfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVzTGlzdCA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXM7XHJcblxyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5cclxuXHRjb250YWluZXIuYXBwZW5kKHNob3dCaWdMb2FkZXIoKSk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Y29uc3QgcHJvZmlsZXNQYWdlTWFpbiA9IGNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIFtcIm1haW4tcHJvZmlsZXNcIl0pO1xyXG5cdFx0Y29uc3Qgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wid3JhcHBlclwiXSk7XHJcblx0XHRjb25zdCBwcm9maWxlc1RpdGxlID0gY3JlYXRlRWxlbWVudChcImgxXCIsIFtcclxuXHRcdFx0XCJtYWluX190aXRsZVwiLFxyXG5cdFx0XHRcIm1haW4tcHJvZmlsZXNfX3RpdGxlXCIsXHJcblx0XHRdKTtcclxuXHRcdGNvbnN0IHByb2ZpbGVzQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19ib3hcIl0pO1xyXG5cclxuXHRcdHByb2ZpbGVzVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHJcblx0XHRpZiAodXNlclByb2ZpbGVzTGlzdCAmJiBPYmplY3Qua2V5cyh1c2VyUHJvZmlsZXNMaXN0KS5sZW5ndGggIT09IDApIHtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdXNlclByb2ZpbGVzTGlzdCkge1xyXG5cdFx0XHRcdHByb2ZpbGVzQm94LmFwcGVuZChcclxuXHRcdFx0XHRcdGNyZWF0ZVByb2ZpbGUoXHJcblx0XHRcdFx0XHRcdHVzZXJQcm9maWxlQnRuLFxyXG5cdFx0XHRcdFx0XHR1c2VyQnRuQ3VzdG9taXplLFxyXG5cdFx0XHRcdFx0XHR1c2VyQnRuQ3VzdG9taXplLFxyXG5cdFx0XHRcdFx0XHRlbXB0eUZpZWxkLFxyXG5cdFx0XHRcdFx0XHRyZW1vdmVVc2VySW5mbyxcclxuXHRcdFx0XHRcdFx0a2V5LFxyXG5cdFx0XHRcdFx0XHR1c2VyUHJvZmlsZXNMaXN0W2tleV1cclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRwcm9maWxlc0JveC5hcHBlbmQoXHJcblx0XHRcdGNyZWF0ZVByb2ZpbGVBZGRCdG4oXHJcblx0XHRcdFx0YWRkUHJvZmlsZUJ0bixcclxuXHRcdFx0XHRhZGRQcm9maWxlSW5mbyxcclxuXHRcdFx0XHR1c2VyUHJvZmlsZUJ0bixcclxuXHRcdFx0XHRwcm9maWxlc0JveCxcclxuXHRcdFx0XHR1c2VyQnRuQ3VzdG9taXplLFxyXG5cdFx0XHRcdHVzZXJCdG5DdXN0b21pemUsXHJcblx0XHRcdFx0bWF4UHJvZmlsZXMsXHJcblx0XHRcdFx0ZW1wdHlGaWVsZCxcclxuXHRcdFx0XHRyZW1vdmVVc2VySW5mb1xyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdFx0d3JhcHBlci5hcHBlbmQocHJvZmlsZXNUaXRsZSwgcHJvZmlsZXNCb3gpO1xyXG5cdFx0cHJvZmlsZXNQYWdlTWFpbi5hcHBlbmQod3JhcHBlcik7XHJcblxyXG5cdFx0Y29udGFpbmVyLmFwcGVuZChwcm9maWxlc1BhZ2VNYWluKTtcclxuXHRcdGhpZGVCaWdMb2FkZXIoKTtcclxuXHR9LCA1MDApO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlUHJvZmlsZSA9IChcclxuXHRhcmlhSW5mbyxcclxuXHR1c2VyQnRuSW5mbyxcclxuXHRzYXZlQnRuQXJpYSxcclxuXHRlbXB0eUZpZWxkRXJyb3IsXHJcblx0cmVtb3ZlQXJpYSxcclxuXHRleGlzdGluZ1Byb2ZpbGVJZCA9IG51bGwsXHJcblx0ZXhpc3RpbmdQcm9maWxlTmFtZSA9IG51bGxcclxuKSA9PiB7XHJcblx0Y29uc3QgdXNlckRhdGEgPSBnZXREYXRhKCk7XHJcblx0Y29uc3QgZXhpc3RpbmdQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXMgfHwge307XHJcblxyXG5cdGlmICh1c2VyRGF0YSA9PT0gbnVsbCkge1xyXG5cdFx0c2hvd0Vycm9yUG9wdXAoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsIFwiI2RjNGEzNFwiKTtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHR9LCBISURFX1BPUFVQX1RJTUUpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0bGV0IGNvbG9yO1xyXG5cdGxldCBwcm9maWxlSWQ7XHJcblx0bGV0IHByb2ZpbGVOYW1lO1xyXG5cclxuXHRjb25zdCBjb2xvcnMgPSBbXCIjZGM0YTM0XCIsIFwiIzA2MkU2M1wiLCBcIiNGQUMwNDRcIl07XHJcblxyXG5cdGlmIChleGlzdGluZ1Byb2ZpbGVJZCkge1xyXG5cdFx0cHJvZmlsZUlkID0gZXhpc3RpbmdQcm9maWxlSWQ7XHJcblx0XHRwcm9maWxlTmFtZSA9IGV4aXN0aW5nUHJvZmlsZU5hbWUubmFtZTtcclxuXHRcdGNvbnN0IHByb2ZpbGVOdW1iZXIgPSBwYXJzZUludChwcm9maWxlSWQuc3BsaXQoXCItXCIpLnBvcCgpKTtcclxuXHRcdGNvbG9yID0gY29sb3JzW3Byb2ZpbGVOdW1iZXIgLSAxXTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKE9iamVjdC5rZXlzKGV4aXN0aW5nUHJvZmlsZXMpLmxlbmd0aCA+PSAzKSByZXR1cm47XHJcblxyXG5cdFx0bGV0IG5leHROdW1iZXIgPSAxO1xyXG5cdFx0d2hpbGUgKGV4aXN0aW5nUHJvZmlsZXNbYHVzZXItcHJvZmlsZS0ke25leHROdW1iZXJ9YF0pIHtcclxuXHRcdFx0bmV4dE51bWJlcisrO1xyXG5cdFx0fVxyXG5cclxuXHRcdHByb2ZpbGVJZCA9IGB1c2VyLXByb2ZpbGUtJHtuZXh0TnVtYmVyfWA7XHJcblx0XHRwcm9maWxlTmFtZSA9IGBIYW5kc29tZSBVc2VyICR7bmV4dE51bWJlcn1gO1xyXG5cdFx0Y29sb3IgPSBjb2xvcnNbbmV4dE51bWJlciAtIDFdO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgdXNlclByb2ZpbGUgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX3Byb2ZpbGVcIl0pO1xyXG5cdGNvbnN0IHVzZXJBdmF0YXJCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcIm1haW4tcHJvZmlsZXNfX2F2YXRhclwiXSk7XHJcblx0Y29uc3QgdXNlclByb2ZpbGVCdG4gPSBjcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIFtcIm1haW4tcHJvZmlsZXNfX2J0blwiXSwge1xyXG5cdFx0XCJhcmlhLWxhYmVsXCI6IGFyaWFJbmZvLFxyXG5cdFx0XCJkYXRhLWlkXCI6IHByb2ZpbGVJZCxcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgdXNlclByb2ZpbGVJbmZvQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX191c2VyLWluZm9cIl0pO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlSW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBbXCJtYWluLXByb2ZpbGVzX19uYW1lXCJdLCB7XHJcblx0XHR0eXBlOiBcInRleHRcIixcclxuXHRcdHJlYWRvbmx5OiB0cnVlLFxyXG5cdFx0dmFsdWU6IHByb2ZpbGVOYW1lLFxyXG5cdH0pO1xyXG5cdGNvbnN0IG5hbWVCb3JkZXIgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJuYW1lLWJvcmRlclwiXSk7XHJcblx0Y29uc3QgZWRpdFVzZXJJbmZvQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJtYWluLXByb2ZpbGVzX19lZGl0LW5hbWVcIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiB1c2VyQnRuSW5mbyB9XHJcblx0KTtcclxuXHRjb25zdCByZW1vdmVVc2VyQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJtYWluLXByb2ZpbGVzX19yZW1vdmUtdXNlclwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHJlbW92ZUFyaWEgfVxyXG5cdCk7XHJcblx0Y29uc3QgcmVtb3ZlVXNlckljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX3JlbW92ZS1pY29uXCJdLCB7XHJcblx0XHR3aWR0aDogXCIyNFwiLFxyXG5cdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHRcdHNyYzogXCIuL3NyYy9pY29ucy9yZW1vdmUtcHJvZmlsZS1pY29uLnN2Z1wiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGVkaXRVc2VySW5mb0ljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcIm1haW4tcHJvZmlsZXNfX2VkaXQtaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRhbHQ6IFwiXCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvZWRpdC5zdmdcIixcclxuXHR9KTtcclxuXHJcblx0dXNlclByb2ZpbGVCdG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9XCJtYWluLXByb2ZpbGVzX19pbWdcIiB3aWR0aD1cIjE1MFwiIGhlaWdodD1cIjE1MFwiIHZpZXdCb3g9XCIwIDAgMjAwIDIwMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cclxuICAgIDxjaXJjbGUgY3g9XCI3MFwiIGN5PVwiNzBcIiByPVwiOFwiIGZpbGw9XCJ3aGl0ZVwiIC8+XHJcbiAgICA8Y2lyY2xlIGN4PVwiMTMwXCIgY3k9XCI3MFwiIHI9XCI4XCIgZmlsbD1cIndoaXRlXCIgLz5cclxuICAgIDxwYXRoIGQ9XCJNNjAgMTEwIFExMDAgMTUwIDE0MCAxMTBcIiBzdHJva2U9XCJ3aGl0ZVwiIHN0cm9rZS13aWR0aD1cIjZcIlxyXG4gICAgZmlsbD1cInRyYW5zcGFyZW50XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIC8+XHJcbiAgICA8L3N2Zz5gO1xyXG5cdHVzZXJQcm9maWxlQnRuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xyXG5cclxuXHR1c2VyQXZhdGFyQm94LmFwcGVuZCh1c2VyUHJvZmlsZUJ0bik7XHJcblx0ZWRpdFVzZXJJbmZvQnRuLmFwcGVuZChlZGl0VXNlckluZm9JY29uKTtcclxuXHRyZW1vdmVVc2VyQnRuLmFwcGVuZChyZW1vdmVVc2VySWNvbik7XHJcblx0dXNlclByb2ZpbGVJbmZvQm94LmFwcGVuZChcclxuXHRcdHVzZXJQcm9maWxlSW5mbyxcclxuXHRcdG5hbWVCb3JkZXIsXHJcblx0XHRlZGl0VXNlckluZm9CdG4sXHJcblx0XHRyZW1vdmVVc2VyQnRuXHJcblx0KTtcclxuXHR1c2VyUHJvZmlsZS5hcHBlbmQodXNlckF2YXRhckJveCwgdXNlclByb2ZpbGVJbmZvQm94KTtcclxuXHJcblx0aWYgKCFleGlzdGluZ1Byb2ZpbGVJZCkge1xyXG5cdFx0Y29uc3QgdXBkYXRlZFByb2ZpbGVzID0ge1xyXG5cdFx0XHQuLi5leGlzdGluZ1Byb2ZpbGVzLFxyXG5cdFx0XHRbcHJvZmlsZUlkXToge1xyXG5cdFx0XHRcdG5hbWU6IHByb2ZpbGVOYW1lLFxyXG5cdFx0XHR9LFxyXG5cdFx0fTtcclxuXHRcdHNldFVzZXJQcmVmZXJlbmNlKFwidXNlclByb2ZpbGVzXCIsIHVwZGF0ZWRQcm9maWxlcywgdXNlckRhdGEpO1xyXG5cdH1cclxuXHJcblx0ZWRpdFVzZXJJbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0ZWRpdFVzZXJuYW1lKGUsIHVzZXJQcm9maWxlSW5mb0JveCwgc2F2ZUJ0bkFyaWEsIGVtcHR5RmllbGRFcnJvcik7XHJcblx0fSk7XHJcblx0cmVtb3ZlVXNlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdHJlbW92ZVVzZXIoZSk7XHJcblx0fSk7XHJcblxyXG5cdHVzZXJQcm9maWxlSW5mby5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuXHRcdFx0c2F2ZVVzZXJuYW1lKGUsIGVtcHR5RmllbGRFcnJvcik7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0dXNlclByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiBzZXRDdXJyZW50UHJvZmlsZShlKSk7XHJcblxyXG5cdHVzZXJQcm9maWxlLmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG5cdHJldHVybiB1c2VyUHJvZmlsZTtcclxufTtcclxuLy8gd3liw7NyIHByb2ZpbHVcclxuY29uc3Qgc2V0Q3VycmVudFByb2ZpbGUgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHByb2ZpbGVEYXRhID0gZS50YXJnZXQuZGF0YXNldC5pZDtcclxuXHJcblx0c2V0VXNlclByZWZlcmVuY2UoXCJjdXJyZW50UHJvZmlsZVwiLCBwcm9maWxlRGF0YSwgdXNlckRhdGEpO1xyXG5cclxuXHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiYnJvd3NlLmh0bWxcIjtcclxufTtcclxuLy8ga29uaWVjIHd5Ym9ydSBwcm9maWx1XHJcblxyXG5jb25zdCBjcmVhdGVQcm9maWxlQWRkQnRuID0gKFxyXG5cdGFyaWFJbmZvLFxyXG5cdGluZm8sXHJcblx0dXNlckJ0bkFyaWEsXHJcblx0cHJvZmlsZXNCb3gsXHJcblx0dXNlckJ0bkluZm8sXHJcblx0c2F2ZUJ0bkFyaWEsXHJcblx0bWF4UHJvZmlsZXNFcnJvcixcclxuXHRlbXB0eUZpZWxkRXJyb3IsXHJcblx0cmVtb3ZlQXJpYVxyXG4pID0+IHtcclxuXHRjb25zdCBhZGRQcm9maWxlQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJtYWluLXByb2ZpbGVzX19hZGQtcHJvZmlsZVwiXSk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZUF2YXRhciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wibWFpbi1wcm9maWxlc19fYXZhdGFyXCJdKTtcclxuXHRjb25zdCBhZGRQcm9maWxlQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJtYWluLXByb2ZpbGVzX19idG5cIiwgXCJtYWluLXByb2ZpbGVzX19idG4tLWFkZC1wcm9maWxlXCJdLFxyXG5cdFx0eyBcImFyaWEtbGFiZWxcIjogYXJpYUluZm8gfVxyXG5cdCk7XHJcblx0Y29uc3QgYWRkUHJvZmlsZVBsdXNJY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19hZGQtaW1nXCJdLCB7XHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvYWRkLXByb2ZpbGUuc3ZnXCIsXHJcblx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdGFsdDogXCJcIixcclxuXHR9KTtcclxuXHRjb25zdCBhZGRQcm9maWxlSW5mbyA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcIm1haW4tcHJvZmlsZXNfX25hbWVcIl0pO1xyXG5cclxuXHRhZGRQcm9maWxlSW5mby50ZXh0Q29udGVudCA9IGluZm87XHJcblxyXG5cdGFkZFByb2ZpbGVCdG4uYXBwZW5kKGFkZFByb2ZpbGVQbHVzSWNvbik7XHJcblx0YWRkUHJvZmlsZUF2YXRhci5hcHBlbmQoYWRkUHJvZmlsZUJ0bik7XHJcblx0YWRkUHJvZmlsZUJveC5hcHBlbmQoYWRkUHJvZmlsZUF2YXRhciwgYWRkUHJvZmlsZUluZm8pO1xyXG5cclxuXHRhZGRQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRjb25zdCB1c2VyRGF0YSA9IGdldERhdGEoKTtcclxuXHRcdGNvbnN0IGV4aXN0aW5nUHJvZmlsZXMgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzIHx8IHt9O1xyXG5cclxuXHRcdGlmIChPYmplY3Qua2V5cyhleGlzdGluZ1Byb2ZpbGVzKS5sZW5ndGggPj0gMykge1xyXG5cdFx0XHRzaG93RXJyb3JQb3B1cChtYXhQcm9maWxlc0Vycm9yLCBcIiNkYzRhMzRcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBwcm9maWxlID0gY3JlYXRlUHJvZmlsZShcclxuXHRcdFx0dXNlckJ0bkFyaWEsXHJcblx0XHRcdHVzZXJCdG5JbmZvLFxyXG5cdFx0XHRzYXZlQnRuQXJpYSxcclxuXHRcdFx0ZW1wdHlGaWVsZEVycm9yLFxyXG5cdFx0XHRyZW1vdmVBcmlhXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChwcm9maWxlKSB7XHJcblx0XHRcdHByb2ZpbGVzQm94Lmluc2VydEJlZm9yZShwcm9maWxlLCBhZGRQcm9maWxlQm94KTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIGFkZFByb2ZpbGVCb3g7XHJcbn07XHJcblxyXG5jb25zdCBlZGl0VXNlcm5hbWUgPSAoZSwgcGFyZW50LCBzYXZlQnRuQXJpYSwgZW1wdHlGaWVsZEVycm9yKSA9PiB7XHJcblx0cmVzZXRTdGF0ZU9mRWRpdGluZyhlKTtcclxuXHJcblx0Y29uc3QgZWRpdEJ0biA9IGUudGFyZ2V0O1xyXG5cdGNvbnN0IG5hbWVUb0VkaXQgPSBlZGl0QnRuXHJcblx0XHQuY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpXHJcblx0XHQucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2ZpbGVzX19uYW1lXCIpO1xyXG5cclxuXHRjb25zdCBzYXZlQnRuID0gY3JlYXRlU2F2ZUJ0bihzYXZlQnRuQXJpYSk7XHJcblxyXG5cdGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRzYXZlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblxyXG5cdHBhcmVudC5hcHBlbmQoc2F2ZUJ0bik7XHJcblxyXG5cdG5hbWVUb0VkaXQuZm9jdXMoKTtcclxuXHRuYW1lVG9FZGl0LnNlbGVjdCgpO1xyXG5cdG5hbWVUb0VkaXQucmVtb3ZlQXR0cmlidXRlKFwicmVhZG9ubHlcIik7XHJcblx0bmFtZVRvRWRpdC5jbGFzc0xpc3QuYWRkKFwiZm9jdXNlZFwiKTtcclxuXHJcblx0c2F2ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdHNhdmVVc2VybmFtZShlLCBlbXB0eUZpZWxkRXJyb3IpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2F2ZVVzZXJuYW1lID0gKGUsIGVtcHR5RmllbGRFcnJvcikgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IGV4aXN0aW5nUHJvZmlsZXMgPSB1c2VyRGF0YT8udXNlclByb2ZpbGVzIHx8IFtdO1xyXG5cclxuXHRjb25zdCBzYXZlQnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGUgPSBzYXZlQnRuLmNsb3Nlc3QoXCIubWFpbi1wcm9maWxlc19fcHJvZmlsZVwiKTtcclxuXHRjb25zdCBjbG9zZXN0UHJvZmlsZUlkID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2ZpbGVzX19idG5cIilcclxuXHRcdC5kYXRhc2V0LmlkO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlTmFtZSA9IGNsb3Nlc3RQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcIi5tYWluLXByb2ZpbGVzX19uYW1lXCJcclxuXHQpO1xyXG5cclxuXHRjb25zdCBhbGxFZGl0QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCIpO1xyXG5cclxuXHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7XHJcblxyXG5cdGlmIChjbG9zZXN0UHJvZmlsZU5hbWUudmFsdWUudHJpbSgpID09PSBcIlwiKSB7XHJcblx0XHRhbGxFZGl0QnRucy5mb3JFYWNoKChidG4pID0+IGJ0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKSk7XHJcblx0XHRyZXR1cm4gc2hvd0Vycm9yUG9wdXAoZW1wdHlGaWVsZEVycm9yLCBcIiNGQUMwNDRcIik7XHJcblx0fVxyXG5cclxuXHRjb25zdCB1cGRhdGVkUHJvZmlsZXMgPSB7XHJcblx0XHQuLi5leGlzdGluZ1Byb2ZpbGVzLFxyXG5cdFx0W2Nsb3Nlc3RQcm9maWxlSWRdOiB7XHJcblx0XHRcdC4uLmV4aXN0aW5nUHJvZmlsZXNbY2xvc2VzdFByb2ZpbGVJZF0sXHJcblx0XHRcdG5hbWU6IGNsb3Nlc3RQcm9maWxlTmFtZS52YWx1ZSxcclxuXHRcdH0sXHJcblx0fTtcclxuXHJcblx0c2V0VXNlclByZWZlcmVuY2UoXCJ1c2VyUHJvZmlsZXNcIiwgdXBkYXRlZFByb2ZpbGVzLCB1c2VyRGF0YSk7XHJcblxyXG5cdHJlc2V0U3RhdGVPZkVkaXRpbmcoZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVTYXZlQnRuID0gKHNhdmVCdG5BcmlhKSA9PiB7XHJcblx0Y29uc3Qgc2F2ZVVzZXJJbmZvQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJtYWluLXByb2ZpbGVzX19zYXZlLW5hbWVcIiwgXCJoaWRkZW5cIl0sXHJcblx0XHR7IFwiYXJpYS1sYWJlbFwiOiBzYXZlQnRuQXJpYSB9XHJcblx0KTtcclxuXHRjb25zdCBzYXZlVXNlckluZm9JY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJtYWluLXByb2ZpbGVzX19zYXZlLWljb25cIl0sIHtcclxuXHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRoZWlnaHQ6IFwiMjRcIixcclxuXHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL3NhdmUuc3ZnXCIsXHJcblx0fSk7XHJcblxyXG5cdHNhdmVVc2VySW5mb0J0bi5hcHBlbmQoc2F2ZVVzZXJJbmZvSWNvbik7XHJcblxyXG5cdHJldHVybiBzYXZlVXNlckluZm9CdG47XHJcbn07XHJcblxyXG5jb25zdCByZXNldFN0YXRlT2ZFZGl0aW5nID0gKGUpID0+IHtcclxuXHRjb25zdCBmb2N1c2VkTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvY3VzZWRcIik7XHJcblx0Y29uc3QgYWxsU2F2ZUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX3NhdmUtbmFtZVwiKTtcclxuXHRjb25zdCBhbGxFZGl0QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1wcm9maWxlc19fZWRpdC1uYW1lXCIpO1xyXG5cclxuXHRmb2N1c2VkTmFtZXMuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdGVsLnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsIHRydWUpO1xyXG5cdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShcImZvY3VzZWRcIik7XHJcblx0XHRlbC5ibHVyKCk7XHJcblx0fSk7XHJcblx0YWxsU2F2ZUJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSk7XHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKSk7XHJcbn07XHJcblxyXG5sZXQgcG9wdXBWaXNpYmxlID0gZmFsc2U7XHJcbmV4cG9ydCBjb25zdCBzaG93RXJyb3JQb3B1cCA9ICh0ZXh0LCBjb2xvcikgPT4ge1xyXG5cdGlmIChwb3B1cFZpc2libGUpIHJldHVybjtcclxuXHRwb3B1cFZpc2libGUgPSB0cnVlO1xyXG5cclxuXHRjb25zdCByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5cclxuXHRjb25zdCBwb3B1cCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiZXJyb3ItcG9wdXBcIl0pO1xyXG5cdGNvbnN0IHBvcHVwRXJyb3IgPSBjcmVhdGVFbGVtZW50KFwicFwiLCBbXCJlcnJvci1wb3B1cF9fdGV4dFwiXSk7XHJcblxyXG5cdHBvcHVwRXJyb3IudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG5cdHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoXCItLWVycm9yVHh0Q29sb3JcIiwgY29sb3IpO1xyXG5cclxuXHRwb3B1cC5hcHBlbmQocG9wdXBFcnJvcik7XHJcblx0Y29udGFpbmVyLmFwcGVuZChwb3B1cCk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9LCAyMDAwKTtcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHBvcHVwLnJlbW92ZSgpO1xyXG5cdFx0cG9wdXBWaXNpYmxlID0gZmFsc2U7XHJcblx0fSwgSElERV9QT1BVUF9USU1FKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVVzZXIgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJEYXRhID0gZ2V0RGF0YSgpO1xyXG5cdGNvbnN0IHVzZXJQcm9maWxlcyA9IHVzZXJEYXRhPy51c2VyUHJvZmlsZXM7XHJcblx0Y29uc3QgYWxsRWRpdEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW4tcHJvZmlsZXNfX2VkaXQtbmFtZVwiKTtcclxuXHJcblx0Y29uc3QgZGVsZXRlQnRuID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgY2xvc2VzdFByb2ZpbGUgPSBkZWxldGVCdG4uY2xvc2VzdChcIi5tYWluLXByb2ZpbGVzX19wcm9maWxlXCIpO1xyXG5cdGNvbnN0IGNsb3Nlc3RQcm9maWxlQnRuID0gY2xvc2VzdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5tYWluLXByb2ZpbGVzX19idG5cIik7XHJcblx0YWxsRWRpdEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG5cclxuXHRkZWxldGUgdXNlclByb2ZpbGVzW2Nsb3Nlc3RQcm9maWxlQnRuLmRhdGFzZXQuaWRdO1xyXG5cclxuXHRzZXRVc2VyUHJlZmVyZW5jZShcInVzZXJQcm9maWxlc1wiLCB1c2VyUHJvZmlsZXMsIHVzZXJEYXRhKTtcclxuXHJcblx0Y2xvc2VzdFByb2ZpbGUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjbG9zZXN0UHJvZmlsZS5yZW1vdmUoKTtcclxuXHR9LCA0MDApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUJyb3dzZVBhZ2UgPSAoe1xyXG5cdGhlYWRlcjoge1xyXG5cdFx0YWx0OiB7IGxvZ28gfSxcclxuXHRcdGFyaWE6IHsgbG9nb0xpbmsgfSxcclxuXHR9LFxyXG5cdGJyb3dzZVBhZ2U6IHtcclxuXHRcdG5hbWVzOiB7IGZpbG1MaW5rLCBzZXJpZXNMaW5rLCBteUxpc3RMaW5rLCBzZWFyY2hMaW5rIH0sXHJcblx0XHRhcmlhOiB7IHVzZXJCdXR0b24gfSxcclxuXHR9LFxyXG59KSA9PiB7XHJcblx0Y29uc3QgaGVhZGVyID0gY3JlYXRlRWxlbWVudChcImhlYWRlclwiLCBbXCJicm93c2UtaGVhZGVyXCJdKTtcclxuXHRjb25zdCBsb2dvTWFpbkxpbmsgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogbG9nb0xpbmssXHJcblx0XHRocmVmOiBcIlwiLFxyXG5cdH0pO1xyXG5cdGNvbnN0IGxvZ29NYWluSW1nID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX19sb2dvLWltZ1wiXSwge1xyXG5cdFx0YWx0OiBsb2dvLFxyXG5cdFx0c3JjOiBcIi4vc3JjL2ljb25zL2xvZ28uc3ZnXCIsXHJcblx0fSk7XHJcblx0Y29uc3QgbWFpblRpdGxlID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1wiYnJvd3NlLWhlYWRlcl9fbG9nby10ZXh0XCJdKTtcclxuXHJcblx0bWFpblRpdGxlLnRleHRDb250ZW50ID0gXCJTdHJlYW1cIjtcclxuXHJcblx0bG9nb01haW5MaW5rLmFwcGVuZChsb2dvTWFpbkltZywgbWFpblRpdGxlKTtcclxuXHRoZWFkZXIuYXBwZW5kKFxyXG5cdFx0bG9nb01haW5MaW5rLFxyXG5cdFx0Y3JlYXRlQnJvd3Nlck5hdihmaWxtTGluaywgc2VyaWVzTGluaywgbXlMaXN0TGluaywgc2VhcmNoTGluayksXHJcblx0XHRjcmVhdGVVc2VyQnRuKHVzZXJCdXR0b24pXHJcblx0KTtcclxuXHJcblx0cmV0dXJuIGhlYWRlcjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUJyb3dzZXJOYXYgPSAoZmlsbUxpbmssIHNlcmllc0xpbmssIG15TGlzdExpbmssIHNlYXJjaExpbmspID0+IHtcclxuXHRjb25zdCBuYXYgPSBjcmVhdGVFbGVtZW50KFwibmF2XCIsIFtcImJyb3dzZS1oZWFkZXJfX25hdlwiXSk7XHJcblx0Y29uc3QgbmF2TGlua3MgPSBjcmVhdGVFbGVtZW50KFwidWxcIiwgW1wiYnJvd3NlLWhlYWRlcl9fbGlua3NcIl0pO1xyXG5cclxuXHRjb25zdCBsaW5rTmFtZXMgPSBbXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IGZpbG1MaW5rLFxyXG5cdFx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvZmlsbS1pY29uLnN2Z1wiLFxyXG5cdFx0fSxcclxuXHRcdHsgbmFtZTogc2VyaWVzTGluaywgc3JjOiBcIi4vc3JjL2ljb25zL3Nlcmllcy1pY29uLnN2Z1wiIH0sXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IG15TGlzdExpbmssXHJcblx0XHRcdHNyYzogXCIuL3NyYy9pY29ucy9saXN0LWljb24uc3ZnXCIsXHJcblx0XHR9LFxyXG5cdFx0eyBuYW1lOiBzZWFyY2hMaW5rLCBzcmM6IFwiLi9zcmMvaWNvbnMvc2VhcmNoLWljb24uc3ZnXCIgfSxcclxuXHRdO1xyXG5cclxuXHRsaW5rTmFtZXMuZm9yRWFjaCgobGluaykgPT4ge1xyXG5cdFx0Y29uc3QgbGlzdEl0ZW0gPSBjcmVhdGVFbGVtZW50KFwibGlcIiwgW1wiYnJvd3NlLWhlYWRlcl9faXRlbVwiXSk7XHJcblx0XHRjb25zdCBsaW5rRWwgPSBjcmVhdGVFbGVtZW50KFwiYVwiLCBbXCJicm93c2UtaGVhZGVyX19saW5rXCJdLCB7IGhyZWY6IFwiXCIgfSk7XHJcblx0XHRjb25zdCBpY29uID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtaGVhZGVyX19saW5rLWljb25cIl0sIHtcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRzcmM6IGxpbmsuc3JjLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IHRleHQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2UtaGVhZGVyX19saW5rLXRleHRcIl0pO1xyXG5cclxuXHRcdHRleHQudGV4dENvbnRlbnQgPSBsaW5rLm5hbWU7XHJcblxyXG5cdFx0bGlua0VsLmFwcGVuZChpY29uLCB0ZXh0KTtcclxuXHRcdGxpc3RJdGVtLmFwcGVuZChsaW5rRWwpO1xyXG5cclxuXHRcdG5hdkxpbmtzLmFwcGVuZChsaXN0SXRlbSk7XHJcblx0fSk7XHJcblxyXG5cdG5hdi5hcHBlbmQobmF2TGlua3MpO1xyXG5cclxuXHRyZXR1cm4gbmF2O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVXNlckJ0biA9ICh1c2VyQnRuQXJpYSkgPT4ge1xyXG5cdGNvbnN0IHVzZXJCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXItYm94XCJdKTtcclxuXHRjb25zdCB1c2VyQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJicm93c2UtaGVhZGVyX191c2VyXCJdLCB7XHJcblx0XHRcImFyaWEtbGFiZWxcIjogdXNlckJ0bkFyaWEsXHJcblx0fSk7XHJcblx0Y29uc3QgdXNlckljb24gPSBjcmVhdGVFbGVtZW50KFwiaW1nXCIsIFtcImJyb3dzZS1oZWFkZXJfX3VzZXItaWNvblwiXSwge1xyXG5cdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRzcmM6IFwiLi9zcmMvaWNvbnMvdXNlci1pY29uLnN2Z1wiLFxyXG5cdFx0YWx0OiBcIlwiLFxyXG5cdH0pO1xyXG5cclxuXHR1c2VyQnRuLmFwcGVuZCh1c2VySWNvbik7XHJcblx0dXNlckJveC5hcHBlbmQodXNlckJ0bik7XHJcblxyXG5cdHJldHVybiB1c2VyQm94O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1haW5IZXJvU2VjdGlvbiA9IChtb3ZpZXMsIHRyYW5zbGF0aW9ucywgcGFyZW50KSA9PiB7XHJcblx0Y29uc3QgYnJvd3NlTWFpbiA9IGNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIFtcImJyb3dzZS1tYWluXCJdKTtcclxuXHRjb25zdCBicm93c2VNYWluU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIFtcclxuXHRcdFwiYnJvd3NlLW1haW5fX2hlcm8tc2VjdGlvblwiLFxyXG5cdF0pO1xyXG5cdGNvbnN0IGltYWdlc0Nhcm91c2VsbCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1xyXG5cdFx0XCJicm93c2UtbWFpbl9faW1hZ2UtY2Fyb3VzZWxsXCIsXHJcblx0XSk7XHJcblx0Y29uc3QgaW1hZ2VzSW5zaWRlU2xpZGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9faW1hZ2VzXCJdKTtcclxuXHRtb3ZpZXMuZm9yRWFjaCgoeyBpZCwgdGl0bGUsIG92ZXJ2aWV3ID0gXCJcIiwgYmFja2Ryb3BfcGF0aCB9KSA9PiB7XHJcblx0XHRjb25zdCBpbWdTcmMgPSBiYWNrZHJvcF9wYXRoO1xyXG5cdFx0Y29uc3QgaW1hZ2VCb3ggPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFtcImJyb3dzZS1tYWluX19pbWctYm94XCJdKTtcclxuXHRcdGNvbnN0IGltYWdlID0gY3JlYXRlRWxlbWVudChcImltZ1wiLCBbXCJicm93c2UtbWFpbl9faW1nXCJdLCB7XHJcblx0XHRcdGFsdDogYCR7dHJhbnNsYXRpb25zPy5icm93c2VQYWdlPy5jYXJvdXNlbGxJbWFnZXM/LmFyaWEuY2Fyb3VzZWxsSW1hZ2VBbHR9ICR7dGl0bGV9YCxcclxuXHRcdFx0c3JjOiBpbWdTcmNcclxuXHRcdFx0XHQ/IGdldEltYWdlVXJsKGltZ1NyYywgXCJvcmlnaW5hbFwiKVxyXG5cdFx0XHRcdDogXCIuL2Rpc3QvaW1nL2ltZy1wbGFjZWhvbGRlci5zdmdcIixcclxuXHRcdH0pO1xyXG5cdFx0Y29uc3QgdGV4dEJveCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLW1haW5fX3RleHQtYm94XCJdKTtcclxuXHRcdGNvbnN0IGZpbG1UaXRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJoMlwiLCBbXCJicm93c2UtbWFpbl9fY2Fyb3VzZWxsLXRpdGxlXCJdKTtcclxuXHRcdGNvbnN0IGZpbG1JbmZvID0gY3JlYXRlRWxlbWVudChcInBcIiwgW1wiYnJvd3NlLW1haW5fX2Nhcm91c2VsbC1vdmVydmlld1wiXSwge1xyXG5cdFx0XHR0YWJpbmRleDogLTEsXHJcblx0XHR9KTtcclxuXHJcblx0XHRmaWxtVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHRcdGZpbG1JbmZvLnRleHRDb250ZW50ID0gb3ZlcnZpZXc7XHJcblxyXG5cdFx0dGV4dEJveC5hcHBlbmQoZmlsbVRpdGxlLCBmaWxtSW5mbywgY3JlYXRlQWN0aW9uQnV0dG9ucyhpZCwgdHJhbnNsYXRpb25zKSk7XHJcblx0XHRpbWFnZUJveC5hcHBlbmQoaW1hZ2UsIHRleHRCb3gpO1xyXG5cdFx0aW1hZ2VzSW5zaWRlU2xpZGVyLmFwcGVuZChpbWFnZUJveCk7XHJcblx0XHRpbWFnZXNDYXJvdXNlbGwuYXBwZW5kKGltYWdlc0luc2lkZVNsaWRlcik7XHJcblxyXG5cdFx0YnJvd3NlTWFpblNlY3Rpb24uYXBwZW5kKGltYWdlc0Nhcm91c2VsbCk7XHJcblx0XHRicm93c2VNYWluLmFwcGVuZChicm93c2VNYWluU2VjdGlvbik7XHJcblxyXG5cdFx0cGFyZW50LmFwcGVuZChicm93c2VNYWluKTtcclxuXHR9KTtcclxuXHJcblx0aW1hZ2VzQ2Fyb3VzZWxsLmFwcGVuZChjcmVhdGVDYXJvdXNlbGxDb250cm9scyhtb3ZpZXMsIHRyYW5zbGF0aW9ucykpO1xyXG59O1xyXG5jb25zdCBjcmVhdGVBY3Rpb25CdXR0b25zID0gKFxyXG5cdGlkLFxyXG5cdHtcclxuXHRcdGJyb3dzZVBhZ2U6IHtcclxuXHRcdFx0YWN0aW9uQnRuczogeyB0cmFpbGVyQnRuVGV4dCwgbW9yZUluZm9CdG5UZXh0IH0sXHJcblx0XHR9LFxyXG5cdH1cclxuKSA9PiB7XHJcblx0Y29uc3QgYWN0aW9uQnRuc1BhbmVsID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2UtbWFpbl9fYWN0aW9uLWJ0bnNcIl0pO1xyXG5cdGNvbnN0IHNob3dUcmFpbGVyQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJicm93c2UtbWFpbl9fdHJhaWxlci1idG5cIl0sIHtcclxuXHRcdFwiZGF0YS10cmFpbGVyXCI6IGlkLFxyXG5cdH0pO1xyXG5cdGNvbnN0IHNob3dUcmFpbGVyVGV4dCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFtcImJyb3dzZS1tYWluX19zZWUtdHJhaWxlclwiXSk7XHJcblx0Y29uc3Qgc2VlTW9yZUJ0biA9IGNyZWF0ZUVsZW1lbnQoXCJhXCIsIFtcImJyb3dzZS1tYWluX19zZWUtbW9yZS1idG5cIl0sIHtcclxuXHRcdFwiZGF0YS1tb3ZpZVwiOiBpZCxcclxuXHRcdGhyZWY6IFwiXCIsXHJcblx0fSk7XHJcblxyXG5cdHNob3dUcmFpbGVyVGV4dC50ZXh0Q29udGVudCA9IHRyYWlsZXJCdG5UZXh0O1xyXG5cdHNlZU1vcmVCdG4udGV4dENvbnRlbnQgPSBtb3JlSW5mb0J0blRleHQ7XHJcblxyXG5cdHNob3dUcmFpbGVyQnRuLmlubmVySFRNTCA9IGA8c3ZnIGNsYXNzPVwiYnJvd3NlLW1haW5fX3RyYWlsZXItcGxheS1pY29uXCJcclxuXHR4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCJcclxuXHR2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIiMwMDBcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiXHJcblx0c3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcclxuXHRjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1wbGF5XCI+XHJcblx0PHBvbHlnb24gcG9pbnRzPVwiNSAzIDE5IDEyIDUgMjEgNSAzXCI+PC9wb2x5Z29uPlxyXG5cdDwvc3ZnPmA7XHJcblxyXG5cdHNob3dUcmFpbGVyQnRuLmFwcGVuZChzaG93VHJhaWxlclRleHQpO1xyXG5cclxuXHRhY3Rpb25CdG5zUGFuZWwuYXBwZW5kKHNob3dUcmFpbGVyQnRuLCBzZWVNb3JlQnRuKTtcclxuXHJcblx0cmV0dXJuIGFjdGlvbkJ0bnNQYW5lbDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcm91c2VsbENvbnRyb2xzID0gKFxyXG5cdG1vdmllcyxcclxuXHR7XHJcblx0XHRicm93c2VQYWdlOiB7XHJcblx0XHRcdGNhcm91c2VsbEJ0bnM6IHsgYXJpYSB9LFxyXG5cdFx0fSxcclxuXHR9XHJcbikgPT4ge1xyXG5cdGNvbnN0IGNhcm91c2VsbENvbnRyb2xzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXHJcblx0XHRcImJyb3dzZS1tYWluX19jYXJvdXNlbGwtY29udHJvbHNcIixcclxuXHRdKTtcclxuXHJcblx0bW92aWVzLmZvckVhY2goKG1vdmllLCBpbmRleCkgPT4ge1xyXG5cdFx0Y29uc3QgY2Fyb3VzZWxsQnRuID0gY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCBbXCJicm93c2UtbWFpbl9fYnRuXCJdLCB7XHJcblx0XHRcdFwiZGF0YS1pbWdcIjogaW5kZXgsXHJcblx0XHRcdFwiYXJpYS1sYWJlbFwiOiBgJHthcmlhfSAke2luZGV4fWAsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IGNhcm91c2VsbEJ0blByb2dyZXNzQmFyID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgW1xyXG5cdFx0XHRcImJyb3dzZS1tYWluX19wcm9ncmVzcy1iYXJcIixcclxuXHRcdF0pO1xyXG5cclxuXHRcdGNhcm91c2VsbEJ0bi5hcHBlbmQoY2Fyb3VzZWxsQnRuUHJvZ3Jlc3NCYXIpO1xyXG5cclxuXHRcdGNhcm91c2VsbENvbnRyb2xzLmFwcGVuZChjYXJvdXNlbGxCdG4pO1xyXG5cdH0pO1xyXG5cdHJldHVybiBjYXJvdXNlbGxDb250cm9scztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWxtU2xpZGVyID0gKGZpbG1zLCB0cmFuc2xhdGlvbnMsIGluZGV4LCB0aXRsZSkgPT4ge1xyXG5cdGNvbnN0IHByb3BlckZpbG1zID0gZmlsbXNbaW5kZXhdLnJlc3VsdHM7XHJcblxyXG5cdGNvbnN0IGJyb3dzZVNlY3Rpb24gPSBjcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCBbXCJicm93c2Utc2VjdGlvblwiXSk7XHJcblx0Y29uc3Qgc2VjdGlvblRpdGxlID0gY3JlYXRlRWxlbWVudChcImgzXCIsIFtcImJyb3dzZS1zZWN0aW9uX190aXRsZVwiXSk7XHJcblx0Y29uc3Qgc2VjdGlvblNsaWRlciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlclwiXSwge1xyXG5cdFx0XCJkYXRhLWluZGV4XCI6IDAsXHJcblx0fSk7XHJcblx0Y29uc3Qgc2VjdGlvbkltYWdlcyA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgW1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWFnZXNcIl0pO1xyXG5cclxuXHRjb25zdCBzaG93UHJldlNsaWRlQnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFwiYnV0dG9uXCIsXHJcblx0XHRbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJ0blwiLCBcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItcHJldi1idG5cIl0sXHJcblx0XHR7XHJcblx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LnNob3dQcmV2U2xpZGVCdG5cclxuXHRcdH1cclxuXHQpO1xyXG5cdGNvbnN0IHNob3dOZXh0U2xpZGVCdG4gPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XCJidXR0b25cIixcclxuXHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItYnRuXCIsIFwiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1uZXh0LWJ0blwiXSxcclxuXHRcdHsgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0aW9ucz8uYnJvd3NlU2VjdGlvbj8uYXJpYT8uc2hvd05leHRTbGlkZUJ0biB9XHJcblx0KTtcclxuXHRjb25zdCBzaG93UHJldlNsaWRlSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG4taWNvblwiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tbGVmdC5zdmdcIixcclxuXHRcdFx0d2lkdGg6IFwiMjRcIixcclxuXHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxyXG5cdFx0XHRhbHQ6IFwiXCIsXHJcblx0XHR9XHJcblx0KTtcclxuXHRjb25zdCBzaG93TmV4dFNsaWRlSWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcImltZ1wiLFxyXG5cdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1idG4taWNvblwiXSxcclxuXHRcdHtcclxuXHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2NoZXZyb24tcmlnaHQuc3ZnXCIsXHJcblx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdGhlaWdodDogXCIyNFwiLFxyXG5cdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0fVxyXG5cdCk7XHJcblxyXG5cdHNlY3Rpb25UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuXHRzaG93TmV4dFNsaWRlQnRuLmFwcGVuZChzaG93TmV4dFNsaWRlSWNvbik7XHJcblx0c2hvd1ByZXZTbGlkZUJ0bi5hcHBlbmQoc2hvd1ByZXZTbGlkZUljb24pO1xyXG5cclxuXHRjcmVhdGVGaWxtUG9zdGVycyhwcm9wZXJGaWxtcywgdHJhbnNsYXRpb25zLCBzZWN0aW9uSW1hZ2VzKTtcclxuXHJcblx0c2VjdGlvblNsaWRlci5hcHBlbmQoc2VjdGlvbkltYWdlcywgc2hvd1ByZXZTbGlkZUJ0biwgc2hvd05leHRTbGlkZUJ0bik7XHJcblx0YnJvd3NlU2VjdGlvbi5hcHBlbmQoc2VjdGlvblRpdGxlLCBzZWN0aW9uU2xpZGVyKTtcclxuXHJcblx0cmV0dXJuIGJyb3dzZVNlY3Rpb247XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVGaWxtUG9zdGVycyA9IChwcm9wZXJGaWxtcywgdHJhbnNsYXRpb25zLCBwYXJlbnQpID0+IHtcclxuXHRwcm9wZXJGaWxtcy5mb3JFYWNoKCh7IGlkLCB0aXRsZSwgcG9zdGVyX3BhdGggfSkgPT4ge1xyXG5cdFx0Y29uc3QgaW1nU3JjID0gcG9zdGVyX3BhdGg7XHJcblx0XHRjb25zdCBzZWN0aW9uQm94ID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBbXCJicm93c2Utc2VjdGlvbl9fc2xpZGVyLWJveFwiXSk7XHJcblxyXG5cdFx0Y29uc3Qgc2VjdGlvbkxpbmsgPSBjcmVhdGVFbGVtZW50KFxyXG5cdFx0XHRcImFcIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX3NsaWRlci1pbWctbGlua1wiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGhyZWY6IFwiYnJvd3NlLmh0bWxcIixcclxuXHRcdFx0XHRcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRpb25zPy5icm93c2VTZWN0aW9uPy5hcmlhPy5zaG93TW9yZUluZm9BYm91dEZpbG0sXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uRmlsbVBvc3RlciA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19zbGlkZXItaW1nXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YWx0OiBgJHt0cmFuc2xhdGlvbnM/LmJyb3dzZVBhZ2U/LmNhcm91c2VsbEltYWdlcz8uYXJpYT8uY2Fyb3VzZWxsSW1hZ2VBbHR9ICR7dGl0bGV9YCxcclxuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcclxuXHRcdFx0XHR3aWR0aDogXCJcIixcclxuXHRcdFx0XHRoZWlnaHQ6IFwiXCIsXHJcblx0XHRcdFx0c3JjOiBpbWdTcmNcclxuXHRcdFx0XHRcdD8gZ2V0SW1hZ2VVcmwoaW1nU3JjLCBcIm9yaWdpbmFsXCIpXHJcblx0XHRcdFx0XHQ6IFwiLi9kaXN0L2ltZy9pbWctcGxhY2Vob2xkZXIuc3ZnXCIsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0QnRuID0gY3JlYXRlRWxlbWVudChcclxuXHRcdFx0XCJidXR0b25cIixcclxuXHRcdFx0W1wiYnJvd3NlLXNlY3Rpb25fX2FkZC10by1saXN0LWJ0blwiXSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiYXJpYS1sYWJlbFwiOiB0cmFuc2xhdGlvbnM/LmJyb3dzZVNlY3Rpb24/LmFyaWE/LmFkZFRvTGlzdEJ0bixcclxuXHRcdFx0XHRcImRhdGEtbW92aWVcIjogaWQsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRjb25zdCBzZWN0aW9uQWRkVG9MaXN0SWNvbiA9IGNyZWF0ZUVsZW1lbnQoXHJcblx0XHRcdFwiaW1nXCIsXHJcblx0XHRcdFtcImJyb3dzZS1zZWN0aW9uX19hZGQtdG8tbGlzdC1pY29uXCJdLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0c3JjOiBcIi4vc3JjL2ljb25zL2FkZC1wcm9maWxlLnN2Z1wiLFxyXG5cdFx0XHRcdHdpZHRoOiBcIjI0XCIsXHJcblx0XHRcdFx0aGVpZ2h0OiBcIjI0XCIsXHJcblx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXHJcblx0XHRcdFx0YWx0OiBcIlwiLFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0Y29uc3Qgc2VjdGlvblRvb2x0aXAgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBbXCJicm93c2Utc2VjdGlvbl9fdG9vbHRpcFwiXSk7XHJcblxyXG5cdFx0c2VjdGlvblRvb2x0aXAudGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvbnMuYnJvd3NlU2VjdGlvbi5pbmZvO1xyXG5cclxuXHRcdHNlY3Rpb25BZGRUb0xpc3RCdG4uYXBwZW5kKHNlY3Rpb25BZGRUb0xpc3RJY29uKTtcclxuXHJcblx0XHRzZWN0aW9uTGluay5hcHBlbmQoc2VjdGlvbkZpbG1Qb3N0ZXIpO1xyXG5cclxuXHRcdHNlY3Rpb25Cb3guYXBwZW5kKHNlY3Rpb25MaW5rLCBzZWN0aW9uQWRkVG9MaXN0QnRuLCBzZWN0aW9uVG9vbHRpcCk7XHJcblxyXG5cdFx0cGFyZW50LmFwcGVuZChzZWN0aW9uQm94KTtcclxuXHR9KTtcclxufTtcclxuIl19
